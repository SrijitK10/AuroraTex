var RA=Object.defineProperty;var QA=(s,e,n)=>e in s?RA(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var Fn=(s,e,n)=>(QA(s,typeof e!="symbol"?e+"":e,n),n),Hm=(s,e,n)=>{if(!e.has(s))throw TypeError("Cannot "+n)};var N=(s,e,n)=>(Hm(s,e,"read from private field"),n?n.call(s):e.get(s)),ke=(s,e,n)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,n)},Ie=(s,e,n,r)=>(Hm(s,e,"write to private field"),r?r.call(s,n):e.set(s,n),n);var Cc=(s,e,n,r)=>({set _(a){Ie(s,e,a,n)},get _(){return N(s,e,r)}}),Re=(s,e,n)=>(Hm(s,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var a=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return s[r]}})}),n}var jsxDevRuntime={exports:{}},reactJsxDevRuntime_development={},react={exports:{}},react_development={exports:{}};/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */react_development.exports;(function(s,e){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n="18.3.1",r=Symbol.for("react.element"),a=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),O=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),$=Symbol.iterator,V="@@iterator";function X(b){if(b===null||typeof b!="object")return null;var P=$&&b[$]||b[V];return typeof P=="function"?P:null}var Y={current:null},G={transition:null},L={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},I={current:null},ee={},ne=null;function z(b){ne=b}ee.setExtraStackFrame=function(b){ne=b},ee.getCurrentStack=null,ee.getStackAddendum=function(){var b="";ne&&(b+=ne);var P=ee.getCurrentStack;return P&&(b+=P()||""),b};var ae=!1,H=!1,fe=!1,me=!1,se=!1,Se={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:G,ReactCurrentOwner:I};Se.ReactDebugCurrentFrame=ee,Se.ReactCurrentActQueue=L;function Ae(b){{for(var P=arguments.length,_=new Array(P>1?P-1:0),Z=1;Z<P;Z++)_[Z-1]=arguments[Z];de("warn",b,_)}}function Pe(b){{for(var P=arguments.length,_=new Array(P>1?P-1:0),Z=1;Z<P;Z++)_[Z-1]=arguments[Z];de("error",b,_)}}function de(b,P,_){{var Z=Se.ReactDebugCurrentFrame,re=Z.getStackAddendum();re!==""&&(P+="%s",_=_.concat([re]));var ce=_.map(function(ge){return String(ge)});ce.unshift("Warning: "+P),Function.prototype.apply.call(console[b],console,ce)}}var Fe={};function Ke(b,P){{var _=b.constructor,Z=_&&(_.displayName||_.name)||"ReactClass",re=Z+"."+P;if(Fe[re])return;Pe("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",P,Z),Fe[re]=!0}}var ct={isMounted:function(b){return!1},enqueueForceUpdate:function(b,P,_){Ke(b,"forceUpdate")},enqueueReplaceState:function(b,P,_,Z){Ke(b,"replaceState")},enqueueSetState:function(b,P,_,Z){Ke(b,"setState")}},it=Object.assign,te={};Object.freeze(te);function D(b,P,_){this.props=b,this.context=P,this.refs=te,this.updater=_||ct}D.prototype.isReactComponent={},D.prototype.setState=function(b,P){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,P,"setState")},D.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};{var F={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},j=function(b,P){Object.defineProperty(D.prototype,b,{get:function(){Ae("%s(...) is deprecated in plain JavaScript React classes. %s",P[0],P[1])}})};for(var W in F)F.hasOwnProperty(W)&&j(W,F[W])}function K(){}K.prototype=D.prototype;function le(b,P,_){this.props=b,this.context=P,this.refs=te,this.updater=_||ct}var pe=le.prototype=new K;pe.constructor=le,it(pe,D.prototype),pe.isPureReactComponent=!0;function xe(){var b={current:null};return Object.seal(b),b}var $e=Array.isArray;function _e(b){return $e(b)}function Be(b){{var P=typeof Symbol=="function"&&Symbol.toStringTag,_=P&&b[Symbol.toStringTag]||b.constructor.name||"Object";return _}}function Ue(b){try{return ot(b),!1}catch{return!0}}function ot(b){return""+b}function qe(b){if(Ue(b))return Pe("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Be(b)),ot(b)}function Ct(b,P,_){var Z=b.displayName;if(Z)return Z;var re=P.displayName||P.name||"";return re!==""?_+"("+re+")":_}function Nt(b){return b.displayName||"Context"}function gt(b){if(b==null)return null;if(typeof b.tag=="number"&&Pe("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case c:return"Fragment";case a:return"Portal";case f:return"Profiler";case u:return"StrictMode";case x:return"Suspense";case T:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case O:var P=b;return Nt(P)+".Consumer";case d:var _=b;return Nt(_._context)+".Provider";case g:return Ct(b,b.render,"ForwardRef");case E:var Z=b.displayName||null;return Z!==null?Z:gt(b.type)||"Memo";case R:{var re=b,ce=re._payload,ge=re._init;try{return gt(ge(ce))}catch{return null}}}return null}var Pt=Object.prototype.hasOwnProperty,tt={key:!0,ref:!0,__self:!0,__source:!0},De,Me,We;We={};function bt(b){if(Pt.call(b,"ref")){var P=Object.getOwnPropertyDescriptor(b,"ref").get;if(P&&P.isReactWarning)return!1}return b.ref!==void 0}function ht(b){if(Pt.call(b,"key")){var P=Object.getOwnPropertyDescriptor(b,"key").get;if(P&&P.isReactWarning)return!1}return b.key!==void 0}function It(b,P){var _=function(){De||(De=!0,Pe("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",P))};_.isReactWarning=!0,Object.defineProperty(b,"key",{get:_,configurable:!0})}function Mt(b,P){var _=function(){Me||(Me=!0,Pe("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",P))};_.isReactWarning=!0,Object.defineProperty(b,"ref",{get:_,configurable:!0})}function Bt(b){if(typeof b.ref=="string"&&I.current&&b.__self&&I.current.stateNode!==b.__self){var P=gt(I.current.type);We[P]||(Pe('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',P,b.ref),We[P]=!0)}}var et=function(b,P,_,Z,re,ce,ge){var ve={$$typeof:r,type:b,key:P,ref:_,props:ge,_owner:ce};return ve._store={},Object.defineProperty(ve._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ve,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Z}),Object.defineProperty(ve,"_source",{configurable:!1,enumerable:!1,writable:!1,value:re}),Object.freeze&&(Object.freeze(ve.props),Object.freeze(ve)),ve};function St(b,P,_){var Z,re={},ce=null,ge=null,ve=null,Ne=null;if(P!=null){bt(P)&&(ge=P.ref,Bt(P)),ht(P)&&(qe(P.key),ce=""+P.key),ve=P.__self===void 0?null:P.__self,Ne=P.__source===void 0?null:P.__source;for(Z in P)Pt.call(P,Z)&&!tt.hasOwnProperty(Z)&&(re[Z]=P[Z])}var Xe=arguments.length-2;if(Xe===1)re.children=_;else if(Xe>1){for(var ze=Array(Xe),Qe=0;Qe<Xe;Qe++)ze[Qe]=arguments[Qe+2];Object.freeze&&Object.freeze(ze),re.children=ze}if(b&&b.defaultProps){var ut=b.defaultProps;for(Z in ut)re[Z]===void 0&&(re[Z]=ut[Z])}if(ce||ge){var vt=typeof b=="function"?b.displayName||b.name||"Unknown":b;ce&&It(re,vt),ge&&Mt(re,vt)}return et(b,ce,ge,ve,Ne,I.current,re)}function Et(b,P){var _=et(b.type,P,b.ref,b._self,b._source,b._owner,b.props);return _}function Lt(b,P,_){if(b==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Z,re=it({},b.props),ce=b.key,ge=b.ref,ve=b._self,Ne=b._source,Xe=b._owner;if(P!=null){bt(P)&&(ge=P.ref,Xe=I.current),ht(P)&&(qe(P.key),ce=""+P.key);var ze;b.type&&b.type.defaultProps&&(ze=b.type.defaultProps);for(Z in P)Pt.call(P,Z)&&!tt.hasOwnProperty(Z)&&(P[Z]===void 0&&ze!==void 0?re[Z]=ze[Z]:re[Z]=P[Z])}var Qe=arguments.length-2;if(Qe===1)re.children=_;else if(Qe>1){for(var ut=Array(Qe),vt=0;vt<Qe;vt++)ut[vt]=arguments[vt+2];re.children=ut}return et(b.type,ce,ge,ve,Ne,Xe,re)}function Ve(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}var Te=".",we=":";function Je(b){var P=/[=:]/g,_={"=":"=0",":":"=2"},Z=b.replace(P,function(re){return _[re]});return"$"+Z}var Ge=!1,nn=/\/+/g;function Ht(b){return b.replace(nn,"$&/")}function Ce(b,P){return typeof b=="object"&&b!==null&&b.key!=null?(qe(b.key),Je(""+b.key)):P.toString(36)}function Ot(b,P,_,Z,re){var ce=typeof b;(ce==="undefined"||ce==="boolean")&&(b=null);var ge=!1;if(b===null)ge=!0;else switch(ce){case"string":case"number":ge=!0;break;case"object":switch(b.$$typeof){case r:case a:ge=!0}}if(ge){var ve=b,Ne=re(ve),Xe=Z===""?Te+Ce(ve,0):Z;if(_e(Ne)){var ze="";Xe!=null&&(ze=Ht(Xe)+"/"),Ot(Ne,P,ze,"",function(hn){return hn})}else Ne!=null&&(Ve(Ne)&&(Ne.key&&(!ve||ve.key!==Ne.key)&&qe(Ne.key),Ne=Et(Ne,_+(Ne.key&&(!ve||ve.key!==Ne.key)?Ht(""+Ne.key)+"/":"")+Xe)),P.push(Ne));return 1}var Qe,ut,vt=0,_t=Z===""?Te:Z+we;if(_e(b))for(var Ft=0;Ft<b.length;Ft++)Qe=b[Ft],ut=_t+Ce(Qe,Ft),vt+=Ot(Qe,P,_,ut,re);else{var ln=X(b);if(typeof ln=="function"){var mn=b;ln===mn.entries&&(Ge||Ae("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Ge=!0);for(var On=ln.call(mn),An,jn=0;!(An=On.next()).done;)Qe=An.value,ut=_t+Ce(Qe,jn++),vt+=Ot(Qe,P,_,ut,re)}else if(ce==="object"){var xn=String(b);throw new Error("Objects are not valid as a React child (found: "+(xn==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":xn)+"). If you meant to render a collection of children, use an array instead.")}}return vt}function Qt(b,P,_){if(b==null)return b;var Z=[],re=0;return Ot(b,Z,"","",function(ce){return P.call(_,ce,re++)}),Z}function kt(b){var P=0;return Qt(b,function(){P++}),P}function $t(b,P,_){Qt(b,function(){P.apply(this,arguments)},_)}function jt(b){return Qt(b,function(P){return P})||[]}function rn(b){if(!Ve(b))throw new Error("React.Children.only expected to receive a single React element child.");return b}function ft(b){var P={$$typeof:O,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};P.Provider={$$typeof:d,_context:P};var _=!1,Z=!1,re=!1;{var ce={$$typeof:O,_context:P};Object.defineProperties(ce,{Provider:{get:function(){return Z||(Z=!0,Pe("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),P.Provider},set:function(ge){P.Provider=ge}},_currentValue:{get:function(){return P._currentValue},set:function(ge){P._currentValue=ge}},_currentValue2:{get:function(){return P._currentValue2},set:function(ge){P._currentValue2=ge}},_threadCount:{get:function(){return P._threadCount},set:function(ge){P._threadCount=ge}},Consumer:{get:function(){return _||(_=!0,Pe("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),P.Consumer}},displayName:{get:function(){return P.displayName},set:function(ge){re||(Ae("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",ge),re=!0)}}}),P.Consumer=ce}return P._currentRenderer=null,P._currentRenderer2=null,P}var Kt=-1,Dt=0,ye=1,B=2;function oe(b){if(b._status===Kt){var P=b._result,_=P();if(_.then(function(ce){if(b._status===Dt||b._status===Kt){var ge=b;ge._status=ye,ge._result=ce}},function(ce){if(b._status===Dt||b._status===Kt){var ge=b;ge._status=B,ge._result=ce}}),b._status===Kt){var Z=b;Z._status=Dt,Z._result=_}}if(b._status===ye){var re=b._result;return re===void 0&&Pe(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,re),"default"in re||Pe(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,re),re.default}else throw b._result}function q(b){var P={_status:Kt,_result:b},_={$$typeof:R,_payload:P,_init:oe};{var Z,re;Object.defineProperties(_,{defaultProps:{configurable:!0,get:function(){return Z},set:function(ce){Pe("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Z=ce,Object.defineProperty(_,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return re},set:function(ce){Pe("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),re=ce,Object.defineProperty(_,"propTypes",{enumerable:!0})}}})}return _}function he(b){b!=null&&b.$$typeof===E?Pe("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof b!="function"?Pe("forwardRef requires a render function but was given %s.",b===null?"null":typeof b):b.length!==0&&b.length!==2&&Pe("forwardRef render functions accept exactly two parameters: props and ref. %s",b.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),b!=null&&(b.defaultProps!=null||b.propTypes!=null)&&Pe("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var P={$$typeof:g,render:b};{var _;Object.defineProperty(P,"displayName",{enumerable:!1,configurable:!0,get:function(){return _},set:function(Z){_=Z,!b.name&&!b.displayName&&(b.displayName=Z)}})}return P}var be;be=Symbol.for("react.module.reference");function Ee(b){return!!(typeof b=="string"||typeof b=="function"||b===c||b===f||se||b===u||b===x||b===T||me||b===M||ae||H||fe||typeof b=="object"&&b!==null&&(b.$$typeof===R||b.$$typeof===E||b.$$typeof===d||b.$$typeof===O||b.$$typeof===g||b.$$typeof===be||b.getModuleId!==void 0))}function Ze(b,P){Ee(b)||Pe("memo: The first argument must be a component. Instead received: %s",b===null?"null":typeof b);var _={$$typeof:E,type:b,compare:P===void 0?null:P};{var Z;Object.defineProperty(_,"displayName",{enumerable:!1,configurable:!0,get:function(){return Z},set:function(re){Z=re,!b.name&&!b.displayName&&(b.displayName=re)}})}return _}function rt(){var b=Y.current;return b===null&&Pe(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),b}function at(b){var P=rt();if(b._context!==void 0){var _=b._context;_.Consumer===b?Pe("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):_.Provider===b&&Pe("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return P.useContext(b)}function wt(b){var P=rt();return P.useState(b)}function xt(b,P,_){var Z=rt();return Z.useReducer(b,P,_)}function dt(b){var P=rt();return P.useRef(b)}function Rt(b,P){var _=rt();return _.useEffect(b,P)}function zt(b,P){var _=rt();return _.useInsertionEffect(b,P)}function Jt(b,P){var _=rt();return _.useLayoutEffect(b,P)}function an(b,P){var _=rt();return _.useCallback(b,P)}function vn(b,P){var _=rt();return _.useMemo(b,P)}function En(b,P,_){var Z=rt();return Z.useImperativeHandle(b,P,_)}function Nn(b,P){{var _=rt();return _.useDebugValue(b,P)}}function Cr(){var b=rt();return b.useTransition()}function Hn(b){var P=rt();return P.useDeferredValue(b)}function gn(){var b=rt();return b.useId()}function Ki(b,P,_){var Z=rt();return Z.useSyncExternalStore(b,P,_)}var mi=0,ta,na,gr,ra,ia,As,Rs;function Xa(){}Xa.__reactDisabledLog=!0;function za(){{if(mi===0){ta=console.log,na=console.info,gr=console.warn,ra=console.error,ia=console.group,As=console.groupCollapsed,Rs=console.groupEnd;var b={configurable:!0,enumerable:!0,value:Xa,writable:!0};Object.defineProperties(console,{info:b,log:b,warn:b,error:b,group:b,groupCollapsed:b,groupEnd:b})}mi++}}function sa(){{if(mi--,mi===0){var b={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:it({},b,{value:ta}),info:it({},b,{value:na}),warn:it({},b,{value:gr}),error:it({},b,{value:ra}),group:it({},b,{value:ia}),groupCollapsed:it({},b,{value:As}),groupEnd:it({},b,{value:Rs})})}mi<0&&Pe("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Di=Se.ReactCurrentDispatcher,Ur;function gi(b,P,_){{if(Ur===void 0)try{throw Error()}catch(re){var Z=re.stack.trim().match(/\n( *(at )?)/);Ur=Z&&Z[1]||""}return`
`+Ur+b}}var Kn=!1,Sn;{var aa=typeof WeakMap=="function"?WeakMap:Map;Sn=new aa}function Ji(b,P){if(!b||Kn)return"";{var _=Sn.get(b);if(_!==void 0)return _}var Z;Kn=!0;var re=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var ce;ce=Di.current,Di.current=null,za();try{if(P){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(_t){Z=_t}Reflect.construct(b,[],ge)}else{try{ge.call()}catch(_t){Z=_t}b.call(ge.prototype)}}else{try{throw Error()}catch(_t){Z=_t}b()}}catch(_t){if(_t&&Z&&typeof _t.stack=="string"){for(var ve=_t.stack.split(`
`),Ne=Z.stack.split(`
`),Xe=ve.length-1,ze=Ne.length-1;Xe>=1&&ze>=0&&ve[Xe]!==Ne[ze];)ze--;for(;Xe>=1&&ze>=0;Xe--,ze--)if(ve[Xe]!==Ne[ze]){if(Xe!==1||ze!==1)do if(Xe--,ze--,ze<0||ve[Xe]!==Ne[ze]){var Qe=`
`+ve[Xe].replace(" at new "," at ");return b.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",b.displayName)),typeof b=="function"&&Sn.set(b,Qe),Qe}while(Xe>=1&&ze>=0);break}}}finally{Kn=!1,Di.current=ce,sa(),Error.prepareStackTrace=re}var ut=b?b.displayName||b.name:"",vt=ut?gi(ut):"";return typeof b=="function"&&Sn.set(b,vt),vt}function oa(b,P,_){return Ji(b,!1)}function es(b){var P=b.prototype;return!!(P&&P.isReactComponent)}function Mi(b,P,_){if(b==null)return"";if(typeof b=="function")return Ji(b,es(b));if(typeof b=="string")return gi(b);switch(b){case x:return gi("Suspense");case T:return gi("SuspenseList")}if(typeof b=="object")switch(b.$$typeof){case g:return oa(b.render);case E:return Mi(b.type,P,_);case R:{var Z=b,re=Z._payload,ce=Z._init;try{return Mi(ce(re),P,_)}catch{}}}return""}var $i={},ts=Se.ReactDebugCurrentFrame;function ns(b){if(b){var P=b._owner,_=Mi(b.type,b._source,P?P.type:null);ts.setExtraStackFrame(_)}else ts.setExtraStackFrame(null)}function qa(b,P,_,Z,re){{var ce=Function.call.bind(Pt);for(var ge in b)if(ce(b,ge)){var ve=void 0;try{if(typeof b[ge]!="function"){var Ne=Error((Z||"React class")+": "+_+" type `"+ge+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof b[ge]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ne.name="Invariant Violation",Ne}ve=b[ge](P,ge,Z,_,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Xe){ve=Xe}ve&&!(ve instanceof Error)&&(ns(re),Pe("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Z||"React class",_,ge,typeof ve),ns(null)),ve instanceof Error&&!(ve.message in $i)&&($i[ve.message]=!0,ns(re),Pe("Failed %s type: %s",_,ve.message),ns(null))}}}function yn(b){if(b){var P=b._owner,_=Mi(b.type,b._source,P?P.type:null);z(_)}else z(null)}var la;la=!1;function rs(){if(I.current){var b=gt(I.current.type);if(b)return`

Check the render method of \``+b+"`."}return""}function un(b){if(b!==void 0){var P=b.fileName.replace(/^.*[\\\/]/,""),_=b.lineNumber;return`

Check your code at `+P+":"+_+"."}return""}function ca(b){return b!=null?un(b.__source):""}var hr={};function Li(b){var P=rs();if(!P){var _=typeof b=="string"?b:b.displayName||b.name;_&&(P=`

Check the top-level render call using <`+_+">.")}return P}function qn(b,P){if(!(!b._store||b._store.validated||b.key!=null)){b._store.validated=!0;var _=Li(P);if(!hr[_]){hr[_]=!0;var Z="";b&&b._owner&&b._owner!==I.current&&(Z=" It was passed a child from "+gt(b._owner.type)+"."),yn(b),Pe('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',_,Z),yn(null)}}}function Za(b,P){if(typeof b=="object"){if(_e(b))for(var _=0;_<b.length;_++){var Z=b[_];Ve(Z)&&qn(Z,P)}else if(Ve(b))b._store&&(b._store.validated=!0);else if(b){var re=X(b);if(typeof re=="function"&&re!==b.entries)for(var ce=re.call(b),ge;!(ge=ce.next()).done;)Ve(ge.value)&&qn(ge.value,P)}}}function In(b){{var P=b.type;if(P==null||typeof P=="string")return;var _;if(typeof P=="function")_=P.propTypes;else if(typeof P=="object"&&(P.$$typeof===g||P.$$typeof===E))_=P.propTypes;else return;if(_){var Z=gt(P);qa(_,b.props,"prop",Z,b)}else if(P.PropTypes!==void 0&&!la){la=!0;var re=gt(P);Pe("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",re||"Unknown")}typeof P.getDefaultProps=="function"&&!P.getDefaultProps.isReactClassApproved&&Pe("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Bn(b){{for(var P=Object.keys(b.props),_=0;_<P.length;_++){var Z=P[_];if(Z!=="children"&&Z!=="key"){yn(b),Pe("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Z),yn(null);break}}b.ref!==null&&(yn(b),Pe("Invalid attribute `ref` supplied to `React.Fragment`."),yn(null))}}function Wa(b,P,_){var Z=Ee(b);if(!Z){var re="";(b===void 0||typeof b=="object"&&b!==null&&Object.keys(b).length===0)&&(re+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ce=ca(P);ce?re+=ce:re+=rs();var ge;b===null?ge="null":_e(b)?ge="array":b!==void 0&&b.$$typeof===r?(ge="<"+(gt(b.type)||"Unknown")+" />",re=" Did you accidentally export a JSX literal instead of a component?"):ge=typeof b,Pe("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ge,re)}var ve=St.apply(this,arguments);if(ve==null)return ve;if(Z)for(var Ne=2;Ne<arguments.length;Ne++)Za(arguments[Ne],b);return b===c?Bn(ve):In(ve),ve}var $r=!1;function Er(b){var P=Wa.bind(null,b);return P.type=b,$r||($r=!0,Ae("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(P,"type",{enumerable:!1,get:function(){return Ae("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:b}),b}}),P}function si(b,P,_){for(var Z=Lt.apply(this,arguments),re=2;re<arguments.length;re++)Za(arguments[re],Z.type);return In(Z),Z}function Ho(b,P){var _=G.transition;G.transition={};var Z=G.transition;G.transition._updatedFibers=new Set;try{b()}finally{if(G.transition=_,_===null&&Z._updatedFibers){var re=Z._updatedFibers.size;re>10&&Ae("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),Z._updatedFibers.clear()}}}var Qs=!1,is=null;function ua(b){if(is===null)try{var P=("require"+Math.random()).slice(0,7),_=s&&s[P];is=_.call(s,"timers").setImmediate}catch{is=function(re){Qs===!1&&(Qs=!0,typeof MessageChannel>"u"&&Pe("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var ce=new MessageChannel;ce.port1.onmessage=re,ce.port2.postMessage(void 0)}}return is(b)}var Oi=0,ha=!1;function fa(b){{var P=Oi;Oi++,L.current===null&&(L.current=[]);var _=L.isBatchingLegacy,Z;try{if(L.isBatchingLegacy=!0,Z=b(),!_&&L.didScheduleLegacyUpdate){var re=L.current;re!==null&&(L.didScheduleLegacyUpdate=!1,Ni(re))}}catch(ut){throw ai(P),ut}finally{L.isBatchingLegacy=_}if(Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,ge=!1,ve={then:function(ut,vt){ge=!0,ce.then(function(_t){ai(P),Oi===0?ss(_t,ut,vt):ut(_t)},function(_t){ai(P),vt(_t)})}};return!ha&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){ge||(ha=!0,Pe("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),ve}else{var Ne=Z;if(ai(P),Oi===0){var Xe=L.current;Xe!==null&&(Ni(Xe),L.current=null);var ze={then:function(ut,vt){L.current===null?(L.current=[],ss(Ne,ut,vt)):ut(Ne)}};return ze}else{var Qe={then:function(ut,vt){ut(Ne)}};return Qe}}}}function ai(b){b!==Oi-1&&Pe("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Oi=b}function ss(b,P,_){{var Z=L.current;if(Z!==null)try{Ni(Z),ua(function(){Z.length===0?(L.current=null,P(b)):ss(b,P,_)})}catch(re){_(re)}else P(b)}}var vi=!1;function Ni(b){if(!vi){vi=!0;var P=0;try{for(;P<b.length;P++){var _=b[P];do _=_(!0);while(_!==null)}b.length=0}catch(Z){throw b=b.slice(P+1),Z}finally{vi=!1}}}var Ya=Wa,y=si,k=Er,A={map:Qt,forEach:$t,count:kt,toArray:jt,only:rn};e.Children=A,e.Component=D,e.Fragment=c,e.Profiler=f,e.PureComponent=le,e.StrictMode=u,e.Suspense=x,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Se,e.act=fa,e.cloneElement=y,e.createContext=ft,e.createElement=Ya,e.createFactory=k,e.createRef=xe,e.forwardRef=he,e.isValidElement=Ve,e.lazy=q,e.memo=Ze,e.startTransition=Ho,e.unstable_act=fa,e.useCallback=an,e.useContext=at,e.useDebugValue=Nn,e.useDeferredValue=Hn,e.useEffect=Rt,e.useId=gn,e.useImperativeHandle=En,e.useInsertionEffect=zt,e.useLayoutEffect=Jt,e.useMemo=vn,e.useReducer=xt,e.useRef=dt,e.useState=wt,e.useSyncExternalStore=Ki,e.useTransition=Cr,e.version=n,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(react_development,react_development.exports);var react_developmentExports=react_development.exports;react.exports=react_developmentExports;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var s=reactExports,e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),R=Symbol.iterator,M="@@iterator";function $(q){if(q===null||typeof q!="object")return null;var he=R&&q[R]||q[M];return typeof he=="function"?he:null}var V=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(q){{for(var he=arguments.length,be=new Array(he>1?he-1:0),Ee=1;Ee<he;Ee++)be[Ee-1]=arguments[Ee];Y("error",q,be)}}function Y(q,he,be){{var Ee=V.ReactDebugCurrentFrame,Ze=Ee.getStackAddendum();Ze!==""&&(he+="%s",be=be.concat([Ze]));var rt=be.map(function(at){return String(at)});rt.unshift("Warning: "+he),Function.prototype.apply.call(console[q],console,rt)}}var G=!1,L=!1,I=!1,ee=!1,ne=!1,z;z=Symbol.for("react.module.reference");function ae(q){return!!(typeof q=="string"||typeof q=="function"||q===r||q===c||ne||q===a||q===O||q===g||ee||q===E||G||L||I||typeof q=="object"&&q!==null&&(q.$$typeof===T||q.$$typeof===x||q.$$typeof===u||q.$$typeof===f||q.$$typeof===d||q.$$typeof===z||q.getModuleId!==void 0))}function H(q,he,be){var Ee=q.displayName;if(Ee)return Ee;var Ze=he.displayName||he.name||"";return Ze!==""?be+"("+Ze+")":be}function fe(q){return q.displayName||"Context"}function me(q){if(q==null)return null;if(typeof q.tag=="number"&&X("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof q=="function")return q.displayName||q.name||null;if(typeof q=="string")return q;switch(q){case r:return"Fragment";case n:return"Portal";case c:return"Profiler";case a:return"StrictMode";case O:return"Suspense";case g:return"SuspenseList"}if(typeof q=="object")switch(q.$$typeof){case f:var he=q;return fe(he)+".Consumer";case u:var be=q;return fe(be._context)+".Provider";case d:return H(q,q.render,"ForwardRef");case x:var Ee=q.displayName||null;return Ee!==null?Ee:me(q.type)||"Memo";case T:{var Ze=q,rt=Ze._payload,at=Ze._init;try{return me(at(rt))}catch{return null}}}return null}var se=Object.assign,Se=0,Ae,Pe,de,Fe,Ke,ct,it;function te(){}te.__reactDisabledLog=!0;function D(){{if(Se===0){Ae=console.log,Pe=console.info,de=console.warn,Fe=console.error,Ke=console.group,ct=console.groupCollapsed,it=console.groupEnd;var q={configurable:!0,enumerable:!0,value:te,writable:!0};Object.defineProperties(console,{info:q,log:q,warn:q,error:q,group:q,groupCollapsed:q,groupEnd:q})}Se++}}function F(){{if(Se--,Se===0){var q={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:se({},q,{value:Ae}),info:se({},q,{value:Pe}),warn:se({},q,{value:de}),error:se({},q,{value:Fe}),group:se({},q,{value:Ke}),groupCollapsed:se({},q,{value:ct}),groupEnd:se({},q,{value:it})})}Se<0&&X("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var j=V.ReactCurrentDispatcher,W;function K(q,he,be){{if(W===void 0)try{throw Error()}catch(Ze){var Ee=Ze.stack.trim().match(/\n( *(at )?)/);W=Ee&&Ee[1]||""}return`
`+W+q}}var le=!1,pe;{var xe=typeof WeakMap=="function"?WeakMap:Map;pe=new xe}function $e(q,he){if(!q||le)return"";{var be=pe.get(q);if(be!==void 0)return be}var Ee;le=!0;var Ze=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var rt;rt=j.current,j.current=null,D();try{if(he){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(vn){Ee=vn}Reflect.construct(q,[],at)}else{try{at.call()}catch(vn){Ee=vn}q.call(at.prototype)}}else{try{throw Error()}catch(vn){Ee=vn}q()}}catch(vn){if(vn&&Ee&&typeof vn.stack=="string"){for(var wt=vn.stack.split(`
`),xt=Ee.stack.split(`
`),dt=wt.length-1,Rt=xt.length-1;dt>=1&&Rt>=0&&wt[dt]!==xt[Rt];)Rt--;for(;dt>=1&&Rt>=0;dt--,Rt--)if(wt[dt]!==xt[Rt]){if(dt!==1||Rt!==1)do if(dt--,Rt--,Rt<0||wt[dt]!==xt[Rt]){var zt=`
`+wt[dt].replace(" at new "," at ");return q.displayName&&zt.includes("<anonymous>")&&(zt=zt.replace("<anonymous>",q.displayName)),typeof q=="function"&&pe.set(q,zt),zt}while(dt>=1&&Rt>=0);break}}}finally{le=!1,j.current=rt,F(),Error.prepareStackTrace=Ze}var Jt=q?q.displayName||q.name:"",an=Jt?K(Jt):"";return typeof q=="function"&&pe.set(q,an),an}function _e(q,he,be){return $e(q,!1)}function Be(q){var he=q.prototype;return!!(he&&he.isReactComponent)}function Ue(q,he,be){if(q==null)return"";if(typeof q=="function")return $e(q,Be(q));if(typeof q=="string")return K(q);switch(q){case O:return K("Suspense");case g:return K("SuspenseList")}if(typeof q=="object")switch(q.$$typeof){case d:return _e(q.render);case x:return Ue(q.type,he,be);case T:{var Ee=q,Ze=Ee._payload,rt=Ee._init;try{return Ue(rt(Ze),he,be)}catch{}}}return""}var ot=Object.prototype.hasOwnProperty,qe={},Ct=V.ReactDebugCurrentFrame;function Nt(q){if(q){var he=q._owner,be=Ue(q.type,q._source,he?he.type:null);Ct.setExtraStackFrame(be)}else Ct.setExtraStackFrame(null)}function gt(q,he,be,Ee,Ze){{var rt=Function.call.bind(ot);for(var at in q)if(rt(q,at)){var wt=void 0;try{if(typeof q[at]!="function"){var xt=Error((Ee||"React class")+": "+be+" type `"+at+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof q[at]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw xt.name="Invariant Violation",xt}wt=q[at](he,at,Ee,be,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(dt){wt=dt}wt&&!(wt instanceof Error)&&(Nt(Ze),X("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ee||"React class",be,at,typeof wt),Nt(null)),wt instanceof Error&&!(wt.message in qe)&&(qe[wt.message]=!0,Nt(Ze),X("Failed %s type: %s",be,wt.message),Nt(null))}}}var Pt=Array.isArray;function tt(q){return Pt(q)}function De(q){{var he=typeof Symbol=="function"&&Symbol.toStringTag,be=he&&q[Symbol.toStringTag]||q.constructor.name||"Object";return be}}function Me(q){try{return We(q),!1}catch{return!0}}function We(q){return""+q}function bt(q){if(Me(q))return X("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",De(q)),We(q)}var ht=V.ReactCurrentOwner,It={key:!0,ref:!0,__self:!0,__source:!0},Mt,Bt,et;et={};function St(q){if(ot.call(q,"ref")){var he=Object.getOwnPropertyDescriptor(q,"ref").get;if(he&&he.isReactWarning)return!1}return q.ref!==void 0}function Et(q){if(ot.call(q,"key")){var he=Object.getOwnPropertyDescriptor(q,"key").get;if(he&&he.isReactWarning)return!1}return q.key!==void 0}function Lt(q,he){if(typeof q.ref=="string"&&ht.current&&he&&ht.current.stateNode!==he){var be=me(ht.current.type);et[be]||(X('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',me(ht.current.type),q.ref),et[be]=!0)}}function Ve(q,he){{var be=function(){Mt||(Mt=!0,X("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",he))};be.isReactWarning=!0,Object.defineProperty(q,"key",{get:be,configurable:!0})}}function Te(q,he){{var be=function(){Bt||(Bt=!0,X("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",he))};be.isReactWarning=!0,Object.defineProperty(q,"ref",{get:be,configurable:!0})}}var we=function(q,he,be,Ee,Ze,rt,at){var wt={$$typeof:e,type:q,key:he,ref:be,props:at,_owner:rt};return wt._store={},Object.defineProperty(wt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(wt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ee}),Object.defineProperty(wt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ze}),Object.freeze&&(Object.freeze(wt.props),Object.freeze(wt)),wt};function Je(q,he,be,Ee,Ze){{var rt,at={},wt=null,xt=null;be!==void 0&&(bt(be),wt=""+be),Et(he)&&(bt(he.key),wt=""+he.key),St(he)&&(xt=he.ref,Lt(he,Ze));for(rt in he)ot.call(he,rt)&&!It.hasOwnProperty(rt)&&(at[rt]=he[rt]);if(q&&q.defaultProps){var dt=q.defaultProps;for(rt in dt)at[rt]===void 0&&(at[rt]=dt[rt])}if(wt||xt){var Rt=typeof q=="function"?q.displayName||q.name||"Unknown":q;wt&&Ve(at,Rt),xt&&Te(at,Rt)}return we(q,wt,xt,Ze,Ee,ht.current,at)}}var Ge=V.ReactCurrentOwner,nn=V.ReactDebugCurrentFrame;function Ht(q){if(q){var he=q._owner,be=Ue(q.type,q._source,he?he.type:null);nn.setExtraStackFrame(be)}else nn.setExtraStackFrame(null)}var Ce;Ce=!1;function Ot(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function Qt(){{if(Ge.current){var q=me(Ge.current.type);if(q)return`

Check the render method of \``+q+"`."}return""}}function kt(q){{if(q!==void 0){var he=q.fileName.replace(/^.*[\\\/]/,""),be=q.lineNumber;return`

Check your code at `+he+":"+be+"."}return""}}var $t={};function jt(q){{var he=Qt();if(!he){var be=typeof q=="string"?q:q.displayName||q.name;be&&(he=`

Check the top-level render call using <`+be+">.")}return he}}function rn(q,he){{if(!q._store||q._store.validated||q.key!=null)return;q._store.validated=!0;var be=jt(he);if($t[be])return;$t[be]=!0;var Ee="";q&&q._owner&&q._owner!==Ge.current&&(Ee=" It was passed a child from "+me(q._owner.type)+"."),Ht(q),X('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',be,Ee),Ht(null)}}function ft(q,he){{if(typeof q!="object")return;if(tt(q))for(var be=0;be<q.length;be++){var Ee=q[be];Ot(Ee)&&rn(Ee,he)}else if(Ot(q))q._store&&(q._store.validated=!0);else if(q){var Ze=$(q);if(typeof Ze=="function"&&Ze!==q.entries)for(var rt=Ze.call(q),at;!(at=rt.next()).done;)Ot(at.value)&&rn(at.value,he)}}}function Kt(q){{var he=q.type;if(he==null||typeof he=="string")return;var be;if(typeof he=="function")be=he.propTypes;else if(typeof he=="object"&&(he.$$typeof===d||he.$$typeof===x))be=he.propTypes;else return;if(be){var Ee=me(he);gt(be,q.props,"prop",Ee,q)}else if(he.PropTypes!==void 0&&!Ce){Ce=!0;var Ze=me(he);X("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ze||"Unknown")}typeof he.getDefaultProps=="function"&&!he.getDefaultProps.isReactClassApproved&&X("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Dt(q){{for(var he=Object.keys(q.props),be=0;be<he.length;be++){var Ee=he[be];if(Ee!=="children"&&Ee!=="key"){Ht(q),X("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ee),Ht(null);break}}q.ref!==null&&(Ht(q),X("Invalid attribute `ref` supplied to `React.Fragment`."),Ht(null))}}var ye={};function B(q,he,be,Ee,Ze,rt){{var at=ae(q);if(!at){var wt="";(q===void 0||typeof q=="object"&&q!==null&&Object.keys(q).length===0)&&(wt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var xt=kt(Ze);xt?wt+=xt:wt+=Qt();var dt;q===null?dt="null":tt(q)?dt="array":q!==void 0&&q.$$typeof===e?(dt="<"+(me(q.type)||"Unknown")+" />",wt=" Did you accidentally export a JSX literal instead of a component?"):dt=typeof q,X("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",dt,wt)}var Rt=Je(q,he,be,Ze,rt);if(Rt==null)return Rt;if(at){var zt=he.children;if(zt!==void 0)if(Ee)if(tt(zt)){for(var Jt=0;Jt<zt.length;Jt++)ft(zt[Jt],q);Object.freeze&&Object.freeze(zt)}else X("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ft(zt,q)}if(ot.call(he,"key")){var an=me(q),vn=Object.keys(he).filter(function(Cr){return Cr!=="key"}),En=vn.length>0?"{key: someKey, "+vn.join(": ..., ")+": ...}":"{key: someKey}";if(!ye[an+En]){var Nn=vn.length>0?"{"+vn.join(": ..., ")+": ...}":"{}";X(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,En,an,Nn,an),ye[an+En]=!0}}return q===r?Dt(Rt):Kt(Rt),Rt}}var oe=B;reactJsxDevRuntime_development.Fragment=r,reactJsxDevRuntime_development.jsxDEV=oe})();jsxDevRuntime.exports=reactJsxDevRuntime_development;var jsxDevRuntimeExports=jsxDevRuntime.exports,client={},reactDom={exports:{}},reactDom_development={},scheduler={exports:{}},scheduler_development={};/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=!1,n=!1,r=5;function a(et,St){var Et=et.length;et.push(St),f(et,St,Et)}function c(et){return et.length===0?null:et[0]}function u(et){if(et.length===0)return null;var St=et[0],Et=et.pop();return Et!==St&&(et[0]=Et,d(et,Et,0)),St}function f(et,St,Et){for(var Lt=Et;Lt>0;){var Ve=Lt-1>>>1,Te=et[Ve];if(O(Te,St)>0)et[Ve]=St,et[Lt]=Te,Lt=Ve;else return}}function d(et,St,Et){for(var Lt=Et,Ve=et.length,Te=Ve>>>1;Lt<Te;){var we=(Lt+1)*2-1,Je=et[we],Ge=we+1,nn=et[Ge];if(O(Je,St)<0)Ge<Ve&&O(nn,Je)<0?(et[Lt]=nn,et[Ge]=St,Lt=Ge):(et[Lt]=Je,et[we]=St,Lt=we);else if(Ge<Ve&&O(nn,St)<0)et[Lt]=nn,et[Ge]=St,Lt=Ge;else return}}function O(et,St){var Et=et.sortIndex-St.sortIndex;return Et!==0?Et:et.id-St.id}var g=1,x=2,T=3,E=4,R=5;function M(et,St){}var $=typeof performance=="object"&&typeof performance.now=="function";if($){var V=performance;s.unstable_now=function(){return V.now()}}else{var X=Date,Y=X.now();s.unstable_now=function(){return X.now()-Y}}var G=1073741823,L=-1,I=250,ee=5e3,ne=1e4,z=G,ae=[],H=[],fe=1,me=null,se=T,Se=!1,Ae=!1,Pe=!1,de=typeof setTimeout=="function"?setTimeout:null,Fe=typeof clearTimeout=="function"?clearTimeout:null,Ke=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ct(et){for(var St=c(H);St!==null;){if(St.callback===null)u(H);else if(St.startTime<=et)u(H),St.sortIndex=St.expirationTime,a(ae,St);else return;St=c(H)}}function it(et){if(Pe=!1,ct(et),!Ae)if(c(ae)!==null)Ae=!0,bt(te);else{var St=c(H);St!==null&&ht(it,St.startTime-et)}}function te(et,St){Ae=!1,Pe&&(Pe=!1,It()),Se=!0;var Et=se;try{var Lt;if(!n)return D(et,St)}finally{me=null,se=Et,Se=!1}}function D(et,St){var Et=St;for(ct(Et),me=c(ae);me!==null&&!e&&!(me.expirationTime>Et&&(!et||Nt()));){var Lt=me.callback;if(typeof Lt=="function"){me.callback=null,se=me.priorityLevel;var Ve=me.expirationTime<=Et,Te=Lt(Ve);Et=s.unstable_now(),typeof Te=="function"?me.callback=Te:me===c(ae)&&u(ae),ct(Et)}else u(ae);me=c(ae)}if(me!==null)return!0;var we=c(H);return we!==null&&ht(it,we.startTime-Et),!1}function F(et,St){switch(et){case g:case x:case T:case E:case R:break;default:et=T}var Et=se;se=et;try{return St()}finally{se=Et}}function j(et){var St;switch(se){case g:case x:case T:St=T;break;default:St=se;break}var Et=se;se=St;try{return et()}finally{se=Et}}function W(et){var St=se;return function(){var Et=se;se=St;try{return et.apply(this,arguments)}finally{se=Et}}}function K(et,St,Et){var Lt=s.unstable_now(),Ve;if(typeof Et=="object"&&Et!==null){var Te=Et.delay;typeof Te=="number"&&Te>0?Ve=Lt+Te:Ve=Lt}else Ve=Lt;var we;switch(et){case g:we=L;break;case x:we=I;break;case R:we=z;break;case E:we=ne;break;case T:default:we=ee;break}var Je=Ve+we,Ge={id:fe++,callback:St,priorityLevel:et,startTime:Ve,expirationTime:Je,sortIndex:-1};return Ve>Lt?(Ge.sortIndex=Ve,a(H,Ge),c(ae)===null&&Ge===c(H)&&(Pe?It():Pe=!0,ht(it,Ve-Lt))):(Ge.sortIndex=Je,a(ae,Ge),!Ae&&!Se&&(Ae=!0,bt(te))),Ge}function le(){}function pe(){!Ae&&!Se&&(Ae=!0,bt(te))}function xe(){return c(ae)}function $e(et){et.callback=null}function _e(){return se}var Be=!1,Ue=null,ot=-1,qe=r,Ct=-1;function Nt(){var et=s.unstable_now()-Ct;return!(et<qe)}function gt(){}function Pt(et){if(et<0||et>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}et>0?qe=Math.floor(1e3/et):qe=r}var tt=function(){if(Ue!==null){var et=s.unstable_now();Ct=et;var St=!0,Et=!0;try{Et=Ue(St,et)}finally{Et?De():(Be=!1,Ue=null)}}else Be=!1},De;if(typeof Ke=="function")De=function(){Ke(tt)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,We=Me.port2;Me.port1.onmessage=tt,De=function(){We.postMessage(null)}}else De=function(){de(tt,0)};function bt(et){Ue=et,Be||(Be=!0,De())}function ht(et,St){ot=de(function(){et(s.unstable_now())},St)}function It(){Fe(ot),ot=-1}var Mt=gt,Bt=null;s.unstable_IdlePriority=R,s.unstable_ImmediatePriority=g,s.unstable_LowPriority=E,s.unstable_NormalPriority=T,s.unstable_Profiling=Bt,s.unstable_UserBlockingPriority=x,s.unstable_cancelCallback=$e,s.unstable_continueExecution=pe,s.unstable_forceFrameRate=Pt,s.unstable_getCurrentPriorityLevel=_e,s.unstable_getFirstCallbackNode=xe,s.unstable_next=j,s.unstable_pauseExecution=le,s.unstable_requestPaint=Mt,s.unstable_runWithPriority=F,s.unstable_scheduleCallback=K,s.unstable_shouldYield=Nt,s.unstable_wrapCallback=W,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(scheduler_development);scheduler.exports=scheduler_development;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var s=reactExports,e=schedulerExports,n=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=!1;function a(o){r=o}function c(o){if(!r){for(var l=arguments.length,h=new Array(l>1?l-1:0),p=1;p<l;p++)h[p-1]=arguments[p];f("warn",o,h)}}function u(o){if(!r){for(var l=arguments.length,h=new Array(l>1?l-1:0),p=1;p<l;p++)h[p-1]=arguments[p];f("error",o,h)}}function f(o,l,h){{var p=n.ReactDebugCurrentFrame,v=p.getStackAddendum();v!==""&&(l+="%s",h=h.concat([v]));var w=h.map(function(Q){return String(Q)});w.unshift("Warning: "+l),Function.prototype.apply.call(console[o],console,w)}}var d=0,O=1,g=2,x=3,T=4,E=5,R=6,M=7,$=8,V=9,X=10,Y=11,G=12,L=13,I=14,ee=15,ne=16,z=17,ae=18,H=19,fe=21,me=22,se=23,Se=24,Ae=25,Pe=!0,de=!1,Fe=!1,Ke=!1,ct=!1,it=!0,te=!1,D=!0,F=!0,j=!0,W=!0,K=new Set,le={},pe={};function xe(o,l){$e(o,l),$e(o+"Capture",l)}function $e(o,l){le[o]&&u("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",o),le[o]=l;{var h=o.toLowerCase();pe[h]=o,o==="onDoubleClick"&&(pe.ondblclick=o)}for(var p=0;p<l.length;p++)K.add(l[p])}var _e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Be=Object.prototype.hasOwnProperty;function Ue(o){{var l=typeof Symbol=="function"&&Symbol.toStringTag,h=l&&o[Symbol.toStringTag]||o.constructor.name||"Object";return h}}function ot(o){try{return qe(o),!1}catch{return!0}}function qe(o){return""+o}function Ct(o,l){if(ot(o))return u("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",l,Ue(o)),qe(o)}function Nt(o){if(ot(o))return u("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Ue(o)),qe(o)}function gt(o,l){if(ot(o))return u("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",l,Ue(o)),qe(o)}function Pt(o,l){if(ot(o))return u("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",l,Ue(o)),qe(o)}function tt(o){if(ot(o))return u("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",Ue(o)),qe(o)}function De(o){if(ot(o))return u("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",Ue(o)),qe(o)}var Me=0,We=1,bt=2,ht=3,It=4,Mt=5,Bt=6,et=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",St=et+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Et=new RegExp("^["+et+"]["+St+"]*$"),Lt={},Ve={};function Te(o){return Be.call(Ve,o)?!0:Be.call(Lt,o)?!1:Et.test(o)?(Ve[o]=!0,!0):(Lt[o]=!0,u("Invalid attribute name: `%s`",o),!1)}function we(o,l,h){return l!==null?l.type===Me:h?!1:o.length>2&&(o[0]==="o"||o[0]==="O")&&(o[1]==="n"||o[1]==="N")}function Je(o,l,h,p){if(h!==null&&h.type===Me)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":{if(p)return!1;if(h!==null)return!h.acceptsBooleans;var v=o.toLowerCase().slice(0,5);return v!=="data-"&&v!=="aria-"}default:return!1}}function Ge(o,l,h,p){if(l===null||typeof l>"u"||Je(o,l,h,p))return!0;if(p)return!1;if(h!==null)switch(h.type){case ht:return!l;case It:return l===!1;case Mt:return isNaN(l);case Bt:return isNaN(l)||l<1}return!1}function nn(o){return Ce.hasOwnProperty(o)?Ce[o]:null}function Ht(o,l,h,p,v,w,Q){this.acceptsBooleans=l===bt||l===ht||l===It,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=Q}var Ce={},Ot=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Ot.forEach(function(o){Ce[o]=new Ht(o,Me,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0],h=o[1];Ce[l]=new Ht(l,We,!1,h,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){Ce[o]=new Ht(o,bt,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){Ce[o]=new Ht(o,bt,!1,o,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(o){Ce[o]=new Ht(o,ht,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){Ce[o]=new Ht(o,ht,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){Ce[o]=new Ht(o,It,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){Ce[o]=new Ht(o,Bt,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){Ce[o]=new Ht(o,Mt,!1,o.toLowerCase(),null,!1,!1)});var Qt=/[\-\:]([a-z])/g,kt=function(o){return o[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(o){var l=o.replace(Qt,kt);Ce[l]=new Ht(l,We,!1,o,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(o){var l=o.replace(Qt,kt);Ce[l]=new Ht(l,We,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(Qt,kt);Ce[l]=new Ht(l,We,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){Ce[o]=new Ht(o,We,!1,o.toLowerCase(),null,!1,!1)});var $t="xlinkHref";Ce[$t]=new Ht("xlinkHref",We,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){Ce[o]=new Ht(o,We,!1,o.toLowerCase(),null,!0,!0)});var jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,rn=!1;function ft(o){!rn&&jt.test(o)&&(rn=!0,u("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(o)))}function Kt(o,l,h,p){if(p.mustUseProperty){var v=p.propertyName;return o[v]}else{Ct(h,l),p.sanitizeURL&&ft(""+h);var w=p.attributeName,Q=null;if(p.type===It){if(o.hasAttribute(w)){var U=o.getAttribute(w);return U===""?!0:Ge(l,h,p,!1)?U:U===""+h?h:U}}else if(o.hasAttribute(w)){if(Ge(l,h,p,!1))return o.getAttribute(w);if(p.type===ht)return h;Q=o.getAttribute(w)}return Ge(l,h,p,!1)?Q===null?h:Q:Q===""+h?h:Q}}function Dt(o,l,h,p){{if(!Te(l))return;if(!o.hasAttribute(l))return h===void 0?void 0:null;var v=o.getAttribute(l);return Ct(h,l),v===""+h?h:v}}function ye(o,l,h,p){var v=nn(l);if(!we(l,v,p)){if(Ge(l,h,v,p)&&(h=null),p||v===null){if(Te(l)){var w=l;h===null?o.removeAttribute(w):(Ct(h,l),o.setAttribute(w,""+h))}return}var Q=v.mustUseProperty;if(Q){var U=v.propertyName;if(h===null){var J=v.type;o[U]=J===ht?!1:""}else o[U]=h;return}var ue=v.attributeName,Oe=v.attributeNamespace;if(h===null)o.removeAttribute(ue);else{var je=v.type,Le;je===ht||je===It&&h===!0?Le="":(Ct(h,ue),Le=""+h,v.sanitizeURL&&ft(Le.toString())),Oe?o.setAttributeNS(Oe,ue,Le):o.setAttribute(ue,Le)}}}var B=Symbol.for("react.element"),oe=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),Ze=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Rt=Symbol.for("react.scope"),zt=Symbol.for("react.debug_trace_mode"),Jt=Symbol.for("react.offscreen"),an=Symbol.for("react.legacy_hidden"),vn=Symbol.for("react.cache"),En=Symbol.for("react.tracing_marker"),Nn=Symbol.iterator,Cr="@@iterator";function Hn(o){if(o===null||typeof o!="object")return null;var l=Nn&&o[Nn]||o[Cr];return typeof l=="function"?l:null}var gn=Object.assign,Ki=0,mi,ta,na,gr,ra,ia,As;function Rs(){}Rs.__reactDisabledLog=!0;function Xa(){{if(Ki===0){mi=console.log,ta=console.info,na=console.warn,gr=console.error,ra=console.group,ia=console.groupCollapsed,As=console.groupEnd;var o={configurable:!0,enumerable:!0,value:Rs,writable:!0};Object.defineProperties(console,{info:o,log:o,warn:o,error:o,group:o,groupCollapsed:o,groupEnd:o})}Ki++}}function za(){{if(Ki--,Ki===0){var o={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:gn({},o,{value:mi}),info:gn({},o,{value:ta}),warn:gn({},o,{value:na}),error:gn({},o,{value:gr}),group:gn({},o,{value:ra}),groupCollapsed:gn({},o,{value:ia}),groupEnd:gn({},o,{value:As})})}Ki<0&&u("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var sa=n.ReactCurrentDispatcher,Di;function Ur(o,l,h){{if(Di===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);Di=p&&p[1]||""}return`
`+Di+o}}var gi=!1,Kn;{var Sn=typeof WeakMap=="function"?WeakMap:Map;Kn=new Sn}function aa(o,l){if(!o||gi)return"";{var h=Kn.get(o);if(h!==void 0)return h}var p;gi=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var w;w=sa.current,sa.current=null,Xa();try{if(l){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(st){p=st}Reflect.construct(o,[],Q)}else{try{Q.call()}catch(st){p=st}o.call(Q.prototype)}}else{try{throw Error()}catch(st){p=st}o()}}catch(st){if(st&&p&&typeof st.stack=="string"){for(var U=st.stack.split(`
`),J=p.stack.split(`
`),ue=U.length-1,Oe=J.length-1;ue>=1&&Oe>=0&&U[ue]!==J[Oe];)Oe--;for(;ue>=1&&Oe>=0;ue--,Oe--)if(U[ue]!==J[Oe]){if(ue!==1||Oe!==1)do if(ue--,Oe--,Oe<0||U[ue]!==J[Oe]){var je=`
`+U[ue].replace(" at new "," at ");return o.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",o.displayName)),typeof o=="function"&&Kn.set(o,je),je}while(ue>=1&&Oe>=0);break}}}finally{gi=!1,sa.current=w,za(),Error.prepareStackTrace=v}var Le=o?o.displayName||o.name:"",nt=Le?Ur(Le):"";return typeof o=="function"&&Kn.set(o,nt),nt}function Ji(o,l,h){return aa(o,!0)}function oa(o,l,h){return aa(o,!1)}function es(o){var l=o.prototype;return!!(l&&l.isReactComponent)}function Mi(o,l,h){if(o==null)return"";if(typeof o=="function")return aa(o,es(o));if(typeof o=="string")return Ur(o);switch(o){case at:return Ur("Suspense");case wt:return Ur("SuspenseList")}if(typeof o=="object")switch(o.$$typeof){case rt:return oa(o.render);case xt:return Mi(o.type,l,h);case dt:{var p=o,v=p._payload,w=p._init;try{return Mi(w(v),l,h)}catch{}}}return""}function $i(o){switch(o._debugOwner&&o._debugOwner.type,o._debugSource,o.tag){case E:return Ur(o.type);case ne:return Ur("Lazy");case L:return Ur("Suspense");case H:return Ur("SuspenseList");case d:case g:case ee:return oa(o.type);case Y:return oa(o.type.render);case O:return Ji(o.type);default:return""}}function ts(o){try{var l="",h=o;do l+=$i(h),h=h.return;while(h);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function ns(o,l,h){var p=o.displayName;if(p)return p;var v=l.displayName||l.name||"";return v!==""?h+"("+v+")":h}function qa(o){return o.displayName||"Context"}function yn(o){if(o==null)return null;if(typeof o.tag=="number"&&u("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case q:return"Fragment";case oe:return"Portal";case be:return"Profiler";case he:return"StrictMode";case at:return"Suspense";case wt:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ze:var l=o;return qa(l)+".Consumer";case Ee:var h=o;return qa(h._context)+".Provider";case rt:return ns(o,o.render,"ForwardRef");case xt:var p=o.displayName||null;return p!==null?p:yn(o.type)||"Memo";case dt:{var v=o,w=v._payload,Q=v._init;try{return yn(Q(w))}catch{return null}}}return null}function la(o,l,h){var p=l.displayName||l.name||"";return o.displayName||(p!==""?h+"("+p+")":h)}function rs(o){return o.displayName||"Context"}function un(o){var l=o.tag,h=o.type;switch(l){case Se:return"Cache";case V:var p=h;return rs(p)+".Consumer";case X:var v=h;return rs(v._context)+".Provider";case ae:return"DehydratedFragment";case Y:return la(h,h.render,"ForwardRef");case M:return"Fragment";case E:return h;case T:return"Portal";case x:return"Root";case R:return"Text";case ne:return yn(h);case $:return h===he?"StrictMode":"Mode";case me:return"Offscreen";case G:return"Profiler";case fe:return"Scope";case L:return"Suspense";case H:return"SuspenseList";case Ae:return"TracingMarker";case O:case d:case z:case g:case I:case ee:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;break}return null}var ca=n.ReactDebugCurrentFrame,hr=null,Li=!1;function qn(){{if(hr===null)return null;var o=hr._debugOwner;if(o!==null&&typeof o<"u")return un(o)}return null}function Za(){return hr===null?"":ts(hr)}function In(){ca.getCurrentStack=null,hr=null,Li=!1}function Bn(o){ca.getCurrentStack=o===null?null:Za,hr=o,Li=!1}function Wa(){return hr}function $r(o){Li=o}function Er(o){return""+o}function si(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return De(o),o;default:return""}}var Ho={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Qs(o,l){Ho[l.type]||l.onChange||l.onInput||l.readOnly||l.disabled||l.value==null||u("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),l.onChange||l.readOnly||l.disabled||l.checked==null||u("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function is(o){var l=o.type,h=o.nodeName;return h&&h.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ua(o){return o._valueTracker}function Oi(o){o._valueTracker=null}function ha(o){var l="";return o&&(is(o)?l=o.checked?"true":"false":l=o.value),l}function fa(o){var l=is(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);De(o[l]);var p=""+o[l];if(!(o.hasOwnProperty(l)||typeof h>"u"||typeof h.get!="function"||typeof h.set!="function")){var v=h.get,w=h.set;Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(U){De(U),p=""+U,w.call(this,U)}}),Object.defineProperty(o,l,{enumerable:h.enumerable});var Q={getValue:function(){return p},setValue:function(U){De(U),p=""+U},stopTracking:function(){Oi(o),delete o[l]}};return Q}}function ai(o){ua(o)||(o._valueTracker=fa(o))}function ss(o){if(!o)return!1;var l=ua(o);if(!l)return!0;var h=l.getValue(),p=ha(o);return p!==h?(l.setValue(p),!0):!1}function vi(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ni=!1,Ya=!1,y=!1,k=!1;function A(o){var l=o.type==="checkbox"||o.type==="radio";return l?o.checked!=null:o.value!=null}function b(o,l){var h=o,p=l.checked,v=gn({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??h._wrapperState.initialChecked});return v}function P(o,l){Qs("input",l),l.checked!==void 0&&l.defaultChecked!==void 0&&!Ya&&(u("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",qn()||"A component",l.type),Ya=!0),l.value!==void 0&&l.defaultValue!==void 0&&!Ni&&(u("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",qn()||"A component",l.type),Ni=!0);var h=o,p=l.defaultValue==null?"":l.defaultValue;h._wrapperState={initialChecked:l.checked!=null?l.checked:l.defaultChecked,initialValue:si(l.value!=null?l.value:p),controlled:A(l)}}function _(o,l){var h=o,p=l.checked;p!=null&&ye(h,"checked",p,!1)}function Z(o,l){var h=o;{var p=A(l);!h._wrapperState.controlled&&p&&!k&&(u("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),k=!0),h._wrapperState.controlled&&!p&&!y&&(u("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),y=!0)}_(o,l);var v=si(l.value),w=l.type;if(v!=null)w==="number"?(v===0&&h.value===""||h.value!=v)&&(h.value=Er(v)):h.value!==Er(v)&&(h.value=Er(v));else if(w==="submit"||w==="reset"){h.removeAttribute("value");return}l.hasOwnProperty("value")?ve(h,l.type,v):l.hasOwnProperty("defaultValue")&&ve(h,l.type,si(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(h.defaultChecked=!!l.defaultChecked)}function re(o,l,h){var p=o;if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type,w=v==="submit"||v==="reset";if(w&&(l.value===void 0||l.value===null))return;var Q=Er(p._wrapperState.initialValue);h||Q!==p.value&&(p.value=Q),p.defaultValue=Q}var U=p.name;U!==""&&(p.name=""),p.defaultChecked=!p.defaultChecked,p.defaultChecked=!!p._wrapperState.initialChecked,U!==""&&(p.name=U)}function ce(o,l){var h=o;Z(h,l),ge(h,l)}function ge(o,l){var h=l.name;if(l.type==="radio"&&h!=null){for(var p=o;p.parentNode;)p=p.parentNode;Ct(h,"name");for(var v=p.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),w=0;w<v.length;w++){var Q=v[w];if(!(Q===o||Q.form!==o.form)){var U=bu(Q);if(!U)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");ss(Q),Z(Q,U)}}}}function ve(o,l,h){(l!=="number"||vi(o.ownerDocument)!==o)&&(h==null?o.defaultValue=Er(o._wrapperState.initialValue):o.defaultValue!==Er(h)&&(o.defaultValue=Er(h)))}var Ne=!1,Xe=!1,ze=!1;function Qe(o,l){l.value==null&&(typeof l.children=="object"&&l.children!==null?s.Children.forEach(l.children,function(h){h!=null&&(typeof h=="string"||typeof h=="number"||Xe||(Xe=!0,u("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):l.dangerouslySetInnerHTML!=null&&(ze||(ze=!0,u("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),l.selected!=null&&!Ne&&(u("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),Ne=!0)}function ut(o,l){l.value!=null&&o.setAttribute("value",Er(si(l.value)))}var vt=Array.isArray;function _t(o){return vt(o)}var Ft;Ft=!1;function ln(){var o=qn();return o?`

Check the render method of \``+o+"`.":""}var mn=["value","defaultValue"];function On(o){{Qs("select",o);for(var l=0;l<mn.length;l++){var h=mn[l];if(o[h]!=null){var p=_t(o[h]);o.multiple&&!p?u("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",h,ln()):!o.multiple&&p&&u("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",h,ln())}}}}function An(o,l,h,p){var v=o.options;if(l){for(var w=h,Q={},U=0;U<w.length;U++)Q["$"+w[U]]=!0;for(var J=0;J<v.length;J++){var ue=Q.hasOwnProperty("$"+v[J].value);v[J].selected!==ue&&(v[J].selected=ue),ue&&p&&(v[J].defaultSelected=!0)}}else{for(var Oe=Er(si(h)),je=null,Le=0;Le<v.length;Le++){if(v[Le].value===Oe){v[Le].selected=!0,p&&(v[Le].defaultSelected=!0);return}je===null&&!v[Le].disabled&&(je=v[Le])}je!==null&&(je.selected=!0)}}function jn(o,l){return gn({},l,{value:void 0})}function xn(o,l){var h=o;On(l),h._wrapperState={wasMultiple:!!l.multiple},l.value!==void 0&&l.defaultValue!==void 0&&!Ft&&(u("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Ft=!0)}function hn(o,l){var h=o;h.multiple=!!l.multiple;var p=l.value;p!=null?An(h,!!l.multiple,p,!1):l.defaultValue!=null&&An(h,!!l.multiple,l.defaultValue,!0)}function Vn(o,l){var h=o,p=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?An(h,!!l.multiple,v,!1):p!==!!l.multiple&&(l.defaultValue!=null?An(h,!!l.multiple,l.defaultValue,!0):An(h,!!l.multiple,l.multiple?[]:"",!1))}function Xr(o,l){var h=o,p=l.value;p!=null&&An(h,!!l.multiple,p,!1)}var Jn=!1;function Pr(o,l){var h=o;if(l.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var p=gn({},l,{value:void 0,defaultValue:void 0,children:Er(h._wrapperState.initialValue)});return p}function ji(o,l){var h=o;Qs("textarea",l),l.value!==void 0&&l.defaultValue!==void 0&&!Jn&&(u("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",qn()||"A component"),Jn=!0);var p=l.value;if(p==null){var v=l.children,w=l.defaultValue;if(v!=null){u("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(w!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(_t(v)){if(v.length>1)throw new Error("<textarea> can only have at most one child.");v=v[0]}w=v}}w==null&&(w=""),p=w}h._wrapperState={initialValue:si(p)}}function Mc(o,l){var h=o,p=si(l.value),v=si(l.defaultValue);if(p!=null){var w=Er(p);w!==h.value&&(h.value=w),l.defaultValue==null&&h.defaultValue!==w&&(h.defaultValue=w)}v!=null&&(h.defaultValue=Er(v))}function Ha(o,l){var h=o,p=h.textContent;p===h._wrapperState.initialValue&&p!==""&&p!==null&&(h.value=p)}function gS(o,l){Mc(o,l)}var as="http://www.w3.org/1999/xhtml",OS="http://www.w3.org/1998/Math/MathML",Wh="http://www.w3.org/2000/svg";function Yh(o){switch(o){case"svg":return Wh;case"math":return OS;default:return as}}function Hh(o,l){return o==null||o===as?Yh(l):o===Wh&&l==="foreignObject"?as:o}var vS=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,p,v){MSApp.execUnsafeLocalFunction(function(){return o(l,h,p,v)})}:o},$c,Qg=vS(function(o,l){if(o.namespaceURI===Wh&&!("innerHTML"in o)){$c=$c||document.createElement("div"),$c.innerHTML="<svg>"+l.valueOf().toString()+"</svg>";for(var h=$c.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;h.firstChild;)o.appendChild(h.firstChild);return}o.innerHTML=l}),zr=1,os=3,er=8,ls=9,Gh=11,Lc=function(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===os){h.nodeValue=l;return}}o.textContent=l},yS={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},Go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function bS(o,l){return o+l.charAt(0).toUpperCase()+l.substring(1)}var SS=["Webkit","ms","Moz","O"];Object.keys(Go).forEach(function(o){SS.forEach(function(l){Go[bS(l,o)]=Go[o]})});function Kh(o,l,h){var p=l==null||typeof l=="boolean"||l==="";return p?"":!h&&typeof l=="number"&&l!==0&&!(Go.hasOwnProperty(o)&&Go[o])?l+"px":(Pt(l,o),(""+l).trim())}var xS=/([A-Z])/g,kS=/^ms-/;function wS(o){return o.replace(xS,"-$1").toLowerCase().replace(kS,"-ms-")}var _g=function(){};{var TS=/^(?:webkit|moz|o)[A-Z]/,CS=/^-ms-/,ES=/-(.)/g,Dg=/;\s*$/,Ga={},Jh={},Mg=!1,$g=!1,PS=function(o){return o.replace(ES,function(l,h){return h.toUpperCase()})},AS=function(o){Ga.hasOwnProperty(o)&&Ga[o]||(Ga[o]=!0,u("Unsupported style property %s. Did you mean %s?",o,PS(o.replace(CS,"ms-"))))},RS=function(o){Ga.hasOwnProperty(o)&&Ga[o]||(Ga[o]=!0,u("Unsupported vendor-prefixed style property %s. Did you mean %s?",o,o.charAt(0).toUpperCase()+o.slice(1)))},QS=function(o,l){Jh.hasOwnProperty(l)&&Jh[l]||(Jh[l]=!0,u(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,o,l.replace(Dg,"")))},_S=function(o,l){Mg||(Mg=!0,u("`NaN` is an invalid value for the `%s` css style property.",o))},DS=function(o,l){$g||($g=!0,u("`Infinity` is an invalid value for the `%s` css style property.",o))};_g=function(o,l){o.indexOf("-")>-1?AS(o):TS.test(o)?RS(o):Dg.test(l)&&QS(o,l),typeof l=="number"&&(isNaN(l)?_S(o,l):isFinite(l)||DS(o,l))}}var MS=_g;function $S(o){{var l="",h="";for(var p in o)if(o.hasOwnProperty(p)){var v=o[p];if(v!=null){var w=p.indexOf("--")===0;l+=h+(w?p:wS(p))+":",l+=Kh(p,v,w),h=";"}}return l||null}}function Lg(o,l){var h=o.style;for(var p in l)if(l.hasOwnProperty(p)){var v=p.indexOf("--")===0;v||MS(p,l[p]);var w=Kh(p,l[p],v);p==="float"&&(p="cssFloat"),v?h.setProperty(p,w):h[p]=w}}function LS(o){return o==null||typeof o=="boolean"||o===""}function Ng(o){var l={};for(var h in o)for(var p=yS[h]||[h],v=0;v<p.length;v++)l[p[v]]=h;return l}function NS(o,l){{if(!l)return;var h=Ng(o),p=Ng(l),v={};for(var w in h){var Q=h[w],U=p[w];if(U&&Q!==U){var J=Q+","+U;if(v[J])continue;v[J]=!0,u("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",LS(o[Q])?"Removing":"Updating",Q,U)}}}}var jS={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},FS=gn({menuitem:!0},jS),VS="__html";function ef(o,l){if(l){if(FS[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw new Error(o+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof l.dangerouslySetInnerHTML!="object"||!(VS in l.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!l.suppressContentEditableWarning&&l.contentEditable&&l.children!=null&&u("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),l.style!=null&&typeof l.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function da(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},jg={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Ka={},IS=new RegExp("^(aria)-["+St+"]*$"),BS=new RegExp("^(aria)[A-Z]["+St+"]*$");function US(o,l){{if(Be.call(Ka,l)&&Ka[l])return!0;if(BS.test(l)){var h="aria-"+l.slice(4).toLowerCase(),p=jg.hasOwnProperty(h)?h:null;if(p==null)return u("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",l),Ka[l]=!0,!0;if(l!==p)return u("Invalid ARIA attribute `%s`. Did you mean `%s`?",l,p),Ka[l]=!0,!0}if(IS.test(l)){var v=l.toLowerCase(),w=jg.hasOwnProperty(v)?v:null;if(w==null)return Ka[l]=!0,!1;if(l!==w)return u("Unknown ARIA attribute `%s`. Did you mean `%s`?",l,w),Ka[l]=!0,!0}}return!0}function XS(o,l){{var h=[];for(var p in l){var v=US(o,p);v||h.push(p)}var w=h.map(function(Q){return"`"+Q+"`"}).join(", ");h.length===1?u("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",w,o):h.length>1&&u("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",w,o)}}function zS(o,l){da(o,l)||XS(o,l)}var Fg=!1;function qS(o,l){{if(o!=="input"&&o!=="textarea"&&o!=="select")return;l!=null&&l.value===null&&!Fg&&(Fg=!0,o==="select"&&l.multiple?u("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",o):u("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",o))}}var Vg=function(){};{var Lr={},Ig=/^on./,ZS=/^on[^A-Z]/,WS=new RegExp("^(aria)-["+St+"]*$"),YS=new RegExp("^(aria)[A-Z]["+St+"]*$");Vg=function(o,l,h,p){if(Be.call(Lr,l)&&Lr[l])return!0;var v=l.toLowerCase();if(v==="onfocusin"||v==="onfocusout")return u("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Lr[l]=!0,!0;if(p!=null){var w=p.registrationNameDependencies,Q=p.possibleRegistrationNames;if(w.hasOwnProperty(l))return!0;var U=Q.hasOwnProperty(v)?Q[v]:null;if(U!=null)return u("Invalid event handler property `%s`. Did you mean `%s`?",l,U),Lr[l]=!0,!0;if(Ig.test(l))return u("Unknown event handler property `%s`. It will be ignored.",l),Lr[l]=!0,!0}else if(Ig.test(l))return ZS.test(l)&&u("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",l),Lr[l]=!0,!0;if(WS.test(l)||YS.test(l))return!0;if(v==="innerhtml")return u("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Lr[l]=!0,!0;if(v==="aria")return u("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Lr[l]=!0,!0;if(v==="is"&&h!==null&&h!==void 0&&typeof h!="string")return u("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof h),Lr[l]=!0,!0;if(typeof h=="number"&&isNaN(h))return u("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",l),Lr[l]=!0,!0;var J=nn(l),ue=J!==null&&J.type===Me;if(Nc.hasOwnProperty(v)){var Oe=Nc[v];if(Oe!==l)return u("Invalid DOM property `%s`. Did you mean `%s`?",l,Oe),Lr[l]=!0,!0}else if(!ue&&l!==v)return u("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",l,v),Lr[l]=!0,!0;return typeof h=="boolean"&&Je(l,h,J,!1)?(h?u('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',h,l,l,h,l):u('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',h,l,l,h,l,l,l),Lr[l]=!0,!0):ue?!0:Je(l,h,J,!1)?(Lr[l]=!0,!1):((h==="false"||h==="true")&&J!==null&&J.type===ht&&(u("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",h,l,h==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',l,h),Lr[l]=!0),!0)}}var HS=function(o,l,h){{var p=[];for(var v in l){var w=Vg(o,v,l[v],h);w||p.push(v)}var Q=p.map(function(U){return"`"+U+"`"}).join(", ");p.length===1?u("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",Q,o):p.length>1&&u("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",Q,o)}};function GS(o,l,h){da(o,l)||HS(o,l,h)}var Bg=1,tf=2,Ko=4,KS=Bg|tf|Ko,Jo=null;function JS(o){Jo!==null&&u("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Jo=o}function ex(){Jo===null&&u("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Jo=null}function tx(o){return o===Jo}function nf(o){var l=o.target||o.srcElement||window;return l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===os?l.parentNode:l}var rf=null,Ja=null,eo=null;function Ug(o){var l=Fs(o);if(l){if(typeof rf!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var h=l.stateNode;if(h){var p=bu(h);rf(l.stateNode,l.type,p)}}}function nx(o){rf=o}function Xg(o){Ja?eo?eo.push(o):eo=[o]:Ja=o}function rx(){return Ja!==null||eo!==null}function zg(){if(Ja){var o=Ja,l=eo;if(Ja=null,eo=null,Ug(o),l)for(var h=0;h<l.length;h++)Ug(l[h])}}var qg=function(o,l){return o(l)},Zg=function(){},sf=!1;function ix(){var o=rx();o&&(Zg(),zg())}function Wg(o,l,h){if(sf)return o(l,h);sf=!0;try{return qg(o,l,h)}finally{sf=!1,ix()}}function sx(o,l,h){qg=o,Zg=h}function ax(o){return o==="button"||o==="input"||o==="select"||o==="textarea"}function ox(o,l,h){switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(h.disabled&&ax(l));default:return!1}}function el(o,l){var h=o.stateNode;if(h===null)return null;var p=bu(h);if(p===null)return null;var v=p[l];if(ox(l,o.type,p))return null;if(v&&typeof v!="function")throw new Error("Expected `"+l+"` listener to be a function, instead got a value of `"+typeof v+"` type.");return v}var af=!1;if(_e)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){af=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{af=!1}function Yg(o,l,h,p,v,w,Q,U,J){var ue=Array.prototype.slice.call(arguments,3);try{l.apply(h,ue)}catch(Oe){this.onError(Oe)}}var Hg=Yg;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var of=document.createElement("react");Hg=function(l,h,p,v,w,Q,U,J,ue){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var Oe=document.createEvent("Event"),je=!1,Le=!0,nt=window.event,st=Object.getOwnPropertyDescriptor(window,"event");function pt(){of.removeEventListener(mt,en,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=nt)}var Ut=Array.prototype.slice.call(arguments,3);function en(){je=!0,pt(),h.apply(p,Ut),Le=!1}var Gt,Cn=!1,kn=!1;function Ye(He){if(Gt=He.error,Cn=!0,Gt===null&&He.colno===0&&He.lineno===0&&(kn=!0),He.defaultPrevented&&Gt!=null&&typeof Gt=="object")try{Gt._suppressLogging=!0}catch{}}var mt="react-"+(l||"invokeguardedcallback");if(window.addEventListener("error",Ye),of.addEventListener(mt,en,!1),Oe.initEvent(mt,!1,!1),of.dispatchEvent(Oe),st&&Object.defineProperty(window,"event",st),je&&Le&&(Cn?kn&&(Gt=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):Gt=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(Gt)),window.removeEventListener("error",Ye),!je)return pt(),Yg.apply(this,arguments)}}var lx=Hg,to=!1,jc=null,Fc=!1,lf=null,cx={onError:function(o){to=!0,jc=o}};function cf(o,l,h,p,v,w,Q,U,J){to=!1,jc=null,lx.apply(cx,arguments)}function ux(o,l,h,p,v,w,Q,U,J){if(cf.apply(this,arguments),to){var ue=uf();Fc||(Fc=!0,lf=ue)}}function hx(){if(Fc){var o=lf;throw Fc=!1,lf=null,o}}function fx(){return to}function uf(){if(to){var o=jc;return to=!1,jc=null,o}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function no(o){return o._reactInternals}function dx(o){return o._reactInternals!==void 0}function px(o,l){o._reactInternals=l}var sn=0,ro=1,tr=2,Pn=4,pa=16,nl=32,hf=64,_n=128,cs=256,_s=512,ma=1024,yi=2048,us=4096,ga=8192,Vc=16384,mx=yi|Pn|hf|_s|ma|Vc,gx=32767,rl=32768,Nr=65536,ff=131072,Gg=1048576,df=2097152,Oa=4194304,pf=8388608,hs=16777216,Ic=33554432,mf=Pn|ma|0,gf=tr|Pn|pa|nl|_s|us|ga,il=Pn|hf|_s|ga,io=yi|pa,fs=Oa|pf|df,Ox=n.ReactCurrentOwner;function va(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{var p=l;do l=p,(l.flags&(tr|us))!==sn&&(h=l.return),p=l.return;while(p)}return l.tag===x?h:null}function Kg(o){if(o.tag===L){var l=o.memoizedState;if(l===null){var h=o.alternate;h!==null&&(l=h.memoizedState)}if(l!==null)return l.dehydrated}return null}function Jg(o){return o.tag===x?o.stateNode.containerInfo:null}function vx(o){return va(o)===o}function yx(o){{var l=Ox.current;if(l!==null&&l.tag===O){var h=l,p=h.stateNode;p._warnedAboutRefsInRender||u("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",un(h)||"A component"),p._warnedAboutRefsInRender=!0}}var v=no(o);return v?va(v)===v:!1}function eO(o){if(va(o)!==o)throw new Error("Unable to find node on an unmounted component.")}function tO(o){var l=o.alternate;if(!l){var h=va(o);if(h===null)throw new Error("Unable to find node on an unmounted component.");return h!==o?null:o}for(var p=o,v=l;;){var w=p.return;if(w===null)break;var Q=w.alternate;if(Q===null){var U=w.return;if(U!==null){p=v=U;continue}break}if(w.child===Q.child){for(var J=w.child;J;){if(J===p)return eO(w),o;if(J===v)return eO(w),l;J=J.sibling}throw new Error("Unable to find node on an unmounted component.")}if(p.return!==v.return)p=w,v=Q;else{for(var ue=!1,Oe=w.child;Oe;){if(Oe===p){ue=!0,p=w,v=Q;break}if(Oe===v){ue=!0,v=w,p=Q;break}Oe=Oe.sibling}if(!ue){for(Oe=Q.child;Oe;){if(Oe===p){ue=!0,p=Q,v=w;break}if(Oe===v){ue=!0,v=Q,p=w;break}Oe=Oe.sibling}if(!ue)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(p.alternate!==v)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(p.tag!==x)throw new Error("Unable to find node on an unmounted component.");return p.stateNode.current===p?o:l}function nO(o){var l=tO(o);return l!==null?rO(l):null}function rO(o){if(o.tag===E||o.tag===R)return o;for(var l=o.child;l!==null;){var h=rO(l);if(h!==null)return h;l=l.sibling}return null}function bx(o){var l=tO(o);return l!==null?iO(l):null}function iO(o){if(o.tag===E||o.tag===R)return o;for(var l=o.child;l!==null;){if(l.tag!==T){var h=iO(l);if(h!==null)return h}l=l.sibling}return null}var sO=e.unstable_scheduleCallback,Sx=e.unstable_cancelCallback,xx=e.unstable_shouldYield,kx=e.unstable_requestPaint,fr=e.unstable_now,wx=e.unstable_getCurrentPriorityLevel,Bc=e.unstable_ImmediatePriority,Of=e.unstable_UserBlockingPriority,ya=e.unstable_NormalPriority,Tx=e.unstable_LowPriority,vf=e.unstable_IdlePriority,Cx=e.unstable_yieldValue,Ex=e.unstable_setDisableYieldValue,so=null,Ar=null,qt=null,Fi=!1,bi=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function Px(o){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled)return!0;if(!l.supportsFiber)return u("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{F&&(o=gn({},o,{getLaneLabelMap:Mx,injectProfilingHooks:Dx})),so=l.inject(o),Ar=l}catch(h){u("React instrumentation encountered an error: %s.",h)}return!!l.checkDCE}function Ax(o,l){if(Ar&&typeof Ar.onScheduleFiberRoot=="function")try{Ar.onScheduleFiberRoot(so,o,l)}catch(h){Fi||(Fi=!0,u("React instrumentation encountered an error: %s",h))}}function Rx(o,l){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{var h=(o.current.flags&_n)===_n;if(j){var p;switch(l){case Jr:p=Bc;break;case ps:p=Of;break;case ms:p=ya;break;case Yc:p=vf;break;default:p=ya;break}Ar.onCommitFiberRoot(so,o,p,h)}}catch(v){Fi||(Fi=!0,u("React instrumentation encountered an error: %s",v))}}function Qx(o){if(Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(so,o)}catch(l){Fi||(Fi=!0,u("React instrumentation encountered an error: %s",l))}}function _x(o){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(so,o)}catch(l){Fi||(Fi=!0,u("React instrumentation encountered an error: %s",l))}}function dr(o){if(typeof Cx=="function"&&(Ex(o),a(o)),Ar&&typeof Ar.setStrictMode=="function")try{Ar.setStrictMode(so,o)}catch(l){Fi||(Fi=!0,u("React instrumentation encountered an error: %s",l))}}function Dx(o){qt=o}function Mx(){{for(var o=new Map,l=1,h=0;h<bf;h++){var p=e1(l);o.set(l,p),l*=2}return o}}function $x(o){qt!==null&&typeof qt.markCommitStarted=="function"&&qt.markCommitStarted(o)}function aO(){qt!==null&&typeof qt.markCommitStopped=="function"&&qt.markCommitStopped()}function sl(o){qt!==null&&typeof qt.markComponentRenderStarted=="function"&&qt.markComponentRenderStarted(o)}function ao(){qt!==null&&typeof qt.markComponentRenderStopped=="function"&&qt.markComponentRenderStopped()}function Lx(o){qt!==null&&typeof qt.markComponentPassiveEffectMountStarted=="function"&&qt.markComponentPassiveEffectMountStarted(o)}function Nx(){qt!==null&&typeof qt.markComponentPassiveEffectMountStopped=="function"&&qt.markComponentPassiveEffectMountStopped()}function jx(o){qt!==null&&typeof qt.markComponentPassiveEffectUnmountStarted=="function"&&qt.markComponentPassiveEffectUnmountStarted(o)}function Fx(){qt!==null&&typeof qt.markComponentPassiveEffectUnmountStopped=="function"&&qt.markComponentPassiveEffectUnmountStopped()}function Vx(o){qt!==null&&typeof qt.markComponentLayoutEffectMountStarted=="function"&&qt.markComponentLayoutEffectMountStarted(o)}function Ix(){qt!==null&&typeof qt.markComponentLayoutEffectMountStopped=="function"&&qt.markComponentLayoutEffectMountStopped()}function oO(o){qt!==null&&typeof qt.markComponentLayoutEffectUnmountStarted=="function"&&qt.markComponentLayoutEffectUnmountStarted(o)}function lO(){qt!==null&&typeof qt.markComponentLayoutEffectUnmountStopped=="function"&&qt.markComponentLayoutEffectUnmountStopped()}function Bx(o,l,h){qt!==null&&typeof qt.markComponentErrored=="function"&&qt.markComponentErrored(o,l,h)}function Ux(o,l,h){qt!==null&&typeof qt.markComponentSuspended=="function"&&qt.markComponentSuspended(o,l,h)}function Xx(o){qt!==null&&typeof qt.markLayoutEffectsStarted=="function"&&qt.markLayoutEffectsStarted(o)}function zx(){qt!==null&&typeof qt.markLayoutEffectsStopped=="function"&&qt.markLayoutEffectsStopped()}function qx(o){qt!==null&&typeof qt.markPassiveEffectsStarted=="function"&&qt.markPassiveEffectsStarted(o)}function Zx(){qt!==null&&typeof qt.markPassiveEffectsStopped=="function"&&qt.markPassiveEffectsStopped()}function cO(o){qt!==null&&typeof qt.markRenderStarted=="function"&&qt.markRenderStarted(o)}function Wx(){qt!==null&&typeof qt.markRenderYielded=="function"&&qt.markRenderYielded()}function uO(){qt!==null&&typeof qt.markRenderStopped=="function"&&qt.markRenderStopped()}function Yx(o){qt!==null&&typeof qt.markRenderScheduled=="function"&&qt.markRenderScheduled(o)}function Hx(o,l){qt!==null&&typeof qt.markForceUpdateScheduled=="function"&&qt.markForceUpdateScheduled(o,l)}function yf(o,l){qt!==null&&typeof qt.markStateUpdateScheduled=="function"&&qt.markStateUpdateScheduled(o,l)}var tn=0,wn=1,Mn=2,Wn=8,Vi=16,hO=Math.clz32?Math.clz32:Jx,Gx=Math.log,Kx=Math.LN2;function Jx(o){var l=o>>>0;return l===0?32:31-(Gx(l)/Kx|0)|0}var bf=31,Tt=0,pr=0,fn=1,oo=2,ds=4,ba=8,Ii=16,al=32,lo=4194240,ol=64,Sf=128,xf=256,kf=512,wf=1024,Tf=2048,Cf=4096,Ef=8192,Pf=16384,Af=32768,Rf=65536,Qf=131072,_f=262144,Df=524288,Mf=1048576,$f=2097152,Uc=130023424,co=4194304,Lf=8388608,Nf=16777216,jf=33554432,Ff=67108864,fO=co,ll=134217728,dO=268435455,cl=268435456,Sa=536870912,Gr=1073741824;function e1(o){{if(o&fn)return"Sync";if(o&oo)return"InputContinuousHydration";if(o&ds)return"InputContinuous";if(o&ba)return"DefaultHydration";if(o&Ii)return"Default";if(o&al)return"TransitionHydration";if(o&lo)return"Transition";if(o&Uc)return"Retry";if(o&ll)return"SelectiveHydration";if(o&cl)return"IdleHydration";if(o&Sa)return"Idle";if(o&Gr)return"Offscreen"}}var Xn=-1,Xc=ol,zc=co;function ul(o){switch(xa(o)){case fn:return fn;case oo:return oo;case ds:return ds;case ba:return ba;case Ii:return Ii;case al:return al;case ol:case Sf:case xf:case kf:case wf:case Tf:case Cf:case Ef:case Pf:case Af:case Rf:case Qf:case _f:case Df:case Mf:case $f:return o&lo;case co:case Lf:case Nf:case jf:case Ff:return o&Uc;case ll:return ll;case cl:return cl;case Sa:return Sa;case Gr:return Gr;default:return u("Should have found matching lanes. This is a bug in React."),o}}function qc(o,l){var h=o.pendingLanes;if(h===Tt)return Tt;var p=Tt,v=o.suspendedLanes,w=o.pingedLanes,Q=h&dO;if(Q!==Tt){var U=Q&~v;if(U!==Tt)p=ul(U);else{var J=Q&w;J!==Tt&&(p=ul(J))}}else{var ue=h&~v;ue!==Tt?p=ul(ue):w!==Tt&&(p=ul(w))}if(p===Tt)return Tt;if(l!==Tt&&l!==p&&(l&v)===Tt){var Oe=xa(p),je=xa(l);if(Oe>=je||Oe===Ii&&(je&lo)!==Tt)return l}(p&ds)!==Tt&&(p|=h&Ii);var Le=o.entangledLanes;if(Le!==Tt)for(var nt=o.entanglements,st=p&Le;st>0;){var pt=ka(st),Ut=1<<pt;p|=nt[pt],st&=~Ut}return p}function t1(o,l){for(var h=o.eventTimes,p=Xn;l>0;){var v=ka(l),w=1<<v,Q=h[v];Q>p&&(p=Q),l&=~w}return p}function n1(o,l){switch(o){case fn:case oo:case ds:return l+250;case ba:case Ii:case al:case ol:case Sf:case xf:case kf:case wf:case Tf:case Cf:case Ef:case Pf:case Af:case Rf:case Qf:case _f:case Df:case Mf:case $f:return l+5e3;case co:case Lf:case Nf:case jf:case Ff:return Xn;case ll:case cl:case Sa:case Gr:return Xn;default:return u("Should have found matching lanes. This is a bug in React."),Xn}}function r1(o,l){for(var h=o.pendingLanes,p=o.suspendedLanes,v=o.pingedLanes,w=o.expirationTimes,Q=h;Q>0;){var U=ka(Q),J=1<<U,ue=w[U];ue===Xn?((J&p)===Tt||(J&v)!==Tt)&&(w[U]=n1(J,l)):ue<=l&&(o.expiredLanes|=J),Q&=~J}}function i1(o){return ul(o.pendingLanes)}function Vf(o){var l=o.pendingLanes&~Gr;return l!==Tt?l:l&Gr?Gr:Tt}function s1(o){return(o&fn)!==Tt}function If(o){return(o&dO)!==Tt}function pO(o){return(o&Uc)===o}function a1(o){var l=fn|ds|Ii;return(o&l)===Tt}function o1(o){return(o&lo)===o}function Zc(o,l){var h=oo|ds|ba|Ii;return(l&h)!==Tt}function l1(o,l){return(l&o.expiredLanes)!==Tt}function mO(o){return(o&lo)!==Tt}function gO(){var o=Xc;return Xc<<=1,(Xc&lo)===Tt&&(Xc=ol),o}function c1(){var o=zc;return zc<<=1,(zc&Uc)===Tt&&(zc=co),o}function xa(o){return o&-o}function hl(o){return xa(o)}function ka(o){return 31-hO(o)}function Bf(o){return ka(o)}function Kr(o,l){return(o&l)!==Tt}function uo(o,l){return(o&l)===l}function bn(o,l){return o|l}function Wc(o,l){return o&~l}function OO(o,l){return o&l}function _A(o){return o}function u1(o,l){return o!==pr&&o<l?o:l}function Uf(o){for(var l=[],h=0;h<bf;h++)l.push(o);return l}function fl(o,l,h){o.pendingLanes|=l,l!==Sa&&(o.suspendedLanes=Tt,o.pingedLanes=Tt);var p=o.eventTimes,v=Bf(l);p[v]=h}function h1(o,l){o.suspendedLanes|=l,o.pingedLanes&=~l;for(var h=o.expirationTimes,p=l;p>0;){var v=ka(p),w=1<<v;h[v]=Xn,p&=~w}}function vO(o,l,h){o.pingedLanes|=o.suspendedLanes&l}function f1(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=Tt,o.pingedLanes=Tt,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l;for(var p=o.entanglements,v=o.eventTimes,w=o.expirationTimes,Q=h;Q>0;){var U=ka(Q),J=1<<U;p[U]=Tt,v[U]=Xn,w[U]=Xn,Q&=~J}}function Xf(o,l){for(var h=o.entangledLanes|=l,p=o.entanglements,v=h;v;){var w=ka(v),Q=1<<w;Q&l|p[w]&l&&(p[w]|=l),v&=~Q}}function d1(o,l){var h=xa(l),p;switch(h){case ds:p=oo;break;case Ii:p=ba;break;case ol:case Sf:case xf:case kf:case wf:case Tf:case Cf:case Ef:case Pf:case Af:case Rf:case Qf:case _f:case Df:case Mf:case $f:case co:case Lf:case Nf:case jf:case Ff:p=al;break;case Sa:p=cl;break;default:p=pr;break}return(p&(o.suspendedLanes|l))!==pr?pr:p}function yO(o,l,h){if(bi)for(var p=o.pendingUpdatersLaneMap;h>0;){var v=Bf(h),w=1<<v,Q=p[v];Q.add(l),h&=~w}}function bO(o,l){if(bi)for(var h=o.pendingUpdatersLaneMap,p=o.memoizedUpdaters;l>0;){var v=Bf(l),w=1<<v,Q=h[v];Q.size>0&&(Q.forEach(function(U){var J=U.alternate;(J===null||!p.has(J))&&p.add(U)}),Q.clear()),l&=~w}}function SO(o,l){return null}var Jr=fn,ps=ds,ms=Ii,Yc=Sa,dl=pr;function Si(){return dl}function mr(o){dl=o}function p1(o,l){var h=dl;try{return dl=o,l()}finally{dl=h}}function m1(o,l){return o!==0&&o<l?o:l}function g1(o,l){return o===0||o>l?o:l}function zf(o,l){return o!==0&&o<l}function xO(o){var l=xa(o);return zf(Jr,l)?zf(ps,l)?If(l)?ms:Yc:ps:Jr}function Hc(o){var l=o.current.memoizedState;return l.isDehydrated}var kO;function O1(o){kO=o}function v1(o){kO(o)}var qf;function y1(o){qf=o}var wO;function b1(o){wO=o}var TO;function S1(o){TO=o}var CO;function x1(o){CO=o}var Zf=!1,Gc=[],Ds=null,Ms=null,$s=null,pl=new Map,ml=new Map,Ls=[],k1=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function w1(o){return k1.indexOf(o)>-1}function T1(o,l,h,p,v){return{blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[p]}}function EO(o,l){switch(o){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":{var h=l.pointerId;pl.delete(h);break}case"gotpointercapture":case"lostpointercapture":{var p=l.pointerId;ml.delete(p);break}}}function gl(o,l,h,p,v,w){if(o===null||o.nativeEvent!==w){var Q=T1(l,h,p,v,w);if(l!==null){var U=Fs(l);U!==null&&qf(U)}return Q}o.eventSystemFlags|=p;var J=o.targetContainers;return v!==null&&J.indexOf(v)===-1&&J.push(v),o}function C1(o,l,h,p,v){switch(l){case"focusin":{var w=v;return Ds=gl(Ds,o,l,h,p,w),!0}case"dragenter":{var Q=v;return Ms=gl(Ms,o,l,h,p,Q),!0}case"mouseover":{var U=v;return $s=gl($s,o,l,h,p,U),!0}case"pointerover":{var J=v,ue=J.pointerId;return pl.set(ue,gl(pl.get(ue)||null,o,l,h,p,J)),!0}case"gotpointercapture":{var Oe=v,je=Oe.pointerId;return ml.set(je,gl(ml.get(je)||null,o,l,h,p,Oe)),!0}}return!1}function PO(o){var l=Ca(o.target);if(l!==null){var h=va(l);if(h!==null){var p=h.tag;if(p===L){var v=Kg(h);if(v!==null){o.blockedOn=v,CO(o.priority,function(){wO(h)});return}}else if(p===x){var w=h.stateNode;if(Hc(w)){o.blockedOn=Jg(h);return}}}}o.blockedOn=null}function E1(o){for(var l=TO(),h={blockedOn:null,target:o,priority:l},p=0;p<Ls.length&&zf(l,Ls[p].priority);p++);Ls.splice(p,0,h),p===0&&PO(h)}function Kc(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;l.length>0;){var h=l[0],p=Hf(o.domEventName,o.eventSystemFlags,h,o.nativeEvent);if(p===null){var v=o.nativeEvent,w=new v.constructor(v.type,v);JS(w),v.target.dispatchEvent(w),ex()}else{var Q=Fs(p);return Q!==null&&qf(Q),o.blockedOn=p,!1}l.shift()}return!0}function AO(o,l,h){Kc(o)&&h.delete(l)}function P1(){Zf=!1,Ds!==null&&Kc(Ds)&&(Ds=null),Ms!==null&&Kc(Ms)&&(Ms=null),$s!==null&&Kc($s)&&($s=null),pl.forEach(AO),ml.forEach(AO)}function Ol(o,l){o.blockedOn===l&&(o.blockedOn=null,Zf||(Zf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,P1)))}function vl(o){if(Gc.length>0){Ol(Gc[0],o);for(var l=1;l<Gc.length;l++){var h=Gc[l];h.blockedOn===o&&(h.blockedOn=null)}}Ds!==null&&Ol(Ds,o),Ms!==null&&Ol(Ms,o),$s!==null&&Ol($s,o);var p=function(U){return Ol(U,o)};pl.forEach(p),ml.forEach(p);for(var v=0;v<Ls.length;v++){var w=Ls[v];w.blockedOn===o&&(w.blockedOn=null)}for(;Ls.length>0;){var Q=Ls[0];if(Q.blockedOn!==null)break;PO(Q),Q.blockedOn===null&&Ls.shift()}}var ho=n.ReactCurrentBatchConfig,Wf=!0;function RO(o){Wf=!!o}function A1(){return Wf}function R1(o,l,h){var p=QO(l),v;switch(p){case Jr:v=Q1;break;case ps:v=_1;break;case ms:default:v=Yf;break}return v.bind(null,l,h,o)}function Q1(o,l,h,p){var v=Si(),w=ho.transition;ho.transition=null;try{mr(Jr),Yf(o,l,h,p)}finally{mr(v),ho.transition=w}}function _1(o,l,h,p){var v=Si(),w=ho.transition;ho.transition=null;try{mr(ps),Yf(o,l,h,p)}finally{mr(v),ho.transition=w}}function Yf(o,l,h,p){Wf&&D1(o,l,h,p)}function D1(o,l,h,p){var v=Hf(o,l,h,p);if(v===null){hd(o,l,p,Jc,h),EO(o,p);return}if(C1(v,o,l,h,p)){p.stopPropagation();return}if(EO(o,p),l&Ko&&w1(o)){for(;v!==null;){var w=Fs(v);w!==null&&v1(w);var Q=Hf(o,l,h,p);if(Q===null&&hd(o,l,p,Jc,h),Q===v)break;v=Q}v!==null&&p.stopPropagation();return}hd(o,l,p,null,h)}var Jc=null;function Hf(o,l,h,p){Jc=null;var v=nf(p),w=Ca(v);if(w!==null){var Q=va(w);if(Q===null)w=null;else{var U=Q.tag;if(U===L){var J=Kg(Q);if(J!==null)return J;w=null}else if(U===x){var ue=Q.stateNode;if(Hc(ue))return Jg(Q);w=null}else Q!==w&&(w=null)}}return Jc=w,null}function QO(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Jr;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return ps;case"message":{var l=wx();switch(l){case Bc:return Jr;case Of:return ps;case ya:case Tx:return ms;case vf:return Yc;default:return ms}}default:return ms}}function M1(o,l,h){return o.addEventListener(l,h,!1),h}function $1(o,l,h){return o.addEventListener(l,h,!0),h}function L1(o,l,h,p){return o.addEventListener(l,h,{capture:!0,passive:p}),h}function N1(o,l,h,p){return o.addEventListener(l,h,{passive:p}),h}var yl=null,Gf=null,bl=null;function j1(o){return yl=o,Gf=DO(),!0}function F1(){yl=null,Gf=null,bl=null}function _O(){if(bl)return bl;var o,l=Gf,h=l.length,p,v=DO(),w=v.length;for(o=0;o<h&&l[o]===v[o];o++);var Q=h-o;for(p=1;p<=Q&&l[h-p]===v[w-p];p++);var U=p>1?1-p:void 0;return bl=v.slice(o,U),bl}function DO(){return"value"in yl?yl.value:yl.textContent}function eu(o){var l,h=o.keyCode;return"charCode"in o?(l=o.charCode,l===0&&h===13&&(l=13)):l=h,l===10&&(l=13),l>=32||l===13?l:0}function tu(){return!0}function MO(){return!1}function ei(o){function l(h,p,v,w,Q){this._reactName=h,this._targetInst=v,this.type=p,this.nativeEvent=w,this.target=Q,this.currentTarget=null;for(var U in o)if(o.hasOwnProperty(U)){var J=o[U];J?this[U]=J(w):this[U]=w[U]}var ue=w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1;return ue?this.isDefaultPrevented=tu:this.isDefaultPrevented=MO,this.isPropagationStopped=MO,this}return gn(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),l}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kf=ei(fo),Sl=gn({},fo,{view:0,detail:0}),V1=ei(Sl),Jf,ed,xl;function I1(o){o!==xl&&(xl&&o.type==="mousemove"?(Jf=o.screenX-xl.screenX,ed=o.screenY-xl.screenY):(Jf=0,ed=0),xl=o)}var nu=gn({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(I1(o),Jf)},movementY:function(o){return"movementY"in o?o.movementY:ed}}),$O=ei(nu),B1=gn({},nu,{dataTransfer:0}),U1=ei(B1),X1=gn({},Sl,{relatedTarget:0}),td=ei(X1),z1=gn({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),q1=ei(z1),Z1=gn({},fo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),W1=ei(Z1),Y1=gn({},fo,{data:0}),LO=ei(Y1),H1=LO,G1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function J1(o){if(o.key){var l=G1[o.key]||o.key;if(l!=="Unidentified")return l}if(o.type==="keypress"){var h=eu(o);return h===13?"Enter":String.fromCharCode(h)}return o.type==="keydown"||o.type==="keyup"?K1[o.keyCode]||"Unidentified":""}var ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tk(o){var l=this,h=l.nativeEvent;if(h.getModifierState)return h.getModifierState(o);var p=ek[o];return p?!!h[p]:!1}function nd(o){return tk}var nk=gn({},Sl,{key:J1,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(o){return o.type==="keypress"?eu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?eu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),rk=ei(nk),ik=gn({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NO=ei(ik),sk=gn({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),ak=ei(sk),ok=gn({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),lk=ei(ok),ck=gn({},nu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),uk=ei(ck),hk=[9,13,27,32],jO=229,rd=_e&&"CompositionEvent"in window,kl=null;_e&&"documentMode"in document&&(kl=document.documentMode);var fk=_e&&"TextEvent"in window&&!kl,FO=_e&&(!rd||kl&&kl>8&&kl<=11),VO=32,IO=String.fromCharCode(VO);function dk(){xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),xe("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),xe("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),xe("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var BO=!1;function pk(o){return(o.ctrlKey||o.altKey||o.metaKey)&&!(o.ctrlKey&&o.altKey)}function mk(o){switch(o){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function gk(o,l){return o==="keydown"&&l.keyCode===jO}function UO(o,l){switch(o){case"keyup":return hk.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==jO;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XO(o){var l=o.detail;return typeof l=="object"&&"data"in l?l.data:null}function zO(o){return o.locale==="ko"}var po=!1;function Ok(o,l,h,p,v){var w,Q;if(rd?w=mk(l):po?UO(l,p)&&(w="onCompositionEnd"):gk(l,p)&&(w="onCompositionStart"),!w)return null;FO&&!zO(p)&&(!po&&w==="onCompositionStart"?po=j1(v):w==="onCompositionEnd"&&po&&(Q=_O()));var U=ou(h,w);if(U.length>0){var J=new LO(w,l,null,p,v);if(o.push({event:J,listeners:U}),Q)J.data=Q;else{var ue=XO(p);ue!==null&&(J.data=ue)}}}function vk(o,l){switch(o){case"compositionend":return XO(l);case"keypress":var h=l.which;return h!==VO?null:(BO=!0,IO);case"textInput":var p=l.data;return p===IO&&BO?null:p;default:return null}}function yk(o,l){if(po){if(o==="compositionend"||!rd&&UO(o,l)){var h=_O();return F1(),po=!1,h}return null}switch(o){case"paste":return null;case"keypress":if(!pk(l)){if(l.char&&l.char.length>1)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return FO&&!zO(l)?null:l.data;default:return null}}function bk(o,l,h,p,v){var w;if(fk?w=vk(l,p):w=yk(l,p),!w)return null;var Q=ou(h,"onBeforeInput");if(Q.length>0){var U=new H1("onBeforeInput","beforeinput",null,p,v);o.push({event:U,listeners:Q}),U.data=w}}function Sk(o,l,h,p,v,w,Q){Ok(o,l,h,p,v),bk(o,l,h,p,v)}var xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qO(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!xk[o.type]:l==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function kk(o){if(!_e)return!1;var l="on"+o,h=l in document;if(!h){var p=document.createElement("div");p.setAttribute(l,"return;"),h=typeof p[l]=="function"}return h}function wk(){xe("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function ZO(o,l,h,p){Xg(p);var v=ou(l,"onChange");if(v.length>0){var w=new Kf("onChange","change",null,h,p);o.push({event:w,listeners:v})}}var wl=null,Tl=null;function Tk(o){var l=o.nodeName&&o.nodeName.toLowerCase();return l==="select"||l==="input"&&o.type==="file"}function Ck(o){var l=[];ZO(l,Tl,o,nf(o)),Wg(Ek,l)}function Ek(o){hv(o,0)}function ru(o){var l=bo(o);if(ss(l))return o}function Pk(o,l){if(o==="change")return l}var WO=!1;_e&&(WO=kk("input")&&(!document.documentMode||document.documentMode>9));function Ak(o,l){wl=o,Tl=l,wl.attachEvent("onpropertychange",HO)}function YO(){wl&&(wl.detachEvent("onpropertychange",HO),wl=null,Tl=null)}function HO(o){o.propertyName==="value"&&ru(Tl)&&Ck(o)}function Rk(o,l,h){o==="focusin"?(YO(),Ak(l,h)):o==="focusout"&&YO()}function Qk(o,l){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ru(Tl)}function _k(o){var l=o.nodeName;return l&&l.toLowerCase()==="input"&&(o.type==="checkbox"||o.type==="radio")}function Dk(o,l){if(o==="click")return ru(l)}function Mk(o,l){if(o==="input"||o==="change")return ru(l)}function $k(o){var l=o._wrapperState;!l||!l.controlled||o.type!=="number"||ve(o,"number",o.value)}function Lk(o,l,h,p,v,w,Q){var U=h?bo(h):window,J,ue;if(Tk(U)?J=Pk:qO(U)?WO?J=Mk:(J=Qk,ue=Rk):_k(U)&&(J=Dk),J){var Oe=J(l,h);if(Oe){ZO(o,Oe,p,v);return}}ue&&ue(l,U,h),l==="focusout"&&$k(U)}function Nk(){$e("onMouseEnter",["mouseout","mouseover"]),$e("onMouseLeave",["mouseout","mouseover"]),$e("onPointerEnter",["pointerout","pointerover"]),$e("onPointerLeave",["pointerout","pointerover"])}function jk(o,l,h,p,v,w,Q){var U=l==="mouseover"||l==="pointerover",J=l==="mouseout"||l==="pointerout";if(U&&!tx(p)){var ue=p.relatedTarget||p.fromElement;if(ue&&(Ca(ue)||Vl(ue)))return}if(!(!J&&!U)){var Oe;if(v.window===v)Oe=v;else{var je=v.ownerDocument;je?Oe=je.defaultView||je.parentWindow:Oe=window}var Le,nt;if(J){var st=p.relatedTarget||p.toElement;if(Le=h,nt=st?Ca(st):null,nt!==null){var pt=va(nt);(nt!==pt||nt.tag!==E&&nt.tag!==R)&&(nt=null)}}else Le=null,nt=h;if(Le!==nt){var Ut=$O,en="onMouseLeave",Gt="onMouseEnter",Cn="mouse";(l==="pointerout"||l==="pointerover")&&(Ut=NO,en="onPointerLeave",Gt="onPointerEnter",Cn="pointer");var kn=Le==null?Oe:bo(Le),Ye=nt==null?Oe:bo(nt),mt=new Ut(en,Cn+"leave",Le,p,v);mt.target=kn,mt.relatedTarget=Ye;var He=null,At=Ca(v);if(At===h){var Wt=new Ut(Gt,Cn+"enter",nt,p,v);Wt.target=Ye,Wt.relatedTarget=kn,He=Wt}lw(o,mt,He,Le,nt)}}}function Fk(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ti=typeof Object.is=="function"?Object.is:Fk;function Cl(o,l){if(ti(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),p=Object.keys(l);if(h.length!==p.length)return!1;for(var v=0;v<h.length;v++){var w=h[v];if(!Be.call(l,w)||!ti(o[w],l[w]))return!1}return!0}function GO(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Vk(o){for(;o;){if(o.nextSibling)return o.nextSibling;o=o.parentNode}}function KO(o,l){for(var h=GO(o),p=0,v=0;h;){if(h.nodeType===os){if(v=p+h.textContent.length,p<=l&&v>=l)return{node:h,offset:l-p};p=v}h=GO(Vk(h))}}function Ik(o){var l=o.ownerDocument,h=l&&l.defaultView||window,p=h.getSelection&&h.getSelection();if(!p||p.rangeCount===0)return null;var v=p.anchorNode,w=p.anchorOffset,Q=p.focusNode,U=p.focusOffset;try{v.nodeType,Q.nodeType}catch{return null}return Bk(o,v,w,Q,U)}function Bk(o,l,h,p,v){var w=0,Q=-1,U=-1,J=0,ue=0,Oe=o,je=null;e:for(;;){for(var Le=null;Oe===l&&(h===0||Oe.nodeType===os)&&(Q=w+h),Oe===p&&(v===0||Oe.nodeType===os)&&(U=w+v),Oe.nodeType===os&&(w+=Oe.nodeValue.length),(Le=Oe.firstChild)!==null;)je=Oe,Oe=Le;for(;;){if(Oe===o)break e;if(je===l&&++J===h&&(Q=w),je===p&&++ue===v&&(U=w),(Le=Oe.nextSibling)!==null)break;Oe=je,je=Oe.parentNode}Oe=Le}return Q===-1||U===-1?null:{start:Q,end:U}}function Uk(o,l){var h=o.ownerDocument||document,p=h&&h.defaultView||window;if(p.getSelection){var v=p.getSelection(),w=o.textContent.length,Q=Math.min(l.start,w),U=l.end===void 0?Q:Math.min(l.end,w);if(!v.extend&&Q>U){var J=U;U=Q,Q=J}var ue=KO(o,Q),Oe=KO(o,U);if(ue&&Oe){if(v.rangeCount===1&&v.anchorNode===ue.node&&v.anchorOffset===ue.offset&&v.focusNode===Oe.node&&v.focusOffset===Oe.offset)return;var je=h.createRange();je.setStart(ue.node,ue.offset),v.removeAllRanges(),Q>U?(v.addRange(je),v.extend(Oe.node,Oe.offset)):(je.setEnd(Oe.node,Oe.offset),v.addRange(je))}}}function JO(o){return o&&o.nodeType===os}function ev(o,l){return!o||!l?!1:o===l?!0:JO(o)?!1:JO(l)?ev(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1}function Xk(o){return o&&o.ownerDocument&&ev(o.ownerDocument.documentElement,o)}function zk(o){try{return typeof o.contentWindow.location.href=="string"}catch{return!1}}function tv(){for(var o=window,l=vi();l instanceof o.HTMLIFrameElement;){if(zk(l))o=l.contentWindow;else return l;l=vi(o.document)}return l}function sd(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function qk(){var o=tv();return{focusedElem:o,selectionRange:sd(o)?Wk(o):null}}function Zk(o){var l=tv(),h=o.focusedElem,p=o.selectionRange;if(l!==h&&Xk(h)){p!==null&&sd(h)&&Yk(h,p);for(var v=[],w=h;w=w.parentNode;)w.nodeType===zr&&v.push({element:w,left:w.scrollLeft,top:w.scrollTop});typeof h.focus=="function"&&h.focus();for(var Q=0;Q<v.length;Q++){var U=v[Q];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}}function Wk(o){var l;return"selectionStart"in o?l={start:o.selectionStart,end:o.selectionEnd}:l=Ik(o),l||{start:0,end:0}}function Yk(o,l){var h=l.start,p=l.end;p===void 0&&(p=h),"selectionStart"in o?(o.selectionStart=h,o.selectionEnd=Math.min(p,o.value.length)):Uk(o,l)}var Hk=_e&&"documentMode"in document&&document.documentMode<=11;function Gk(){xe("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var mo=null,ad=null,El=null,od=!1;function Kk(o){if("selectionStart"in o&&sd(o))return{start:o.selectionStart,end:o.selectionEnd};var l=o.ownerDocument&&o.ownerDocument.defaultView||window,h=l.getSelection();return{anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}}function Jk(o){return o.window===o?o.document:o.nodeType===ls?o:o.ownerDocument}function nv(o,l,h){var p=Jk(h);if(!(od||mo==null||mo!==vi(p))){var v=Kk(mo);if(!El||!Cl(El,v)){El=v;var w=ou(ad,"onSelect");if(w.length>0){var Q=new Kf("onSelect","select",null,l,h);o.push({event:Q,listeners:w}),Q.target=mo}}}}function ew(o,l,h,p,v,w,Q){var U=h?bo(h):window;switch(l){case"focusin":(qO(U)||U.contentEditable==="true")&&(mo=U,ad=h,El=null);break;case"focusout":mo=null,ad=null,El=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,nv(o,p,v);break;case"selectionchange":if(Hk)break;case"keydown":case"keyup":nv(o,p,v)}}function iu(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var go={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},ld={},rv={};_e&&(rv=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function su(o){if(ld[o])return ld[o];if(!go[o])return o;var l=go[o];for(var h in l)if(l.hasOwnProperty(h)&&h in rv)return ld[o]=l[h];return o}var iv=su("animationend"),sv=su("animationiteration"),av=su("animationstart"),ov=su("transitionend"),lv=new Map,cv=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function Ns(o,l){lv.set(o,l),xe(l,[o])}function tw(){for(var o=0;o<cv.length;o++){var l=cv[o],h=l.toLowerCase(),p=l[0].toUpperCase()+l.slice(1);Ns(h,"on"+p)}Ns(iv,"onAnimationEnd"),Ns(sv,"onAnimationIteration"),Ns(av,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(ov,"onTransitionEnd")}function nw(o,l,h,p,v,w,Q){var U=lv.get(l);if(U!==void 0){var J=Kf,ue=l;switch(l){case"keypress":if(eu(p)===0)return;case"keydown":case"keyup":J=rk;break;case"focusin":ue="focus",J=td;break;case"focusout":ue="blur",J=td;break;case"beforeblur":case"afterblur":J=td;break;case"click":if(p.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=$O;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=U1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ak;break;case iv:case sv:case av:J=q1;break;case ov:J=lk;break;case"scroll":J=V1;break;case"wheel":J=uk;break;case"copy":case"cut":case"paste":J=W1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=NO;break}var Oe=(w&Ko)!==0;{var je=!Oe&&l==="scroll",Le=aw(h,U,p.type,Oe,je);if(Le.length>0){var nt=new J(U,ue,null,p,v);o.push({event:nt,listeners:Le})}}}}tw(),Nk(),wk(),Gk(),dk();function rw(o,l,h,p,v,w,Q){nw(o,l,h,p,v,w);var U=(w&KS)===0;U&&(jk(o,l,h,p,v),Lk(o,l,h,p,v),ew(o,l,h,p,v),Sk(o,l,h,p,v))}var Pl=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],cd=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Pl));function uv(o,l,h){var p=o.type||"unknown-event";o.currentTarget=h,ux(p,l,void 0,o),o.currentTarget=null}function iw(o,l,h){var p;if(h)for(var v=l.length-1;v>=0;v--){var w=l[v],Q=w.instance,U=w.currentTarget,J=w.listener;if(Q!==p&&o.isPropagationStopped())return;uv(o,J,U),p=Q}else for(var ue=0;ue<l.length;ue++){var Oe=l[ue],je=Oe.instance,Le=Oe.currentTarget,nt=Oe.listener;if(je!==p&&o.isPropagationStopped())return;uv(o,nt,Le),p=je}}function hv(o,l){for(var h=(l&Ko)!==0,p=0;p<o.length;p++){var v=o[p],w=v.event,Q=v.listeners;iw(w,Q,h)}hx()}function sw(o,l,h,p,v){var w=nf(h),Q=[];rw(Q,o,p,h,w,l),hv(Q,l)}function zn(o,l){cd.has(o)||u('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',o);var h=!1,p=$T(l),v=cw(o,h);p.has(v)||(fv(l,o,tf,h),p.add(v))}function ud(o,l,h){cd.has(o)&&!l&&u('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',o);var p=0;l&&(p|=Ko),fv(h,o,p,l)}var au="_reactListening"+Math.random().toString(36).slice(2);function Al(o){if(!o[au]){o[au]=!0,K.forEach(function(h){h!=="selectionchange"&&(cd.has(h)||ud(h,!1,o),ud(h,!0,o))});var l=o.nodeType===ls?o:o.ownerDocument;l!==null&&(l[au]||(l[au]=!0,ud("selectionchange",!1,l)))}}function fv(o,l,h,p,v){var w=R1(o,l,h),Q=void 0;af&&(l==="touchstart"||l==="touchmove"||l==="wheel")&&(Q=!0),o=o,p?Q!==void 0?L1(o,l,w,Q):$1(o,l,w):Q!==void 0?N1(o,l,w,Q):M1(o,l,w)}function dv(o,l){return o===l||o.nodeType===er&&o.parentNode===l}function hd(o,l,h,p,v){var w=p;if(!(l&Bg)&&!(l&tf)){var Q=v;if(p!==null){var U=p;e:for(;;){if(U===null)return;var J=U.tag;if(J===x||J===T){var ue=U.stateNode.containerInfo;if(dv(ue,Q))break;if(J===T)for(var Oe=U.return;Oe!==null;){var je=Oe.tag;if(je===x||je===T){var Le=Oe.stateNode.containerInfo;if(dv(Le,Q))return}Oe=Oe.return}for(;ue!==null;){var nt=Ca(ue);if(nt===null)return;var st=nt.tag;if(st===E||st===R){U=w=nt;continue e}ue=ue.parentNode}}U=U.return}}}Wg(function(){return sw(o,l,h,w)})}function Rl(o,l,h){return{instance:o,listener:l,currentTarget:h}}function aw(o,l,h,p,v,w){for(var Q=l!==null?l+"Capture":null,U=p?Q:l,J=[],ue=o,Oe=null;ue!==null;){var je=ue,Le=je.stateNode,nt=je.tag;if(nt===E&&Le!==null&&(Oe=Le,U!==null)){var st=el(ue,U);st!=null&&J.push(Rl(ue,st,Oe))}if(v)break;ue=ue.return}return J}function ou(o,l){for(var h=l+"Capture",p=[],v=o;v!==null;){var w=v,Q=w.stateNode,U=w.tag;if(U===E&&Q!==null){var J=Q,ue=el(v,h);ue!=null&&p.unshift(Rl(v,ue,J));var Oe=el(v,l);Oe!=null&&p.push(Rl(v,Oe,J))}v=v.return}return p}function Oo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==E);return o||null}function ow(o,l){for(var h=o,p=l,v=0,w=h;w;w=Oo(w))v++;for(var Q=0,U=p;U;U=Oo(U))Q++;for(;v-Q>0;)h=Oo(h),v--;for(;Q-v>0;)p=Oo(p),Q--;for(var J=v;J--;){if(h===p||p!==null&&h===p.alternate)return h;h=Oo(h),p=Oo(p)}return null}function pv(o,l,h,p,v){for(var w=l._reactName,Q=[],U=h;U!==null&&U!==p;){var J=U,ue=J.alternate,Oe=J.stateNode,je=J.tag;if(ue!==null&&ue===p)break;if(je===E&&Oe!==null){var Le=Oe;if(v){var nt=el(U,w);nt!=null&&Q.unshift(Rl(U,nt,Le))}else if(!v){var st=el(U,w);st!=null&&Q.push(Rl(U,st,Le))}}U=U.return}Q.length!==0&&o.push({event:l,listeners:Q})}function lw(o,l,h,p,v){var w=p&&v?ow(p,v):null;p!==null&&pv(o,l,p,w,!1),v!==null&&h!==null&&pv(o,h,v,w,!0)}function cw(o,l){return o+"__"+(l?"capture":"bubble")}var qr=!1,Ql="dangerouslySetInnerHTML",lu="suppressContentEditableWarning",js="suppressHydrationWarning",mv="autoFocus",wa="children",Ta="style",cu="__html",fd,uu,_l,gv,hu,Ov,vv;fd={dialog:!0,webview:!0},uu=function(o,l){zS(o,l),qS(o,l),GS(o,l,{registrationNameDependencies:le,possibleRegistrationNames:pe})},Ov=_e&&!document.documentMode,_l=function(o,l,h){if(!qr){var p=fu(h),v=fu(l);v!==p&&(qr=!0,u("Prop `%s` did not match. Server: %s Client: %s",o,JSON.stringify(v),JSON.stringify(p)))}},gv=function(o){if(!qr){qr=!0;var l=[];o.forEach(function(h){l.push(h)}),u("Extra attributes from the server: %s",l)}},hu=function(o,l){l===!1?u("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",o,o,o):u("Expected `%s` listener to be a function, instead got a value of `%s` type.",o,typeof l)},vv=function(o,l){var h=o.namespaceURI===as?o.ownerDocument.createElement(o.tagName):o.ownerDocument.createElementNS(o.namespaceURI,o.tagName);return h.innerHTML=l,h.innerHTML};var uw=/\r\n?/g,hw=/\u0000|\uFFFD/g;function fu(o){tt(o);var l=typeof o=="string"?o:""+o;return l.replace(uw,`
`).replace(hw,"")}function du(o,l,h,p){var v=fu(l),w=fu(o);if(w!==v&&(p&&(qr||(qr=!0,u('Text content did not match. Server: "%s" Client: "%s"',w,v))),h&&Pe))throw new Error("Text content does not match server-rendered HTML.")}function yv(o){return o.nodeType===ls?o:o.ownerDocument}function fw(){}function pu(o){o.onclick=fw}function dw(o,l,h,p,v){for(var w in p)if(p.hasOwnProperty(w)){var Q=p[w];if(w===Ta)Q&&Object.freeze(Q),Lg(l,Q);else if(w===Ql){var U=Q?Q[cu]:void 0;U!=null&&Qg(l,U)}else if(w===wa)if(typeof Q=="string"){var J=o!=="textarea"||Q!=="";J&&Lc(l,Q)}else typeof Q=="number"&&Lc(l,""+Q);else w===lu||w===js||w===mv||(le.hasOwnProperty(w)?Q!=null&&(typeof Q!="function"&&hu(w,Q),w==="onScroll"&&zn("scroll",l)):Q!=null&&ye(l,w,Q,v))}}function pw(o,l,h,p){for(var v=0;v<l.length;v+=2){var w=l[v],Q=l[v+1];w===Ta?Lg(o,Q):w===Ql?Qg(o,Q):w===wa?Lc(o,Q):ye(o,w,Q,p)}}function mw(o,l,h,p){var v,w=yv(h),Q,U=p;if(U===as&&(U=Yh(o)),U===as){if(v=da(o,l),!v&&o!==o.toLowerCase()&&u("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",o),o==="script"){var J=w.createElement("div");J.innerHTML="<script><\/script>";var ue=J.firstChild;Q=J.removeChild(ue)}else if(typeof l.is=="string")Q=w.createElement(o,{is:l.is});else if(Q=w.createElement(o),o==="select"){var Oe=Q;l.multiple?Oe.multiple=!0:l.size&&(Oe.size=l.size)}}else Q=w.createElementNS(U,o);return U===as&&!v&&Object.prototype.toString.call(Q)==="[object HTMLUnknownElement]"&&!Be.call(fd,o)&&(fd[o]=!0,u("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",o)),Q}function gw(o,l){return yv(l).createTextNode(o)}function Ow(o,l,h,p){var v=da(l,h);uu(l,h);var w;switch(l){case"dialog":zn("cancel",o),zn("close",o),w=h;break;case"iframe":case"object":case"embed":zn("load",o),w=h;break;case"video":case"audio":for(var Q=0;Q<Pl.length;Q++)zn(Pl[Q],o);w=h;break;case"source":zn("error",o),w=h;break;case"img":case"image":case"link":zn("error",o),zn("load",o),w=h;break;case"details":zn("toggle",o),w=h;break;case"input":P(o,h),w=b(o,h),zn("invalid",o);break;case"option":Qe(o,h),w=h;break;case"select":xn(o,h),w=jn(o,h),zn("invalid",o);break;case"textarea":ji(o,h),w=Pr(o,h),zn("invalid",o);break;default:w=h}switch(ef(l,w),dw(l,o,p,w,v),l){case"input":ai(o),re(o,h,!1);break;case"textarea":ai(o),Ha(o);break;case"option":ut(o,h);break;case"select":hn(o,h);break;default:typeof w.onClick=="function"&&pu(o);break}}function vw(o,l,h,p,v){uu(l,p);var w=null,Q,U;switch(l){case"input":Q=b(o,h),U=b(o,p),w=[];break;case"select":Q=jn(o,h),U=jn(o,p),w=[];break;case"textarea":Q=Pr(o,h),U=Pr(o,p),w=[];break;default:Q=h,U=p,typeof Q.onClick!="function"&&typeof U.onClick=="function"&&pu(o);break}ef(l,U);var J,ue,Oe=null;for(J in Q)if(!(U.hasOwnProperty(J)||!Q.hasOwnProperty(J)||Q[J]==null))if(J===Ta){var je=Q[J];for(ue in je)je.hasOwnProperty(ue)&&(Oe||(Oe={}),Oe[ue]="")}else J===Ql||J===wa||J===lu||J===js||J===mv||(le.hasOwnProperty(J)?w||(w=[]):(w=w||[]).push(J,null));for(J in U){var Le=U[J],nt=Q!=null?Q[J]:void 0;if(!(!U.hasOwnProperty(J)||Le===nt||Le==null&&nt==null))if(J===Ta)if(Le&&Object.freeze(Le),nt){for(ue in nt)nt.hasOwnProperty(ue)&&(!Le||!Le.hasOwnProperty(ue))&&(Oe||(Oe={}),Oe[ue]="");for(ue in Le)Le.hasOwnProperty(ue)&&nt[ue]!==Le[ue]&&(Oe||(Oe={}),Oe[ue]=Le[ue])}else Oe||(w||(w=[]),w.push(J,Oe)),Oe=Le;else if(J===Ql){var st=Le?Le[cu]:void 0,pt=nt?nt[cu]:void 0;st!=null&&pt!==st&&(w=w||[]).push(J,st)}else J===wa?(typeof Le=="string"||typeof Le=="number")&&(w=w||[]).push(J,""+Le):J===lu||J===js||(le.hasOwnProperty(J)?(Le!=null&&(typeof Le!="function"&&hu(J,Le),J==="onScroll"&&zn("scroll",o)),!w&&nt!==Le&&(w=[])):(w=w||[]).push(J,Le))}return Oe&&(NS(Oe,U[Ta]),(w=w||[]).push(Ta,Oe)),w}function yw(o,l,h,p,v){h==="input"&&v.type==="radio"&&v.name!=null&&_(o,v);var w=da(h,p),Q=da(h,v);switch(pw(o,l,w,Q),h){case"input":Z(o,v);break;case"textarea":Mc(o,v);break;case"select":Vn(o,v);break}}function bw(o){{var l=o.toLowerCase();return Nc.hasOwnProperty(l)&&Nc[l]||null}}function Sw(o,l,h,p,v,w,Q){var U,J;switch(U=da(l,h),uu(l,h),l){case"dialog":zn("cancel",o),zn("close",o);break;case"iframe":case"object":case"embed":zn("load",o);break;case"video":case"audio":for(var ue=0;ue<Pl.length;ue++)zn(Pl[ue],o);break;case"source":zn("error",o);break;case"img":case"image":case"link":zn("error",o),zn("load",o);break;case"details":zn("toggle",o);break;case"input":P(o,h),zn("invalid",o);break;case"option":Qe(o,h);break;case"select":xn(o,h),zn("invalid",o);break;case"textarea":ji(o,h),zn("invalid",o);break}ef(l,h);{J=new Set;for(var Oe=o.attributes,je=0;je<Oe.length;je++){var Le=Oe[je].name.toLowerCase();switch(Le){case"value":break;case"checked":break;case"selected":break;default:J.add(Oe[je].name)}}}var nt=null;for(var st in h)if(h.hasOwnProperty(st)){var pt=h[st];if(st===wa)typeof pt=="string"?o.textContent!==pt&&(h[js]!==!0&&du(o.textContent,pt,w,Q),nt=[wa,pt]):typeof pt=="number"&&o.textContent!==""+pt&&(h[js]!==!0&&du(o.textContent,pt,w,Q),nt=[wa,""+pt]);else if(le.hasOwnProperty(st))pt!=null&&(typeof pt!="function"&&hu(st,pt),st==="onScroll"&&zn("scroll",o));else if(Q&&typeof U=="boolean"){var Ut=void 0,en=U&&te?null:nn(st);if(h[js]!==!0){if(!(st===lu||st===js||st==="value"||st==="checked"||st==="selected")){if(st===Ql){var Gt=o.innerHTML,Cn=pt?pt[cu]:void 0;if(Cn!=null){var kn=vv(o,Cn);kn!==Gt&&_l(st,Gt,kn)}}else if(st===Ta){if(J.delete(st),Ov){var Ye=$S(pt);Ut=o.getAttribute("style"),Ye!==Ut&&_l(st,Ut,Ye)}}else if(U&&!te)J.delete(st.toLowerCase()),Ut=Dt(o,st,pt),pt!==Ut&&_l(st,Ut,pt);else if(!we(st,en,U)&&!Ge(st,pt,en,U)){var mt=!1;if(en!==null)J.delete(en.attributeName),Ut=Kt(o,st,pt,en);else{var He=p;if(He===as&&(He=Yh(l)),He===as)J.delete(st.toLowerCase());else{var At=bw(st);At!==null&&At!==st&&(mt=!0,J.delete(At)),J.delete(st)}Ut=Dt(o,st,pt)}var Wt=te;!Wt&&pt!==Ut&&!mt&&_l(st,Ut,pt)}}}}}switch(Q&&J.size>0&&h[js]!==!0&&gv(J),l){case"input":ai(o),re(o,h,!0);break;case"textarea":ai(o),Ha(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&pu(o);break}return nt}function xw(o,l,h){var p=o.nodeValue!==l;return p}function dd(o,l){{if(qr)return;qr=!0,u("Did not expect server HTML to contain a <%s> in <%s>.",l.nodeName.toLowerCase(),o.nodeName.toLowerCase())}}function pd(o,l){{if(qr)return;qr=!0,u('Did not expect server HTML to contain the text node "%s" in <%s>.',l.nodeValue,o.nodeName.toLowerCase())}}function md(o,l,h){{if(qr)return;qr=!0,u("Expected server HTML to contain a matching <%s> in <%s>.",l,o.nodeName.toLowerCase())}}function gd(o,l){{if(l===""||qr)return;qr=!0,u('Expected server HTML to contain a matching text node for "%s" in <%s>.',l,o.nodeName.toLowerCase())}}function kw(o,l,h){switch(l){case"input":ce(o,h);return;case"textarea":gS(o,h);return;case"select":Xr(o,h);return}}var Dl=function(){},Ml=function(){};{var ww=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],bv=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],Tw=bv.concat(["button"]),Cw=["dd","dt","li","option","optgroup","p","rp","rt"],Sv={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Ml=function(o,l){var h=gn({},o||Sv),p={tag:l};return bv.indexOf(l)!==-1&&(h.aTagInScope=null,h.buttonTagInScope=null,h.nobrTagInScope=null),Tw.indexOf(l)!==-1&&(h.pTagInButtonScope=null),ww.indexOf(l)!==-1&&l!=="address"&&l!=="div"&&l!=="p"&&(h.listItemTagAutoclosing=null,h.dlItemTagAutoclosing=null),h.current=p,l==="form"&&(h.formTag=p),l==="a"&&(h.aTagInScope=p),l==="button"&&(h.buttonTagInScope=p),l==="nobr"&&(h.nobrTagInScope=p),l==="p"&&(h.pTagInButtonScope=p),l==="li"&&(h.listItemTagAutoclosing=p),(l==="dd"||l==="dt")&&(h.dlItemTagAutoclosing=p),h};var Ew=function(o,l){switch(l){case"select":return o==="option"||o==="optgroup"||o==="#text";case"optgroup":return o==="option"||o==="#text";case"option":return o==="#text";case"tr":return o==="th"||o==="td"||o==="style"||o==="script"||o==="template";case"tbody":case"thead":case"tfoot":return o==="tr"||o==="style"||o==="script"||o==="template";case"colgroup":return o==="col"||o==="template";case"table":return o==="caption"||o==="colgroup"||o==="tbody"||o==="tfoot"||o==="thead"||o==="style"||o==="script"||o==="template";case"head":return o==="base"||o==="basefont"||o==="bgsound"||o==="link"||o==="meta"||o==="title"||o==="noscript"||o==="noframes"||o==="style"||o==="script"||o==="template";case"html":return o==="head"||o==="body"||o==="frameset";case"frameset":return o==="frame";case"#document":return o==="html"}switch(o){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return l!=="h1"&&l!=="h2"&&l!=="h3"&&l!=="h4"&&l!=="h5"&&l!=="h6";case"rp":case"rt":return Cw.indexOf(l)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return l==null}return!0},Pw=function(o,l){switch(o){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return l.pTagInButtonScope;case"form":return l.formTag||l.pTagInButtonScope;case"li":return l.listItemTagAutoclosing;case"dd":case"dt":return l.dlItemTagAutoclosing;case"button":return l.buttonTagInScope;case"a":return l.aTagInScope;case"nobr":return l.nobrTagInScope}return null},xv={};Dl=function(o,l,h){h=h||Sv;var p=h.current,v=p&&p.tag;l!=null&&(o!=null&&u("validateDOMNesting: when childText is passed, childTag should be null"),o="#text");var w=Ew(o,v)?null:p,Q=w?null:Pw(o,h),U=w||Q;if(U){var J=U.tag,ue=!!w+"|"+o+"|"+J;if(!xv[ue]){xv[ue]=!0;var Oe=o,je="";if(o==="#text"?/\S/.test(l)?Oe="Text nodes":(Oe="Whitespace text nodes",je=" Make sure you don't have any extra whitespace between tags on each line of your source code."):Oe="<"+o+">",w){var Le="";J==="table"&&o==="tr"&&(Le+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),u("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",Oe,J,je,Le)}else u("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",Oe,J)}}}}var mu="suppressHydrationWarning",gu="$",Ou="/$",$l="$?",Ll="$!",Aw="style",Od=null,vd=null;function Rw(o){var l,h,p=o.nodeType;switch(p){case ls:case Gh:{l=p===ls?"#document":"#fragment";var v=o.documentElement;h=v?v.namespaceURI:Hh(null,"");break}default:{var w=p===er?o.parentNode:o,Q=w.namespaceURI||null;l=w.tagName,h=Hh(Q,l);break}}{var U=l.toLowerCase(),J=Ml(null,U);return{namespace:h,ancestorInfo:J}}}function Qw(o,l,h){{var p=o,v=Hh(p.namespace,l),w=Ml(p.ancestorInfo,l);return{namespace:v,ancestorInfo:w}}}function DA(o){return o}function _w(o){Od=A1(),vd=qk();var l=null;return RO(!1),l}function Dw(o){Zk(vd),RO(Od),Od=null,vd=null}function Mw(o,l,h,p,v){var w;{var Q=p;if(Dl(o,null,Q.ancestorInfo),typeof l.children=="string"||typeof l.children=="number"){var U=""+l.children,J=Ml(Q.ancestorInfo,o);Dl(null,U,J)}w=Q.namespace}var ue=mw(o,l,h,w);return Fl(v,ue),Cd(ue,l),ue}function $w(o,l){o.appendChild(l)}function Lw(o,l,h,p,v){switch(Ow(o,l,h,p),l){case"button":case"input":case"select":case"textarea":return!!h.autoFocus;case"img":return!0;default:return!1}}function Nw(o,l,h,p,v,w){{var Q=w;if(typeof p.children!=typeof h.children&&(typeof p.children=="string"||typeof p.children=="number")){var U=""+p.children,J=Ml(Q.ancestorInfo,l);Dl(null,U,J)}}return vw(o,l,h,p)}function yd(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}function jw(o,l,h,p){{var v=h;Dl(null,o,v.ancestorInfo)}var w=gw(o,l);return Fl(p,w),w}function Fw(){var o=window.event;return o===void 0?ms:QO(o.type)}var bd=typeof setTimeout=="function"?setTimeout:void 0,Vw=typeof clearTimeout=="function"?clearTimeout:void 0,Sd=-1,kv=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(o){return kv.resolve(null).then(o).catch(Bw)}:bd;function Bw(o){setTimeout(function(){throw o})}function Uw(o,l,h,p){switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&o.focus();return;case"img":{h.src&&(o.src=h.src);return}}}function Xw(o,l,h,p,v,w){yw(o,l,h,p,v),Cd(o,v)}function wv(o){Lc(o,"")}function zw(o,l,h){o.nodeValue=h}function qw(o,l){o.appendChild(l)}function Zw(o,l){var h;o.nodeType===er?(h=o.parentNode,h.insertBefore(l,o)):(h=o,h.appendChild(l));var p=o._reactRootContainer;p==null&&h.onclick===null&&pu(h)}function Ww(o,l,h){o.insertBefore(l,h)}function Yw(o,l,h){o.nodeType===er?o.parentNode.insertBefore(l,h):o.insertBefore(l,h)}function Hw(o,l){o.removeChild(l)}function Gw(o,l){o.nodeType===er?o.parentNode.removeChild(l):o.removeChild(l)}function xd(o,l){var h=l,p=0;do{var v=h.nextSibling;if(o.removeChild(h),v&&v.nodeType===er){var w=v.data;if(w===Ou)if(p===0){o.removeChild(v),vl(l);return}else p--;else(w===gu||w===$l||w===Ll)&&p++}h=v}while(h);vl(l)}function Kw(o,l){o.nodeType===er?xd(o.parentNode,l):o.nodeType===zr&&xd(o,l),vl(o)}function Jw(o){o=o;var l=o.style;typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"}function eT(o){o.nodeValue=""}function tT(o,l){o=o;var h=l[Aw],p=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=Kh("display",p)}function nT(o,l){o.nodeValue=l}function rT(o){o.nodeType===zr?o.textContent="":o.nodeType===ls&&o.documentElement&&o.removeChild(o.documentElement)}function iT(o,l,h){return o.nodeType!==zr||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o}function sT(o,l){return l===""||o.nodeType!==os?null:o}function aT(o){return o.nodeType!==er?null:o}function Tv(o){return o.data===$l}function kd(o){return o.data===Ll}function oT(o){var l=o.nextSibling&&o.nextSibling.dataset,h,p,v;return l&&(h=l.dgst,p=l.msg,v=l.stck),{message:p,digest:h,stack:v}}function lT(o,l){o._reactRetry=l}function vu(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===zr||l===os)break;if(l===er){var h=o.data;if(h===gu||h===Ll||h===$l)break;if(h===Ou)return null}}return o}function Nl(o){return vu(o.nextSibling)}function cT(o){return vu(o.firstChild)}function uT(o){return vu(o.firstChild)}function hT(o){return vu(o.nextSibling)}function fT(o,l,h,p,v,w,Q){Fl(w,o),Cd(o,h);var U;{var J=v;U=J.namespace}var ue=(w.mode&wn)!==tn;return Sw(o,l,h,U,p,ue,Q)}function dT(o,l,h,p){return Fl(h,o),h.mode&wn,xw(o,l)}function pT(o,l){Fl(l,o)}function mT(o){for(var l=o.nextSibling,h=0;l;){if(l.nodeType===er){var p=l.data;if(p===Ou){if(h===0)return Nl(l);h--}else(p===gu||p===Ll||p===$l)&&h++}l=l.nextSibling}return null}function Cv(o){for(var l=o.previousSibling,h=0;l;){if(l.nodeType===er){var p=l.data;if(p===gu||p===Ll||p===$l){if(h===0)return l;h--}else p===Ou&&h++}l=l.previousSibling}return null}function gT(o){vl(o)}function OT(o){vl(o)}function vT(o){return o!=="head"&&o!=="body"}function yT(o,l,h,p){var v=!0;du(l.nodeValue,h,p,v)}function bT(o,l,h,p,v,w){if(l[mu]!==!0){var Q=!0;du(p.nodeValue,v,w,Q)}}function ST(o,l){l.nodeType===zr?dd(o,l):l.nodeType===er||pd(o,l)}function xT(o,l){{var h=o.parentNode;h!==null&&(l.nodeType===zr?dd(h,l):l.nodeType===er||pd(h,l))}}function kT(o,l,h,p,v){(v||l[mu]!==!0)&&(p.nodeType===zr?dd(h,p):p.nodeType===er||pd(h,p))}function wT(o,l,h){md(o,l)}function TT(o,l){gd(o,l)}function CT(o,l,h){{var p=o.parentNode;p!==null&&md(p,l)}}function ET(o,l){{var h=o.parentNode;h!==null&&gd(h,l)}}function PT(o,l,h,p,v,w){(w||l[mu]!==!0)&&md(h,p)}function AT(o,l,h,p,v){(v||l[mu]!==!0)&&gd(h,p)}function RT(o){u("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",o.nodeName.toLowerCase())}function QT(o){Al(o)}var vo=Math.random().toString(36).slice(2),yo="__reactFiber$"+vo,wd="__reactProps$"+vo,jl="__reactContainer$"+vo,Td="__reactEvents$"+vo,_T="__reactListeners$"+vo,DT="__reactHandles$"+vo;function MT(o){delete o[yo],delete o[wd],delete o[Td],delete o[_T],delete o[DT]}function Fl(o,l){l[yo]=o}function yu(o,l){l[jl]=o}function Ev(o){o[jl]=null}function Vl(o){return!!o[jl]}function Ca(o){var l=o[yo];if(l)return l;for(var h=o.parentNode;h;){if(l=h[jl]||h[yo],l){var p=l.alternate;if(l.child!==null||p!==null&&p.child!==null)for(var v=Cv(o);v!==null;){var w=v[yo];if(w)return w;v=Cv(v)}return l}o=h,h=o.parentNode}return null}function Fs(o){var l=o[yo]||o[jl];return l&&(l.tag===E||l.tag===R||l.tag===L||l.tag===x)?l:null}function bo(o){if(o.tag===E||o.tag===R)return o.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function bu(o){return o[wd]||null}function Cd(o,l){o[wd]=l}function $T(o){var l=o[Td];return l===void 0&&(l=o[Td]=new Set),l}var Pv={},Av=n.ReactDebugCurrentFrame;function Su(o){if(o){var l=o._owner,h=Mi(o.type,o._source,l?l.type:null);Av.setExtraStackFrame(h)}else Av.setExtraStackFrame(null)}function xi(o,l,h,p,v){{var w=Function.call.bind(Be);for(var Q in o)if(w(o,Q)){var U=void 0;try{if(typeof o[Q]!="function"){var J=Error((p||"React class")+": "+h+" type `"+Q+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof o[Q]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw J.name="Invariant Violation",J}U=o[Q](l,Q,p,h,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ue){U=ue}U&&!(U instanceof Error)&&(Su(v),u("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",p||"React class",h,Q,typeof U),Su(null)),U instanceof Error&&!(U.message in Pv)&&(Pv[U.message]=!0,Su(v),u("Failed %s type: %s",h,U.message),Su(null))}}}var Ed=[],xu;xu=[];var gs=-1;function Vs(o){return{current:o}}function Rr(o,l){if(gs<0){u("Unexpected pop.");return}l!==xu[gs]&&u("Unexpected Fiber popped."),o.current=Ed[gs],Ed[gs]=null,xu[gs]=null,gs--}function Qr(o,l,h){gs++,Ed[gs]=o.current,xu[gs]=h,o.current=l}var Pd;Pd={};var ni={};Object.freeze(ni);var Os=Vs(ni),Bi=Vs(!1),Ad=ni;function So(o,l,h){return h&&Ui(l)?Ad:Os.current}function Rv(o,l,h){{var p=o.stateNode;p.__reactInternalMemoizedUnmaskedChildContext=l,p.__reactInternalMemoizedMaskedChildContext=h}}function xo(o,l){{var h=o.type,p=h.contextTypes;if(!p)return ni;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var w={};for(var Q in p)w[Q]=l[Q];{var U=un(o)||"Unknown";xi(p,w,"context",U)}return v&&Rv(o,l,w),w}}function ku(){return Bi.current}function Ui(o){{var l=o.childContextTypes;return l!=null}}function wu(o){Rr(Bi,o),Rr(Os,o)}function Rd(o){Rr(Bi,o),Rr(Os,o)}function Qv(o,l,h){{if(Os.current!==ni)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Qr(Os,l,o),Qr(Bi,h,o)}}function _v(o,l,h){{var p=o.stateNode,v=l.childContextTypes;if(typeof p.getChildContext!="function"){{var w=un(o)||"Unknown";Pd[w]||(Pd[w]=!0,u("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",w,w))}return h}var Q=p.getChildContext();for(var U in Q)if(!(U in v))throw new Error((un(o)||"Unknown")+'.getChildContext(): key "'+U+'" is not defined in childContextTypes.');{var J=un(o)||"Unknown";xi(v,Q,"child context",J)}return gn({},h,Q)}}function Tu(o){{var l=o.stateNode,h=l&&l.__reactInternalMemoizedMergedChildContext||ni;return Ad=Os.current,Qr(Os,h,o),Qr(Bi,Bi.current,o),!0}}function Dv(o,l,h){{var p=o.stateNode;if(!p)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(h){var v=_v(o,l,Ad);p.__reactInternalMemoizedMergedChildContext=v,Rr(Bi,o),Rr(Os,o),Qr(Os,v,o),Qr(Bi,h,o)}else Rr(Bi,o),Qr(Bi,h,o)}}function LT(o){{if(!vx(o)||o.tag!==O)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var l=o;do{switch(l.tag){case x:return l.stateNode.context;case O:{var h=l.type;if(Ui(h))return l.stateNode.__reactInternalMemoizedMergedChildContext;break}}l=l.return}while(l!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var Is=0,Cu=1,vs=null,Qd=!1,_d=!1;function Mv(o){vs===null?vs=[o]:vs.push(o)}function NT(o){Qd=!0,Mv(o)}function $v(){Qd&&Bs()}function Bs(){if(!_d&&vs!==null){_d=!0;var o=0,l=Si();try{var h=!0,p=vs;for(mr(Jr);o<p.length;o++){var v=p[o];do v=v(h);while(v!==null)}vs=null,Qd=!1}catch(w){throw vs!==null&&(vs=vs.slice(o+1)),sO(Bc,Bs),w}finally{mr(l),_d=!1}}return null}var ko=[],wo=0,Eu=null,Pu=0,oi=[],li=0,Ea=null,ys=1,bs="";function jT(o){return Aa(),(o.flags&Gg)!==sn}function FT(o){return Aa(),Pu}function VT(){var o=bs,l=ys,h=l&~IT(l);return h.toString(32)+o}function Pa(o,l){Aa(),ko[wo++]=Pu,ko[wo++]=Eu,Eu=o,Pu=l}function Lv(o,l,h){Aa(),oi[li++]=ys,oi[li++]=bs,oi[li++]=Ea,Ea=o;var p=ys,v=bs,w=Au(p)-1,Q=p&~(1<<w),U=h+1,J=Au(l)+w;if(J>30){var ue=w-w%5,Oe=(1<<ue)-1,je=(Q&Oe).toString(32),Le=Q>>ue,nt=w-ue,st=Au(l)+nt,pt=U<<nt,Ut=pt|Le,en=je+v;ys=1<<st|Ut,bs=en}else{var Gt=U<<w,Cn=Gt|Q,kn=v;ys=1<<J|Cn,bs=kn}}function Dd(o){Aa();var l=o.return;if(l!==null){var h=1,p=0;Pa(o,h),Lv(o,h,p)}}function Au(o){return 32-hO(o)}function IT(o){return 1<<Au(o)-1}function Md(o){for(;o===Eu;)Eu=ko[--wo],ko[wo]=null,Pu=ko[--wo],ko[wo]=null;for(;o===Ea;)Ea=oi[--li],oi[li]=null,bs=oi[--li],oi[li]=null,ys=oi[--li],oi[li]=null}function BT(){return Aa(),Ea!==null?{id:ys,overflow:bs}:null}function UT(o,l){Aa(),oi[li++]=ys,oi[li++]=bs,oi[li++]=Ea,ys=l.id,bs=l.overflow,Ea=o}function Aa(){vr()||u("Expected to be hydrating. This is a bug in React. Please file an issue.")}var Or=null,ci=null,ki=!1,Ra=!1,Us=null;function XT(){ki&&u("We should not be hydrating here. This is a bug in React. Please file a bug.")}function Nv(){Ra=!0}function zT(){return Ra}function qT(o){var l=o.stateNode.containerInfo;return ci=uT(l),Or=o,ki=!0,Us=null,Ra=!1,!0}function ZT(o,l,h){return ci=hT(l),Or=o,ki=!0,Us=null,Ra=!1,h!==null&&UT(o,h),!0}function jv(o,l){switch(o.tag){case x:{ST(o.stateNode.containerInfo,l);break}case E:{var h=(o.mode&wn)!==tn;kT(o.type,o.memoizedProps,o.stateNode,l,h);break}case L:{var p=o.memoizedState;p.dehydrated!==null&&xT(p.dehydrated,l);break}}}function Fv(o,l){jv(o,l);var h=GP();h.stateNode=l,h.return=o;var p=o.deletions;p===null?(o.deletions=[h],o.flags|=pa):p.push(h)}function $d(o,l){{if(Ra)return;switch(o.tag){case x:{var h=o.stateNode.containerInfo;switch(l.tag){case E:var p=l.type;l.pendingProps,wT(h,p);break;case R:var v=l.pendingProps;TT(h,v);break}break}case E:{var w=o.type,Q=o.memoizedProps,U=o.stateNode;switch(l.tag){case E:{var J=l.type,ue=l.pendingProps,Oe=(o.mode&wn)!==tn;PT(w,Q,U,J,ue,Oe);break}case R:{var je=l.pendingProps,Le=(o.mode&wn)!==tn;AT(w,Q,U,je,Le);break}}break}case L:{var nt=o.memoizedState,st=nt.dehydrated;if(st!==null)switch(l.tag){case E:var pt=l.type;l.pendingProps,CT(st,pt);break;case R:var Ut=l.pendingProps;ET(st,Ut);break}break}default:return}}}function Vv(o,l){l.flags=l.flags&~us|tr,$d(o,l)}function Iv(o,l){switch(o.tag){case E:{var h=o.type;o.pendingProps;var p=iT(l,h);return p!==null?(o.stateNode=p,Or=o,ci=cT(p),!0):!1}case R:{var v=o.pendingProps,w=sT(l,v);return w!==null?(o.stateNode=w,Or=o,ci=null,!0):!1}case L:{var Q=aT(l);if(Q!==null){var U={dehydrated:Q,treeContext:BT(),retryLane:Gr};o.memoizedState=U;var J=KP(Q);return J.return=o,o.child=J,Or=o,ci=null,!0}return!1}default:return!1}}function Ld(o){return(o.mode&wn)!==tn&&(o.flags&_n)===sn}function Nd(o){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function jd(o){if(ki){var l=ci;if(!l){Ld(o)&&($d(Or,o),Nd()),Vv(Or,o),ki=!1,Or=o;return}var h=l;if(!Iv(o,l)){Ld(o)&&($d(Or,o),Nd()),l=Nl(h);var p=Or;if(!l||!Iv(o,l)){Vv(Or,o),ki=!1,Or=o;return}Fv(p,h)}}}function WT(o,l,h){var p=o.stateNode,v=!Ra,w=fT(p,o.type,o.memoizedProps,l,h,o,v);return o.updateQueue=w,w!==null}function YT(o){var l=o.stateNode,h=o.memoizedProps,p=dT(l,h,o);if(p){var v=Or;if(v!==null)switch(v.tag){case x:{var w=v.stateNode.containerInfo,Q=(v.mode&wn)!==tn;yT(w,l,h,Q);break}case E:{var U=v.type,J=v.memoizedProps,ue=v.stateNode,Oe=(v.mode&wn)!==tn;bT(U,J,ue,l,h,Oe);break}}}return p}function HT(o){var l=o.memoizedState,h=l!==null?l.dehydrated:null;if(!h)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");pT(h,o)}function GT(o){var l=o.memoizedState,h=l!==null?l.dehydrated:null;if(!h)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return mT(h)}function Bv(o){for(var l=o.return;l!==null&&l.tag!==E&&l.tag!==x&&l.tag!==L;)l=l.return;Or=l}function Ru(o){if(o!==Or)return!1;if(!ki)return Bv(o),ki=!0,!1;if(o.tag!==x&&(o.tag!==E||vT(o.type)&&!yd(o.type,o.memoizedProps))){var l=ci;if(l)if(Ld(o))Uv(o),Nd();else for(;l;)Fv(o,l),l=Nl(l)}return Bv(o),o.tag===L?ci=GT(o):ci=Or?Nl(o.stateNode):null,!0}function KT(){return ki&&ci!==null}function Uv(o){for(var l=ci;l;)jv(o,l),l=Nl(l)}function To(){Or=null,ci=null,ki=!1,Ra=!1}function Xv(){Us!==null&&(Nb(Us),Us=null)}function vr(){return ki}function Fd(o){Us===null?Us=[o]:Us.push(o)}var JT=n.ReactCurrentBatchConfig,eC=null;function tC(){return JT.transition}var wi={recordUnsafeLifecycleWarnings:function(o,l){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(o,l){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var nC=function(o){for(var l=null,h=o;h!==null;)h.mode&Wn&&(l=h),h=h.return;return l},Qa=function(o){var l=[];return o.forEach(function(h){l.push(h)}),l.sort().join(", ")},Il=[],Bl=[],Ul=[],Xl=[],zl=[],ql=[],Da=new Set;wi.recordUnsafeLifecycleWarnings=function(o,l){Da.has(o.type)||(typeof l.componentWillMount=="function"&&l.componentWillMount.__suppressDeprecationWarning!==!0&&Il.push(o),o.mode&Wn&&typeof l.UNSAFE_componentWillMount=="function"&&Bl.push(o),typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Ul.push(o),o.mode&Wn&&typeof l.UNSAFE_componentWillReceiveProps=="function"&&Xl.push(o),typeof l.componentWillUpdate=="function"&&l.componentWillUpdate.__suppressDeprecationWarning!==!0&&zl.push(o),o.mode&Wn&&typeof l.UNSAFE_componentWillUpdate=="function"&&ql.push(o))},wi.flushPendingUnsafeLifecycleWarnings=function(){var o=new Set;Il.length>0&&(Il.forEach(function(Le){o.add(un(Le)||"Component"),Da.add(Le.type)}),Il=[]);var l=new Set;Bl.length>0&&(Bl.forEach(function(Le){l.add(un(Le)||"Component"),Da.add(Le.type)}),Bl=[]);var h=new Set;Ul.length>0&&(Ul.forEach(function(Le){h.add(un(Le)||"Component"),Da.add(Le.type)}),Ul=[]);var p=new Set;Xl.length>0&&(Xl.forEach(function(Le){p.add(un(Le)||"Component"),Da.add(Le.type)}),Xl=[]);var v=new Set;zl.length>0&&(zl.forEach(function(Le){v.add(un(Le)||"Component"),Da.add(Le.type)}),zl=[]);var w=new Set;if(ql.length>0&&(ql.forEach(function(Le){w.add(un(Le)||"Component"),Da.add(Le.type)}),ql=[]),l.size>0){var Q=Qa(l);u(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,Q)}if(p.size>0){var U=Qa(p);u(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,U)}if(w.size>0){var J=Qa(w);u(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,J)}if(o.size>0){var ue=Qa(o);c(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ue)}if(h.size>0){var Oe=Qa(h);c(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Oe)}if(v.size>0){var je=Qa(v);c(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,je)}};var Qu=new Map,zv=new Set;wi.recordLegacyContextWarning=function(o,l){var h=nC(o);if(h===null){u("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!zv.has(o.type)){var p=Qu.get(h);(o.type.contextTypes!=null||o.type.childContextTypes!=null||l!==null&&typeof l.getChildContext=="function")&&(p===void 0&&(p=[],Qu.set(h,p)),p.push(o))}},wi.flushLegacyContextWarning=function(){Qu.forEach(function(o,l){if(o.length!==0){var h=o[0],p=new Set;o.forEach(function(w){p.add(un(w)||"Component"),zv.add(w.type)});var v=Qa(p);try{Bn(h),u(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,v)}finally{In()}}})},wi.discardPendingWarnings=function(){Il=[],Bl=[],Ul=[],Xl=[],zl=[],ql=[],Qu=new Map}}var Vd,Id,Bd,Ud,Xd,qv=function(o,l){};Vd=!1,Id=!1,Bd={},Ud={},Xd={},qv=function(o,l){if(!(o===null||typeof o!="object")&&!(!o._store||o._store.validated||o.key!=null)){if(typeof o._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");o._store.validated=!0;var h=un(l)||"Component";Ud[h]||(Ud[h]=!0,u('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function rC(o){return o.prototype&&o.prototype.isReactComponent}function Zl(o,l,h){var p=h.ref;if(p!==null&&typeof p!="function"&&typeof p!="object"){if((o.mode&Wn||D)&&!(h._owner&&h._self&&h._owner.stateNode!==h._self)&&!(h._owner&&h._owner.tag!==O)&&!(typeof h.type=="function"&&!rC(h.type))&&h._owner){var v=un(o)||"Component";Bd[v]||(u('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',v,p),Bd[v]=!0)}if(h._owner){var w=h._owner,Q;if(w){var U=w;if(U.tag!==O)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");Q=U.stateNode}if(!Q)throw new Error("Missing owner for string ref "+p+". This error is likely caused by a bug in React. Please file an issue.");var J=Q;gt(p,"ref");var ue=""+p;if(l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===ue)return l.ref;var Oe=function(je){var Le=J.refs;je===null?delete Le[ue]:Le[ue]=je};return Oe._stringRef=ue,Oe}else{if(typeof p!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!h._owner)throw new Error("Element ref was specified as a string ("+p+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return p}function _u(o,l){var h=Object.prototype.toString.call(l);throw new Error("Objects are not valid as a React child (found: "+(h==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":h)+"). If you meant to render a collection of children, use an array instead.")}function Du(o){{var l=un(o)||"Component";if(Xd[l])return;Xd[l]=!0,u("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function Zv(o){var l=o._payload,h=o._init;return h(l)}function Wv(o){function l(Ye,mt){if(o){var He=Ye.deletions;He===null?(Ye.deletions=[mt],Ye.flags|=pa):He.push(mt)}}function h(Ye,mt){if(!o)return null;for(var He=mt;He!==null;)l(Ye,He),He=He.sibling;return null}function p(Ye,mt){for(var He=new Map,At=mt;At!==null;)At.key!==null?He.set(At.key,At):He.set(At.index,At),At=At.sibling;return He}function v(Ye,mt){var He=Ba(Ye,mt);return He.index=0,He.sibling=null,He}function w(Ye,mt,He){if(Ye.index=He,!o)return Ye.flags|=Gg,mt;var At=Ye.alternate;if(At!==null){var Wt=At.index;return Wt<mt?(Ye.flags|=tr,mt):Wt}else return Ye.flags|=tr,mt}function Q(Ye){return o&&Ye.alternate===null&&(Ye.flags|=tr),Ye}function U(Ye,mt,He,At){if(mt===null||mt.tag!==R){var Wt=Vm(He,Ye.mode,At);return Wt.return=Ye,Wt}else{var Xt=v(mt,He);return Xt.return=Ye,Xt}}function J(Ye,mt,He,At){var Wt=He.type;if(Wt===q)return Oe(Ye,mt,He.props.children,At,He.key);if(mt!==null&&(mt.elementType===Wt||Jb(mt,He)||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===dt&&Zv(Wt)===mt.type)){var Xt=v(mt,He.props);return Xt.ref=Zl(Ye,mt,He),Xt.return=Ye,Xt._debugSource=He._source,Xt._debugOwner=He._owner,Xt}var cn=Fm(He,Ye.mode,At);return cn.ref=Zl(Ye,mt,He),cn.return=Ye,cn}function ue(Ye,mt,He,At){if(mt===null||mt.tag!==T||mt.stateNode.containerInfo!==He.containerInfo||mt.stateNode.implementation!==He.implementation){var Wt=Im(He,Ye.mode,At);return Wt.return=Ye,Wt}else{var Xt=v(mt,He.children||[]);return Xt.return=Ye,Xt}}function Oe(Ye,mt,He,At,Wt){if(mt===null||mt.tag!==M){var Xt=ea(He,Ye.mode,At,Wt);return Xt.return=Ye,Xt}else{var cn=v(mt,He);return cn.return=Ye,cn}}function je(Ye,mt,He){if(typeof mt=="string"&&mt!==""||typeof mt=="number"){var At=Vm(""+mt,Ye.mode,He);return At.return=Ye,At}if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case B:{var Wt=Fm(mt,Ye.mode,He);return Wt.ref=Zl(Ye,null,mt),Wt.return=Ye,Wt}case oe:{var Xt=Im(mt,Ye.mode,He);return Xt.return=Ye,Xt}case dt:{var cn=mt._payload,pn=mt._init;return je(Ye,pn(cn),He)}}if(_t(mt)||Hn(mt)){var Ln=ea(mt,Ye.mode,He,null);return Ln.return=Ye,Ln}_u(Ye,mt)}return typeof mt=="function"&&Du(Ye),null}function Le(Ye,mt,He,At){var Wt=mt!==null?mt.key:null;if(typeof He=="string"&&He!==""||typeof He=="number")return Wt!==null?null:U(Ye,mt,""+He,At);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case B:return He.key===Wt?J(Ye,mt,He,At):null;case oe:return He.key===Wt?ue(Ye,mt,He,At):null;case dt:{var Xt=He._payload,cn=He._init;return Le(Ye,mt,cn(Xt),At)}}if(_t(He)||Hn(He))return Wt!==null?null:Oe(Ye,mt,He,At,null);_u(Ye,He)}return typeof He=="function"&&Du(Ye),null}function nt(Ye,mt,He,At,Wt){if(typeof At=="string"&&At!==""||typeof At=="number"){var Xt=Ye.get(He)||null;return U(mt,Xt,""+At,Wt)}if(typeof At=="object"&&At!==null){switch(At.$$typeof){case B:{var cn=Ye.get(At.key===null?He:At.key)||null;return J(mt,cn,At,Wt)}case oe:{var pn=Ye.get(At.key===null?He:At.key)||null;return ue(mt,pn,At,Wt)}case dt:var Ln=At._payload,Rn=At._init;return nt(Ye,mt,He,Rn(Ln),Wt)}if(_t(At)||Hn(At)){var Gn=Ye.get(He)||null;return Oe(mt,Gn,At,Wt,null)}_u(mt,At)}return typeof At=="function"&&Du(mt),null}function st(Ye,mt,He){{if(typeof Ye!="object"||Ye===null)return mt;switch(Ye.$$typeof){case B:case oe:qv(Ye,He);var At=Ye.key;if(typeof At!="string")break;if(mt===null){mt=new Set,mt.add(At);break}if(!mt.has(At)){mt.add(At);break}u("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",At);break;case dt:var Wt=Ye._payload,Xt=Ye._init;st(Xt(Wt),mt,He);break}}return mt}function pt(Ye,mt,He,At){for(var Wt=null,Xt=0;Xt<He.length;Xt++){var cn=He[Xt];Wt=st(cn,Wt,Ye)}for(var pn=null,Ln=null,Rn=mt,Gn=0,Qn=0,Yn=null;Rn!==null&&Qn<He.length;Qn++){Rn.index>Qn?(Yn=Rn,Rn=null):Yn=Rn.sibling;var Dr=Le(Ye,Rn,He[Qn],At);if(Dr===null){Rn===null&&(Rn=Yn);break}o&&Rn&&Dr.alternate===null&&l(Ye,Rn),Gn=w(Dr,Gn,Qn),Ln===null?pn=Dr:Ln.sibling=Dr,Ln=Dr,Rn=Yn}if(Qn===He.length){if(h(Ye,Rn),vr()){var Tr=Qn;Pa(Ye,Tr)}return pn}if(Rn===null){for(;Qn<He.length;Qn++){var ii=je(Ye,He[Qn],At);ii!==null&&(Gn=w(ii,Gn,Qn),Ln===null?pn=ii:Ln.sibling=ii,Ln=ii)}if(vr()){var Ir=Qn;Pa(Ye,Ir)}return pn}for(var Br=p(Ye,Rn);Qn<He.length;Qn++){var Mr=nt(Br,Ye,Qn,He[Qn],At);Mr!==null&&(o&&Mr.alternate!==null&&Br.delete(Mr.key===null?Qn:Mr.key),Gn=w(Mr,Gn,Qn),Ln===null?pn=Mr:Ln.sibling=Mr,Ln=Mr)}if(o&&Br.forEach(function(Xo){return l(Ye,Xo)}),vr()){var Es=Qn;Pa(Ye,Es)}return pn}function Ut(Ye,mt,He,At){var Wt=Hn(He);if(typeof Wt!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&He[Symbol.toStringTag]==="Generator"&&(Id||u("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Id=!0),He.entries===Wt&&(Vd||u("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Vd=!0);var Xt=Wt.call(He);if(Xt)for(var cn=null,pn=Xt.next();!pn.done;pn=Xt.next()){var Ln=pn.value;cn=st(Ln,cn,Ye)}}var Rn=Wt.call(He);if(Rn==null)throw new Error("An iterable object provided no iterator.");for(var Gn=null,Qn=null,Yn=mt,Dr=0,Tr=0,ii=null,Ir=Rn.next();Yn!==null&&!Ir.done;Tr++,Ir=Rn.next()){Yn.index>Tr?(ii=Yn,Yn=null):ii=Yn.sibling;var Br=Le(Ye,Yn,Ir.value,At);if(Br===null){Yn===null&&(Yn=ii);break}o&&Yn&&Br.alternate===null&&l(Ye,Yn),Dr=w(Br,Dr,Tr),Qn===null?Gn=Br:Qn.sibling=Br,Qn=Br,Yn=ii}if(Ir.done){if(h(Ye,Yn),vr()){var Mr=Tr;Pa(Ye,Mr)}return Gn}if(Yn===null){for(;!Ir.done;Tr++,Ir=Rn.next()){var Es=je(Ye,Ir.value,At);Es!==null&&(Dr=w(Es,Dr,Tr),Qn===null?Gn=Es:Qn.sibling=Es,Qn=Es)}if(vr()){var Xo=Tr;Pa(Ye,Xo)}return Gn}for(var Tc=p(Ye,Yn);!Ir.done;Tr++,Ir=Rn.next()){var Gi=nt(Tc,Ye,Tr,Ir.value,At);Gi!==null&&(o&&Gi.alternate!==null&&Tc.delete(Gi.key===null?Tr:Gi.key),Dr=w(Gi,Dr,Tr),Qn===null?Gn=Gi:Qn.sibling=Gi,Qn=Gi)}if(o&&Tc.forEach(function(AA){return l(Ye,AA)}),vr()){var PA=Tr;Pa(Ye,PA)}return Gn}function en(Ye,mt,He,At){if(mt!==null&&mt.tag===R){h(Ye,mt.sibling);var Wt=v(mt,He);return Wt.return=Ye,Wt}h(Ye,mt);var Xt=Vm(He,Ye.mode,At);return Xt.return=Ye,Xt}function Gt(Ye,mt,He,At){for(var Wt=He.key,Xt=mt;Xt!==null;){if(Xt.key===Wt){var cn=He.type;if(cn===q){if(Xt.tag===M){h(Ye,Xt.sibling);var pn=v(Xt,He.props.children);return pn.return=Ye,pn._debugSource=He._source,pn._debugOwner=He._owner,pn}}else if(Xt.elementType===cn||Jb(Xt,He)||typeof cn=="object"&&cn!==null&&cn.$$typeof===dt&&Zv(cn)===Xt.type){h(Ye,Xt.sibling);var Ln=v(Xt,He.props);return Ln.ref=Zl(Ye,Xt,He),Ln.return=Ye,Ln._debugSource=He._source,Ln._debugOwner=He._owner,Ln}h(Ye,Xt);break}else l(Ye,Xt);Xt=Xt.sibling}if(He.type===q){var Rn=ea(He.props.children,Ye.mode,At,He.key);return Rn.return=Ye,Rn}else{var Gn=Fm(He,Ye.mode,At);return Gn.ref=Zl(Ye,mt,He),Gn.return=Ye,Gn}}function Cn(Ye,mt,He,At){for(var Wt=He.key,Xt=mt;Xt!==null;){if(Xt.key===Wt)if(Xt.tag===T&&Xt.stateNode.containerInfo===He.containerInfo&&Xt.stateNode.implementation===He.implementation){h(Ye,Xt.sibling);var cn=v(Xt,He.children||[]);return cn.return=Ye,cn}else{h(Ye,Xt);break}else l(Ye,Xt);Xt=Xt.sibling}var pn=Im(He,Ye.mode,At);return pn.return=Ye,pn}function kn(Ye,mt,He,At){var Wt=typeof He=="object"&&He!==null&&He.type===q&&He.key===null;if(Wt&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case B:return Q(Gt(Ye,mt,He,At));case oe:return Q(Cn(Ye,mt,He,At));case dt:var Xt=He._payload,cn=He._init;return kn(Ye,mt,cn(Xt),At)}if(_t(He))return pt(Ye,mt,He,At);if(Hn(He))return Ut(Ye,mt,He,At);_u(Ye,He)}return typeof He=="string"&&He!==""||typeof He=="number"?Q(en(Ye,mt,""+He,At)):(typeof He=="function"&&Du(Ye),h(Ye,mt))}return kn}var Co=Wv(!0),Yv=Wv(!1);function iC(o,l){if(o!==null&&l.child!==o.child)throw new Error("Resuming work not yet implemented.");if(l.child!==null){var h=l.child,p=Ba(h,h.pendingProps);for(l.child=p,p.return=l;h.sibling!==null;)h=h.sibling,p=p.sibling=Ba(h,h.pendingProps),p.return=l;p.sibling=null}}function sC(o,l){for(var h=o.child;h!==null;)qP(h,l),h=h.sibling}var zd=Vs(null),qd;qd={};var Mu=null,Eo=null,Zd=null,$u=!1;function Lu(){Mu=null,Eo=null,Zd=null,$u=!1}function Hv(){$u=!0}function Gv(){$u=!1}function Kv(o,l,h){Qr(zd,l._currentValue,o),l._currentValue=h,l._currentRenderer!==void 0&&l._currentRenderer!==null&&l._currentRenderer!==qd&&u("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),l._currentRenderer=qd}function Wd(o,l){var h=zd.current;Rr(zd,l),o._currentValue=h}function Yd(o,l,h){for(var p=o;p!==null;){var v=p.alternate;if(uo(p.childLanes,l)?v!==null&&!uo(v.childLanes,l)&&(v.childLanes=bn(v.childLanes,l)):(p.childLanes=bn(p.childLanes,l),v!==null&&(v.childLanes=bn(v.childLanes,l))),p===h)break;p=p.return}p!==h&&u("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function aC(o,l,h){oC(o,l,h)}function oC(o,l,h){var p=o.child;for(p!==null&&(p.return=o);p!==null;){var v=void 0,w=p.dependencies;if(w!==null){v=p.child;for(var Q=w.firstContext;Q!==null;){if(Q.context===l){if(p.tag===O){var U=hl(h),J=Ss(Xn,U);J.tag=ju;var ue=p.updateQueue;if(ue!==null){var Oe=ue.shared,je=Oe.pending;je===null?J.next=J:(J.next=je.next,je.next=J),Oe.pending=J}}p.lanes=bn(p.lanes,h);var Le=p.alternate;Le!==null&&(Le.lanes=bn(Le.lanes,h)),Yd(p.return,h,o),w.lanes=bn(w.lanes,h);break}Q=Q.next}}else if(p.tag===X)v=p.type===o.type?null:p.child;else if(p.tag===ae){var nt=p.return;if(nt===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");nt.lanes=bn(nt.lanes,h);var st=nt.alternate;st!==null&&(st.lanes=bn(st.lanes,h)),Yd(nt,h,o),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===o){v=null;break}var pt=v.sibling;if(pt!==null){pt.return=v.return,v=pt;break}v=v.return}p=v}}function Po(o,l){Mu=o,Eo=null,Zd=null;var h=o.dependencies;if(h!==null){var p=h.firstContext;p!==null&&(Kr(h.lanes,l)&&lc(),h.firstContext=null)}}function nr(o){$u&&u("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var l=o._currentValue;if(Zd!==o){var h={context:o,memoizedValue:l,next:null};if(Eo===null){if(Mu===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Eo=h,Mu.dependencies={lanes:Tt,firstContext:h}}else Eo=Eo.next=h}return l}var Ma=null;function Hd(o){Ma===null?Ma=[o]:Ma.push(o)}function lC(){if(Ma!==null){for(var o=0;o<Ma.length;o++){var l=Ma[o],h=l.interleaved;if(h!==null){l.interleaved=null;var p=h.next,v=l.pending;if(v!==null){var w=v.next;v.next=p,h.next=w}l.pending=h}}Ma=null}}function Jv(o,l,h,p){var v=l.interleaved;return v===null?(h.next=h,Hd(l)):(h.next=v.next,v.next=h),l.interleaved=h,Nu(o,p)}function cC(o,l,h,p){var v=l.interleaved;v===null?(h.next=h,Hd(l)):(h.next=v.next,v.next=h),l.interleaved=h}function uC(o,l,h,p){var v=l.interleaved;return v===null?(h.next=h,Hd(l)):(h.next=v.next,v.next=h),l.interleaved=h,Nu(o,p)}function Zr(o,l){return Nu(o,l)}var hC=Nu;function Nu(o,l){o.lanes=bn(o.lanes,l);var h=o.alternate;h!==null&&(h.lanes=bn(h.lanes,l)),h===null&&(o.flags&(tr|us))!==sn&&Yb(o);for(var p=o,v=o.return;v!==null;)v.childLanes=bn(v.childLanes,l),h=v.alternate,h!==null?h.childLanes=bn(h.childLanes,l):(v.flags&(tr|us))!==sn&&Yb(o),p=v,v=v.return;if(p.tag===x){var w=p.stateNode;return w}else return null}var ey=0,ty=1,ju=2,Gd=3,Fu=!1,Kd,Vu;Kd=!1,Vu=null;function Jd(o){var l={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Tt},effects:null};o.updateQueue=l}function ny(o,l){var h=l.updateQueue,p=o.updateQueue;if(h===p){var v={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects};l.updateQueue=v}}function Ss(o,l){var h={eventTime:o,lane:l,tag:ey,payload:null,callback:null,next:null};return h}function Xs(o,l,h){var p=o.updateQueue;if(p===null)return null;var v=p.shared;if(Vu===v&&!Kd&&(u("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),Kd=!0),cP()){var w=v.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),v.pending=l,hC(o,h)}else return uC(o,v,l,h)}function Iu(o,l,h){var p=l.updateQueue;if(p!==null){var v=p.shared;if(mO(h)){var w=v.lanes;w=OO(w,o.pendingLanes);var Q=bn(w,h);v.lanes=Q,Xf(o,Q)}}}function ep(o,l){var h=o.updateQueue,p=o.alternate;if(p!==null){var v=p.updateQueue;if(h===v){var w=null,Q=null,U=h.firstBaseUpdate;if(U!==null){var J=U;do{var ue={eventTime:J.eventTime,lane:J.lane,tag:J.tag,payload:J.payload,callback:J.callback,next:null};Q===null?w=Q=ue:(Q.next=ue,Q=ue),J=J.next}while(J!==null);Q===null?w=Q=l:(Q.next=l,Q=l)}else w=Q=l;h={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:Q,shared:v.shared,effects:v.effects},o.updateQueue=h;return}}var Oe=h.lastBaseUpdate;Oe===null?h.firstBaseUpdate=l:Oe.next=l,h.lastBaseUpdate=l}function fC(o,l,h,p,v,w){switch(h.tag){case ty:{var Q=h.payload;if(typeof Q=="function"){Hv();var U=Q.call(w,p,v);{if(o.mode&Wn){dr(!0);try{Q.call(w,p,v)}finally{dr(!1)}}Gv()}return U}return Q}case Gd:o.flags=o.flags&~Nr|_n;case ey:{var J=h.payload,ue;if(typeof J=="function"){Hv(),ue=J.call(w,p,v);{if(o.mode&Wn){dr(!0);try{J.call(w,p,v)}finally{dr(!1)}}Gv()}}else ue=J;return ue==null?p:gn({},p,ue)}case ju:return Fu=!0,p}return p}function Bu(o,l,h,p){var v=o.updateQueue;Fu=!1,Vu=v.shared;var w=v.firstBaseUpdate,Q=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var J=U,ue=J.next;J.next=null,Q===null?w=ue:Q.next=ue,Q=J;var Oe=o.alternate;if(Oe!==null){var je=Oe.updateQueue,Le=je.lastBaseUpdate;Le!==Q&&(Le===null?je.firstBaseUpdate=ue:Le.next=ue,je.lastBaseUpdate=J)}}if(w!==null){var nt=v.baseState,st=Tt,pt=null,Ut=null,en=null,Gt=w;do{var Cn=Gt.lane,kn=Gt.eventTime;if(uo(p,Cn)){if(en!==null){var mt={eventTime:kn,lane:pr,tag:Gt.tag,payload:Gt.payload,callback:Gt.callback,next:null};en=en.next=mt}nt=fC(o,v,Gt,nt,l,h);var He=Gt.callback;if(He!==null&&Gt.lane!==pr){o.flags|=hf;var At=v.effects;At===null?v.effects=[Gt]:At.push(Gt)}}else{var Ye={eventTime:kn,lane:Cn,tag:Gt.tag,payload:Gt.payload,callback:Gt.callback,next:null};en===null?(Ut=en=Ye,pt=nt):en=en.next=Ye,st=bn(st,Cn)}if(Gt=Gt.next,Gt===null){if(U=v.shared.pending,U===null)break;var Wt=U,Xt=Wt.next;Wt.next=null,Gt=Xt,v.lastBaseUpdate=Wt,v.shared.pending=null}}while(!0);en===null&&(pt=nt),v.baseState=pt,v.firstBaseUpdate=Ut,v.lastBaseUpdate=en;var cn=v.shared.interleaved;if(cn!==null){var pn=cn;do st=bn(st,pn.lane),pn=pn.next;while(pn!==cn)}else w===null&&(v.shared.lanes=Tt);bc(st),o.lanes=st,o.memoizedState=nt}Vu=null}function dC(o,l){if(typeof o!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+o));o.call(l)}function ry(){Fu=!1}function Uu(){return Fu}function iy(o,l,h){var p=l.effects;if(l.effects=null,p!==null)for(var v=0;v<p.length;v++){var w=p[v],Q=w.callback;Q!==null&&(w.callback=null,dC(Q,h))}}var Wl={},zs=Vs(Wl),Yl=Vs(Wl),Xu=Vs(Wl);function zu(o){if(o===Wl)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return o}function sy(){var o=zu(Xu.current);return o}function tp(o,l){Qr(Xu,l,o),Qr(Yl,o,o),Qr(zs,Wl,o);var h=Rw(l);Rr(zs,o),Qr(zs,h,o)}function Ao(o){Rr(zs,o),Rr(Yl,o),Rr(Xu,o)}function np(){var o=zu(zs.current);return o}function ay(o){zu(Xu.current);var l=zu(zs.current),h=Qw(l,o.type);l!==h&&(Qr(Yl,o,o),Qr(zs,h,o))}function rp(o){Yl.current===o&&(Rr(zs,o),Rr(Yl,o))}var pC=0,oy=1,ly=1,Hl=2,Ti=Vs(pC);function ip(o,l){return(o&l)!==0}function Ro(o){return o&oy}function sp(o,l){return o&oy|l}function mC(o,l){return o|l}function qs(o,l){Qr(Ti,l,o)}function Qo(o){Rr(Ti,o)}function gC(o,l){var h=o.memoizedState;return h!==null?h.dehydrated!==null:(o.memoizedProps,!0)}function qu(o){for(var l=o;l!==null;){if(l.tag===L){var h=l.memoizedState;if(h!==null){var p=h.dehydrated;if(p===null||Tv(p)||kd(p))return l}}else if(l.tag===H&&l.memoizedProps.revealOrder!==void 0){var v=(l.flags&_n)!==sn;if(v)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)return null;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Wr=0,rr=1,Xi=2,ir=4,yr=8,ap=[];function op(){for(var o=0;o<ap.length;o++){var l=ap[o];l._workInProgressVersionPrimary=null}ap.length=0}function OC(o,l){var h=l._getVersion,p=h(l._source);o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p)}var Zt=n.ReactCurrentDispatcher,Gl=n.ReactCurrentBatchConfig,lp,_o;lp=new Set;var $a=Tt,$n=null,sr=null,ar=null,Zu=!1,Kl=!1,Jl=0,vC=0,yC=25,yt=null,ui=null,Zs=-1,cp=!1;function Dn(){{var o=yt;ui===null?ui=[o]:ui.push(o)}}function Vt(){{var o=yt;ui!==null&&(Zs++,ui[Zs]!==o&&bC(o))}}function Do(o){o!=null&&!_t(o)&&u("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",yt,typeof o)}function bC(o){{var l=un($n);if(!lp.has(l)&&(lp.add(l),ui!==null)){for(var h="",p=30,v=0;v<=Zs;v++){for(var w=ui[v],Q=v===Zs?o:w,U=v+1+". "+w;U.length<p;)U+=" ";U+=Q+`
`,h+=U}u(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,l,h)}}}function _r(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function up(o,l){if(cp)return!1;if(l===null)return u("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",yt),!1;o.length!==l.length&&u(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,yt,"["+l.join(", ")+"]","["+o.join(", ")+"]");for(var h=0;h<l.length&&h<o.length;h++)if(!ti(o[h],l[h]))return!1;return!0}function Mo(o,l,h,p,v,w){$a=w,$n=l,ui=o!==null?o._debugHookTypes:null,Zs=-1,cp=o!==null&&o.type!==l.type,l.memoizedState=null,l.updateQueue=null,l.lanes=Tt,o!==null&&o.memoizedState!==null?Zt.current=Ry:ui!==null?Zt.current=Ay:Zt.current=Py;var Q=h(p,v);if(Kl){var U=0;do{if(Kl=!1,Jl=0,U>=yC)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");U+=1,cp=!1,sr=null,ar=null,l.updateQueue=null,Zs=-1,Zt.current=Qy,Q=h(p,v)}while(Kl)}Zt.current=ah,l._debugHookTypes=ui;var J=sr!==null&&sr.next!==null;if($a=Tt,$n=null,sr=null,ar=null,yt=null,ui=null,Zs=-1,o!==null&&(o.flags&fs)!==(l.flags&fs)&&(o.mode&wn)!==tn&&u("Internal React error: Expected static flag was missing. Please notify the React team."),Zu=!1,J)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return Q}function $o(){var o=Jl!==0;return Jl=0,o}function cy(o,l,h){l.updateQueue=o.updateQueue,(l.mode&Vi)!==tn?l.flags&=~(Ic|hs|yi|Pn):l.flags&=~(yi|Pn),o.lanes=Wc(o.lanes,h)}function uy(){if(Zt.current=ah,Zu){for(var o=$n.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Zu=!1}$a=Tt,$n=null,sr=null,ar=null,ui=null,Zs=-1,yt=null,ky=!1,Kl=!1,Jl=0}function zi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?$n.memoizedState=ar=o:ar=ar.next=o,ar}function hi(){var o;if(sr===null){var l=$n.alternate;l!==null?o=l.memoizedState:o=null}else o=sr.next;var h;if(ar===null?h=$n.memoizedState:h=ar.next,h!==null)ar=h,h=ar.next,sr=o;else{if(o===null)throw new Error("Rendered more hooks than during the previous render.");sr=o;var p={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null};ar===null?$n.memoizedState=ar=p:ar=ar.next=p}return ar}function hy(){return{lastEffect:null,stores:null}}function hp(o,l){return typeof l=="function"?l(o):l}function fp(o,l,h){var p=zi(),v;h!==void 0?v=h(l):v=l,p.memoizedState=p.baseState=v;var w={pending:null,interleaved:null,lanes:Tt,dispatch:null,lastRenderedReducer:o,lastRenderedState:v};p.queue=w;var Q=w.dispatch=wC.bind(null,$n,w);return[p.memoizedState,Q]}function dp(o,l,h){var p=hi(),v=p.queue;if(v===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");v.lastRenderedReducer=o;var w=sr,Q=w.baseQueue,U=v.pending;if(U!==null){if(Q!==null){var J=Q.next,ue=U.next;Q.next=ue,U.next=J}w.baseQueue!==Q&&u("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),w.baseQueue=Q=U,v.pending=null}if(Q!==null){var Oe=Q.next,je=w.baseState,Le=null,nt=null,st=null,pt=Oe;do{var Ut=pt.lane;if(uo($a,Ut)){if(st!==null){var Gt={lane:pr,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null};st=st.next=Gt}if(pt.hasEagerState)je=pt.eagerState;else{var Cn=pt.action;je=o(je,Cn)}}else{var en={lane:Ut,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null};st===null?(nt=st=en,Le=je):st=st.next=en,$n.lanes=bn($n.lanes,Ut),bc(Ut)}pt=pt.next}while(pt!==null&&pt!==Oe);st===null?Le=je:st.next=nt,ti(je,p.memoizedState)||lc(),p.memoizedState=je,p.baseState=Le,p.baseQueue=st,v.lastRenderedState=je}var kn=v.interleaved;if(kn!==null){var Ye=kn;do{var mt=Ye.lane;$n.lanes=bn($n.lanes,mt),bc(mt),Ye=Ye.next}while(Ye!==kn)}else Q===null&&(v.lanes=Tt);var He=v.dispatch;return[p.memoizedState,He]}function pp(o,l,h){var p=hi(),v=p.queue;if(v===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");v.lastRenderedReducer=o;var w=v.dispatch,Q=v.pending,U=p.memoizedState;if(Q!==null){v.pending=null;var J=Q.next,ue=J;do{var Oe=ue.action;U=o(U,Oe),ue=ue.next}while(ue!==J);ti(U,p.memoizedState)||lc(),p.memoizedState=U,p.baseQueue===null&&(p.baseState=U),v.lastRenderedState=U}return[U,w]}function MA(o,l,h){}function $A(o,l,h){}function mp(o,l,h){var p=$n,v=zi(),w,Q=vr();if(Q){if(h===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");w=h(),_o||w!==h()&&(u("The result of getServerSnapshot should be cached to avoid an infinite loop"),_o=!0)}else{if(w=l(),!_o){var U=l();ti(w,U)||(u("The result of getSnapshot should be cached to avoid an infinite loop"),_o=!0)}var J=Th();if(J===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Zc(J,$a)||fy(p,l,w)}v.memoizedState=w;var ue={value:w,getSnapshot:l};return v.queue=ue,Ku(py.bind(null,p,ue,o),[o]),p.flags|=yi,ec(rr|yr,dy.bind(null,p,ue,w,l),void 0,null),w}function Wu(o,l,h){var p=$n,v=hi(),w=l();if(!_o){var Q=l();ti(w,Q)||(u("The result of getSnapshot should be cached to avoid an infinite loop"),_o=!0)}var U=v.memoizedState,J=!ti(U,w);J&&(v.memoizedState=w,lc());var ue=v.queue;if(nc(py.bind(null,p,ue,o),[o]),ue.getSnapshot!==l||J||ar!==null&&ar.memoizedState.tag&rr){p.flags|=yi,ec(rr|yr,dy.bind(null,p,ue,w,l),void 0,null);var Oe=Th();if(Oe===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Zc(Oe,$a)||fy(p,l,w)}return w}function fy(o,l,h){o.flags|=Vc;var p={getSnapshot:l,value:h},v=$n.updateQueue;if(v===null)v=hy(),$n.updateQueue=v,v.stores=[p];else{var w=v.stores;w===null?v.stores=[p]:w.push(p)}}function dy(o,l,h,p){l.value=h,l.getSnapshot=p,my(l)&&gy(o)}function py(o,l,h){var p=function(){my(l)&&gy(o)};return h(p)}function my(o){var l=o.getSnapshot,h=o.value;try{var p=l();return!ti(h,p)}catch{return!0}}function gy(o){var l=Zr(o,fn);l!==null&&ur(l,o,fn,Xn)}function Yu(o){var l=zi();typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o;var h={pending:null,interleaved:null,lanes:Tt,dispatch:null,lastRenderedReducer:hp,lastRenderedState:o};l.queue=h;var p=h.dispatch=TC.bind(null,$n,h);return[l.memoizedState,p]}function gp(o){return dp(hp)}function Op(o){return pp(hp)}function ec(o,l,h,p){var v={tag:o,create:l,destroy:h,deps:p,next:null},w=$n.updateQueue;if(w===null)w=hy(),$n.updateQueue=w,w.lastEffect=v.next=v;else{var Q=w.lastEffect;if(Q===null)w.lastEffect=v.next=v;else{var U=Q.next;Q.next=v,v.next=U,w.lastEffect=v}}return v}function vp(o){var l=zi();{var h={current:o};return l.memoizedState=h,h}}function Hu(o){var l=hi();return l.memoizedState}function tc(o,l,h,p){var v=zi(),w=p===void 0?null:p;$n.flags|=o,v.memoizedState=ec(rr|l,h,void 0,w)}function Gu(o,l,h,p){var v=hi(),w=p===void 0?null:p,Q=void 0;if(sr!==null){var U=sr.memoizedState;if(Q=U.destroy,w!==null){var J=U.deps;if(up(w,J)){v.memoizedState=ec(l,h,Q,w);return}}}$n.flags|=o,v.memoizedState=ec(rr|l,h,Q,w)}function Ku(o,l){return($n.mode&Vi)!==tn?tc(Ic|yi|pf,yr,o,l):tc(yi|pf,yr,o,l)}function nc(o,l){return Gu(yi,yr,o,l)}function yp(o,l){return tc(Pn,Xi,o,l)}function Ju(o,l){return Gu(Pn,Xi,o,l)}function bp(o,l){var h=Pn;return h|=Oa,($n.mode&Vi)!==tn&&(h|=hs),tc(h,ir,o,l)}function eh(o,l){return Gu(Pn,ir,o,l)}function Oy(o,l){if(typeof l=="function"){var h=l,p=o();return h(p),function(){h(null)}}else if(l!=null){var v=l;v.hasOwnProperty("current")||u("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(v).join(", ")+"}");var w=o();return v.current=w,function(){v.current=null}}}function Sp(o,l,h){typeof l!="function"&&u("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",l!==null?typeof l:"null");var p=h!=null?h.concat([o]):null,v=Pn;return v|=Oa,($n.mode&Vi)!==tn&&(v|=hs),tc(v,ir,Oy.bind(null,l,o),p)}function th(o,l,h){typeof l!="function"&&u("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",l!==null?typeof l:"null");var p=h!=null?h.concat([o]):null;return Gu(Pn,ir,Oy.bind(null,l,o),p)}function SC(o,l){}var nh=SC;function xp(o,l){var h=zi(),p=l===void 0?null:l;return h.memoizedState=[o,p],o}function rh(o,l){var h=hi(),p=l===void 0?null:l,v=h.memoizedState;if(v!==null&&p!==null){var w=v[1];if(up(p,w))return v[0]}return h.memoizedState=[o,p],o}function kp(o,l){var h=zi(),p=l===void 0?null:l,v=o();return h.memoizedState=[v,p],v}function ih(o,l){var h=hi(),p=l===void 0?null:l,v=h.memoizedState;if(v!==null&&p!==null){var w=v[1];if(up(p,w))return v[0]}var Q=o();return h.memoizedState=[Q,p],Q}function wp(o){var l=zi();return l.memoizedState=o,o}function vy(o){var l=hi(),h=sr,p=h.memoizedState;return by(l,p,o)}function yy(o){var l=hi();if(sr===null)return l.memoizedState=o,o;var h=sr.memoizedState;return by(l,h,o)}function by(o,l,h){var p=!a1($a);if(p){if(!ti(h,l)){var v=gO();$n.lanes=bn($n.lanes,v),bc(v),o.baseState=!0}return l}else return o.baseState&&(o.baseState=!1,lc()),o.memoizedState=h,h}function xC(o,l,h){var p=Si();mr(m1(p,ps)),o(!0);var v=Gl.transition;Gl.transition={};var w=Gl.transition;Gl.transition._updatedFibers=new Set;try{o(!1),l()}finally{if(mr(p),Gl.transition=v,v===null&&w._updatedFibers){var Q=w._updatedFibers.size;Q>10&&c("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),w._updatedFibers.clear()}}}function Tp(){var o=Yu(!1),l=o[0],h=o[1],p=xC.bind(null,h),v=zi();return v.memoizedState=p,[l,p]}function Sy(){var o=gp(),l=o[0],h=hi(),p=h.memoizedState;return[l,p]}function xy(){var o=Op(),l=o[0],h=hi(),p=h.memoizedState;return[l,p]}var ky=!1;function kC(){return ky}function Cp(){var o=zi(),l=Th(),h=l.identifierPrefix,p;if(vr()){var v=VT();p=":"+h+"R"+v;var w=Jl++;w>0&&(p+="H"+w.toString(32)),p+=":"}else{var Q=vC++;p=":"+h+"r"+Q.toString(32)+":"}return o.memoizedState=p,p}function sh(){var o=hi(),l=o.memoizedState;return l}function wC(o,l,h){typeof arguments[3]=="function"&&u("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var p=Ks(o),v={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null};if(wy(o))Ty(l,v);else{var w=Jv(o,l,v,p);if(w!==null){var Q=Vr();ur(w,o,p,Q),Cy(w,l,p)}}Ey(o,p)}function TC(o,l,h){typeof arguments[3]=="function"&&u("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var p=Ks(o),v={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null};if(wy(o))Ty(l,v);else{var w=o.alternate;if(o.lanes===Tt&&(w===null||w.lanes===Tt)){var Q=l.lastRenderedReducer;if(Q!==null){var U;U=Zt.current,Zt.current=Ci;try{var J=l.lastRenderedState,ue=Q(J,h);if(v.hasEagerState=!0,v.eagerState=ue,ti(ue,J)){cC(o,l,v,p);return}}catch{}finally{Zt.current=U}}}var Oe=Jv(o,l,v,p);if(Oe!==null){var je=Vr();ur(Oe,o,p,je),Cy(Oe,l,p)}}Ey(o,p)}function wy(o){var l=o.alternate;return o===$n||l!==null&&l===$n}function Ty(o,l){Kl=Zu=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function Cy(o,l,h){if(mO(h)){var p=l.lanes;p=OO(p,o.pendingLanes);var v=bn(p,h);l.lanes=v,Xf(o,v)}}function Ey(o,l,h){yf(o,l)}var ah={readContext:nr,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:de},Py=null,Ay=null,Ry=null,Qy=null,qi=null,Ci=null,oh=null;{var Ep=function(){u("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},dn=function(){u("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};Py={readContext:function(o){return nr(o)},useCallback:function(o,l){return yt="useCallback",Dn(),Do(l),xp(o,l)},useContext:function(o){return yt="useContext",Dn(),nr(o)},useEffect:function(o,l){return yt="useEffect",Dn(),Do(l),Ku(o,l)},useImperativeHandle:function(o,l,h){return yt="useImperativeHandle",Dn(),Do(h),Sp(o,l,h)},useInsertionEffect:function(o,l){return yt="useInsertionEffect",Dn(),Do(l),yp(o,l)},useLayoutEffect:function(o,l){return yt="useLayoutEffect",Dn(),Do(l),bp(o,l)},useMemo:function(o,l){yt="useMemo",Dn(),Do(l);var h=Zt.current;Zt.current=qi;try{return kp(o,l)}finally{Zt.current=h}},useReducer:function(o,l,h){yt="useReducer",Dn();var p=Zt.current;Zt.current=qi;try{return fp(o,l,h)}finally{Zt.current=p}},useRef:function(o){return yt="useRef",Dn(),vp(o)},useState:function(o){yt="useState",Dn();var l=Zt.current;Zt.current=qi;try{return Yu(o)}finally{Zt.current=l}},useDebugValue:function(o,l){return yt="useDebugValue",Dn(),void 0},useDeferredValue:function(o){return yt="useDeferredValue",Dn(),wp(o)},useTransition:function(){return yt="useTransition",Dn(),Tp()},useMutableSource:function(o,l,h){return yt="useMutableSource",Dn(),void 0},useSyncExternalStore:function(o,l,h){return yt="useSyncExternalStore",Dn(),mp(o,l,h)},useId:function(){return yt="useId",Dn(),Cp()},unstable_isNewReconciler:de},Ay={readContext:function(o){return nr(o)},useCallback:function(o,l){return yt="useCallback",Vt(),xp(o,l)},useContext:function(o){return yt="useContext",Vt(),nr(o)},useEffect:function(o,l){return yt="useEffect",Vt(),Ku(o,l)},useImperativeHandle:function(o,l,h){return yt="useImperativeHandle",Vt(),Sp(o,l,h)},useInsertionEffect:function(o,l){return yt="useInsertionEffect",Vt(),yp(o,l)},useLayoutEffect:function(o,l){return yt="useLayoutEffect",Vt(),bp(o,l)},useMemo:function(o,l){yt="useMemo",Vt();var h=Zt.current;Zt.current=qi;try{return kp(o,l)}finally{Zt.current=h}},useReducer:function(o,l,h){yt="useReducer",Vt();var p=Zt.current;Zt.current=qi;try{return fp(o,l,h)}finally{Zt.current=p}},useRef:function(o){return yt="useRef",Vt(),vp(o)},useState:function(o){yt="useState",Vt();var l=Zt.current;Zt.current=qi;try{return Yu(o)}finally{Zt.current=l}},useDebugValue:function(o,l){return yt="useDebugValue",Vt(),void 0},useDeferredValue:function(o){return yt="useDeferredValue",Vt(),wp(o)},useTransition:function(){return yt="useTransition",Vt(),Tp()},useMutableSource:function(o,l,h){return yt="useMutableSource",Vt(),void 0},useSyncExternalStore:function(o,l,h){return yt="useSyncExternalStore",Vt(),mp(o,l,h)},useId:function(){return yt="useId",Vt(),Cp()},unstable_isNewReconciler:de},Ry={readContext:function(o){return nr(o)},useCallback:function(o,l){return yt="useCallback",Vt(),rh(o,l)},useContext:function(o){return yt="useContext",Vt(),nr(o)},useEffect:function(o,l){return yt="useEffect",Vt(),nc(o,l)},useImperativeHandle:function(o,l,h){return yt="useImperativeHandle",Vt(),th(o,l,h)},useInsertionEffect:function(o,l){return yt="useInsertionEffect",Vt(),Ju(o,l)},useLayoutEffect:function(o,l){return yt="useLayoutEffect",Vt(),eh(o,l)},useMemo:function(o,l){yt="useMemo",Vt();var h=Zt.current;Zt.current=Ci;try{return ih(o,l)}finally{Zt.current=h}},useReducer:function(o,l,h){yt="useReducer",Vt();var p=Zt.current;Zt.current=Ci;try{return dp(o,l,h)}finally{Zt.current=p}},useRef:function(o){return yt="useRef",Vt(),Hu()},useState:function(o){yt="useState",Vt();var l=Zt.current;Zt.current=Ci;try{return gp(o)}finally{Zt.current=l}},useDebugValue:function(o,l){return yt="useDebugValue",Vt(),nh()},useDeferredValue:function(o){return yt="useDeferredValue",Vt(),vy(o)},useTransition:function(){return yt="useTransition",Vt(),Sy()},useMutableSource:function(o,l,h){return yt="useMutableSource",Vt(),void 0},useSyncExternalStore:function(o,l,h){return yt="useSyncExternalStore",Vt(),Wu(o,l)},useId:function(){return yt="useId",Vt(),sh()},unstable_isNewReconciler:de},Qy={readContext:function(o){return nr(o)},useCallback:function(o,l){return yt="useCallback",Vt(),rh(o,l)},useContext:function(o){return yt="useContext",Vt(),nr(o)},useEffect:function(o,l){return yt="useEffect",Vt(),nc(o,l)},useImperativeHandle:function(o,l,h){return yt="useImperativeHandle",Vt(),th(o,l,h)},useInsertionEffect:function(o,l){return yt="useInsertionEffect",Vt(),Ju(o,l)},useLayoutEffect:function(o,l){return yt="useLayoutEffect",Vt(),eh(o,l)},useMemo:function(o,l){yt="useMemo",Vt();var h=Zt.current;Zt.current=oh;try{return ih(o,l)}finally{Zt.current=h}},useReducer:function(o,l,h){yt="useReducer",Vt();var p=Zt.current;Zt.current=oh;try{return pp(o,l,h)}finally{Zt.current=p}},useRef:function(o){return yt="useRef",Vt(),Hu()},useState:function(o){yt="useState",Vt();var l=Zt.current;Zt.current=oh;try{return Op(o)}finally{Zt.current=l}},useDebugValue:function(o,l){return yt="useDebugValue",Vt(),nh()},useDeferredValue:function(o){return yt="useDeferredValue",Vt(),yy(o)},useTransition:function(){return yt="useTransition",Vt(),xy()},useMutableSource:function(o,l,h){return yt="useMutableSource",Vt(),void 0},useSyncExternalStore:function(o,l,h){return yt="useSyncExternalStore",Vt(),Wu(o,l)},useId:function(){return yt="useId",Vt(),sh()},unstable_isNewReconciler:de},qi={readContext:function(o){return Ep(),nr(o)},useCallback:function(o,l){return yt="useCallback",dn(),Dn(),xp(o,l)},useContext:function(o){return yt="useContext",dn(),Dn(),nr(o)},useEffect:function(o,l){return yt="useEffect",dn(),Dn(),Ku(o,l)},useImperativeHandle:function(o,l,h){return yt="useImperativeHandle",dn(),Dn(),Sp(o,l,h)},useInsertionEffect:function(o,l){return yt="useInsertionEffect",dn(),Dn(),yp(o,l)},useLayoutEffect:function(o,l){return yt="useLayoutEffect",dn(),Dn(),bp(o,l)},useMemo:function(o,l){yt="useMemo",dn(),Dn();var h=Zt.current;Zt.current=qi;try{return kp(o,l)}finally{Zt.current=h}},useReducer:function(o,l,h){yt="useReducer",dn(),Dn();var p=Zt.current;Zt.current=qi;try{return fp(o,l,h)}finally{Zt.current=p}},useRef:function(o){return yt="useRef",dn(),Dn(),vp(o)},useState:function(o){yt="useState",dn(),Dn();var l=Zt.current;Zt.current=qi;try{return Yu(o)}finally{Zt.current=l}},useDebugValue:function(o,l){return yt="useDebugValue",dn(),Dn(),void 0},useDeferredValue:function(o){return yt="useDeferredValue",dn(),Dn(),wp(o)},useTransition:function(){return yt="useTransition",dn(),Dn(),Tp()},useMutableSource:function(o,l,h){return yt="useMutableSource",dn(),Dn(),void 0},useSyncExternalStore:function(o,l,h){return yt="useSyncExternalStore",dn(),Dn(),mp(o,l,h)},useId:function(){return yt="useId",dn(),Dn(),Cp()},unstable_isNewReconciler:de},Ci={readContext:function(o){return Ep(),nr(o)},useCallback:function(o,l){return yt="useCallback",dn(),Vt(),rh(o,l)},useContext:function(o){return yt="useContext",dn(),Vt(),nr(o)},useEffect:function(o,l){return yt="useEffect",dn(),Vt(),nc(o,l)},useImperativeHandle:function(o,l,h){return yt="useImperativeHandle",dn(),Vt(),th(o,l,h)},useInsertionEffect:function(o,l){return yt="useInsertionEffect",dn(),Vt(),Ju(o,l)},useLayoutEffect:function(o,l){return yt="useLayoutEffect",dn(),Vt(),eh(o,l)},useMemo:function(o,l){yt="useMemo",dn(),Vt();var h=Zt.current;Zt.current=Ci;try{return ih(o,l)}finally{Zt.current=h}},useReducer:function(o,l,h){yt="useReducer",dn(),Vt();var p=Zt.current;Zt.current=Ci;try{return dp(o,l,h)}finally{Zt.current=p}},useRef:function(o){return yt="useRef",dn(),Vt(),Hu()},useState:function(o){yt="useState",dn(),Vt();var l=Zt.current;Zt.current=Ci;try{return gp(o)}finally{Zt.current=l}},useDebugValue:function(o,l){return yt="useDebugValue",dn(),Vt(),nh()},useDeferredValue:function(o){return yt="useDeferredValue",dn(),Vt(),vy(o)},useTransition:function(){return yt="useTransition",dn(),Vt(),Sy()},useMutableSource:function(o,l,h){return yt="useMutableSource",dn(),Vt(),void 0},useSyncExternalStore:function(o,l,h){return yt="useSyncExternalStore",dn(),Vt(),Wu(o,l)},useId:function(){return yt="useId",dn(),Vt(),sh()},unstable_isNewReconciler:de},oh={readContext:function(o){return Ep(),nr(o)},useCallback:function(o,l){return yt="useCallback",dn(),Vt(),rh(o,l)},useContext:function(o){return yt="useContext",dn(),Vt(),nr(o)},useEffect:function(o,l){return yt="useEffect",dn(),Vt(),nc(o,l)},useImperativeHandle:function(o,l,h){return yt="useImperativeHandle",dn(),Vt(),th(o,l,h)},useInsertionEffect:function(o,l){return yt="useInsertionEffect",dn(),Vt(),Ju(o,l)},useLayoutEffect:function(o,l){return yt="useLayoutEffect",dn(),Vt(),eh(o,l)},useMemo:function(o,l){yt="useMemo",dn(),Vt();var h=Zt.current;Zt.current=Ci;try{return ih(o,l)}finally{Zt.current=h}},useReducer:function(o,l,h){yt="useReducer",dn(),Vt();var p=Zt.current;Zt.current=Ci;try{return pp(o,l,h)}finally{Zt.current=p}},useRef:function(o){return yt="useRef",dn(),Vt(),Hu()},useState:function(o){yt="useState",dn(),Vt();var l=Zt.current;Zt.current=Ci;try{return Op(o)}finally{Zt.current=l}},useDebugValue:function(o,l){return yt="useDebugValue",dn(),Vt(),nh()},useDeferredValue:function(o){return yt="useDeferredValue",dn(),Vt(),yy(o)},useTransition:function(){return yt="useTransition",dn(),Vt(),xy()},useMutableSource:function(o,l,h){return yt="useMutableSource",dn(),Vt(),void 0},useSyncExternalStore:function(o,l,h){return yt="useSyncExternalStore",dn(),Vt(),Wu(o,l)},useId:function(){return yt="useId",dn(),Vt(),sh()},unstable_isNewReconciler:de}}var Ws=e.unstable_now,_y=0,lh=-1,rc=-1,ch=-1,Pp=!1,uh=!1;function Dy(){return Pp}function CC(){uh=!0}function EC(){Pp=!1,uh=!1}function PC(){Pp=uh,uh=!1}function My(){return _y}function $y(){_y=Ws()}function Ap(o){rc=Ws(),o.actualStartTime<0&&(o.actualStartTime=Ws())}function Ly(o){rc=-1}function hh(o,l){if(rc>=0){var h=Ws()-rc;o.actualDuration+=h,l&&(o.selfBaseDuration=h),rc=-1}}function Zi(o){if(lh>=0){var l=Ws()-lh;lh=-1;for(var h=o.return;h!==null;){switch(h.tag){case x:var p=h.stateNode;p.effectDuration+=l;return;case G:var v=h.stateNode;v.effectDuration+=l;return}h=h.return}}}function Rp(o){if(ch>=0){var l=Ws()-ch;ch=-1;for(var h=o.return;h!==null;){switch(h.tag){case x:var p=h.stateNode;p!==null&&(p.passiveEffectDuration+=l);return;case G:var v=h.stateNode;v!==null&&(v.passiveEffectDuration+=l);return}h=h.return}}}function Wi(){lh=Ws()}function Qp(){ch=Ws()}function _p(o){for(var l=o.child;l;)o.actualDuration+=l.actualDuration,l=l.sibling}function Ei(o,l){if(o&&o.defaultProps){var h=gn({},l),p=o.defaultProps;for(var v in p)h[v]===void 0&&(h[v]=p[v]);return h}return l}var Dp={},Mp,$p,Lp,Np,jp,Ny,fh,Fp,Vp,Ip,ic;{Mp=new Set,$p=new Set,Lp=new Set,Np=new Set,Fp=new Set,jp=new Set,Vp=new Set,Ip=new Set,ic=new Set;var jy=new Set;fh=function(o,l){if(!(o===null||typeof o=="function")){var h=l+"_"+o;jy.has(h)||(jy.add(h),u("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",l,o))}},Ny=function(o,l){if(l===void 0){var h=yn(o)||"Component";jp.has(h)||(jp.add(h),u("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",h))}},Object.defineProperty(Dp,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Dp)}function Bp(o,l,h,p){var v=o.memoizedState,w=h(p,v);{if(o.mode&Wn){dr(!0);try{w=h(p,v)}finally{dr(!1)}}Ny(l,w)}var Q=w==null?v:gn({},v,w);if(o.memoizedState=Q,o.lanes===Tt){var U=o.updateQueue;U.baseState=Q}}var Up={isMounted:yx,enqueueSetState:function(o,l,h){var p=no(o),v=Vr(),w=Ks(p),Q=Ss(v,w);Q.payload=l,h!=null&&(fh(h,"setState"),Q.callback=h);var U=Xs(p,Q,w);U!==null&&(ur(U,p,w,v),Iu(U,p,w)),yf(p,w)},enqueueReplaceState:function(o,l,h){var p=no(o),v=Vr(),w=Ks(p),Q=Ss(v,w);Q.tag=ty,Q.payload=l,h!=null&&(fh(h,"replaceState"),Q.callback=h);var U=Xs(p,Q,w);U!==null&&(ur(U,p,w,v),Iu(U,p,w)),yf(p,w)},enqueueForceUpdate:function(o,l){var h=no(o),p=Vr(),v=Ks(h),w=Ss(p,v);w.tag=ju,l!=null&&(fh(l,"forceUpdate"),w.callback=l);var Q=Xs(h,w,v);Q!==null&&(ur(Q,h,v,p),Iu(Q,h,v)),Hx(h,v)}};function Fy(o,l,h,p,v,w,Q){var U=o.stateNode;if(typeof U.shouldComponentUpdate=="function"){var J=U.shouldComponentUpdate(p,w,Q);{if(o.mode&Wn){dr(!0);try{J=U.shouldComponentUpdate(p,w,Q)}finally{dr(!1)}}J===void 0&&u("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",yn(l)||"Component")}return J}return l.prototype&&l.prototype.isPureReactComponent?!Cl(h,p)||!Cl(v,w):!0}function AC(o,l,h){var p=o.stateNode;{var v=yn(l)||"Component",w=p.render;w||(l.prototype&&typeof l.prototype.render=="function"?u("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",v):u("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",v)),p.getInitialState&&!p.getInitialState.isReactClassApproved&&!p.state&&u("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",v),p.getDefaultProps&&!p.getDefaultProps.isReactClassApproved&&u("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",v),p.propTypes&&u("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",v),p.contextType&&u("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",v),l.childContextTypes&&!ic.has(l)&&(o.mode&Wn)===tn&&(ic.add(l),u(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,v)),l.contextTypes&&!ic.has(l)&&(o.mode&Wn)===tn&&(ic.add(l),u(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,v)),p.contextTypes&&u("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",v),l.contextType&&l.contextTypes&&!Vp.has(l)&&(Vp.add(l),u("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",v)),typeof p.componentShouldUpdate=="function"&&u("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",v),l.prototype&&l.prototype.isPureReactComponent&&typeof p.shouldComponentUpdate<"u"&&u("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",yn(l)||"A pure component"),typeof p.componentDidUnmount=="function"&&u("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",v),typeof p.componentDidReceiveProps=="function"&&u("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",v),typeof p.componentWillRecieveProps=="function"&&u("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",v),typeof p.UNSAFE_componentWillRecieveProps=="function"&&u("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",v);var Q=p.props!==h;p.props!==void 0&&Q&&u("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",v,v),p.defaultProps&&u("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",v,v),typeof p.getSnapshotBeforeUpdate=="function"&&typeof p.componentDidUpdate!="function"&&!Lp.has(l)&&(Lp.add(l),u("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",yn(l))),typeof p.getDerivedStateFromProps=="function"&&u("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",v),typeof p.getDerivedStateFromError=="function"&&u("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",v),typeof l.getSnapshotBeforeUpdate=="function"&&u("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",v);var U=p.state;U&&(typeof U!="object"||_t(U))&&u("%s.state: must be set to an object or null",v),typeof p.getChildContext=="function"&&typeof l.childContextTypes!="object"&&u("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",v)}}function Vy(o,l){l.updater=Up,o.stateNode=l,px(l,o),l._reactInternalInstance=Dp}function Iy(o,l,h){var p=!1,v=ni,w=ni,Q=l.contextType;if("contextType"in l){var U=Q===null||Q!==void 0&&Q.$$typeof===Ze&&Q._context===void 0;if(!U&&!Ip.has(l)){Ip.add(l);var J="";Q===void 0?J=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof Q!="object"?J=" However, it is set to a "+typeof Q+".":Q.$$typeof===Ee?J=" Did you accidentally pass the Context.Provider instead?":Q._context!==void 0?J=" Did you accidentally pass the Context.Consumer instead?":J=" However, it is set to an object with keys {"+Object.keys(Q).join(", ")+"}.",u("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",yn(l)||"Component",J)}}if(typeof Q=="object"&&Q!==null)w=nr(Q);else{v=So(o,l,!0);var ue=l.contextTypes;p=ue!=null,w=p?xo(o,v):ni}var Oe=new l(h,w);if(o.mode&Wn){dr(!0);try{Oe=new l(h,w)}finally{dr(!1)}}var je=o.memoizedState=Oe.state!==null&&Oe.state!==void 0?Oe.state:null;Vy(o,Oe);{if(typeof l.getDerivedStateFromProps=="function"&&je===null){var Le=yn(l)||"Component";$p.has(Le)||($p.add(Le),u("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",Le,Oe.state===null?"null":"undefined",Le))}if(typeof l.getDerivedStateFromProps=="function"||typeof Oe.getSnapshotBeforeUpdate=="function"){var nt=null,st=null,pt=null;if(typeof Oe.componentWillMount=="function"&&Oe.componentWillMount.__suppressDeprecationWarning!==!0?nt="componentWillMount":typeof Oe.UNSAFE_componentWillMount=="function"&&(nt="UNSAFE_componentWillMount"),typeof Oe.componentWillReceiveProps=="function"&&Oe.componentWillReceiveProps.__suppressDeprecationWarning!==!0?st="componentWillReceiveProps":typeof Oe.UNSAFE_componentWillReceiveProps=="function"&&(st="UNSAFE_componentWillReceiveProps"),typeof Oe.componentWillUpdate=="function"&&Oe.componentWillUpdate.__suppressDeprecationWarning!==!0?pt="componentWillUpdate":typeof Oe.UNSAFE_componentWillUpdate=="function"&&(pt="UNSAFE_componentWillUpdate"),nt!==null||st!==null||pt!==null){var Ut=yn(l)||"Component",en=typeof l.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Np.has(Ut)||(Np.add(Ut),u(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,Ut,en,nt!==null?`
  `+nt:"",st!==null?`
  `+st:"",pt!==null?`
  `+pt:""))}}}return p&&Rv(o,v,w),Oe}function RC(o,l){var h=l.state;typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),h!==l.state&&(u("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",un(o)||"Component"),Up.enqueueReplaceState(l,l.state,null))}function By(o,l,h,p){var v=l.state;if(typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,p),l.state!==v){{var w=un(o)||"Component";Mp.has(w)||(Mp.add(w),u("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",w))}Up.enqueueReplaceState(l,l.state,null)}}function Xp(o,l,h,p){AC(o,l,h);var v=o.stateNode;v.props=h,v.state=o.memoizedState,v.refs={},Jd(o);var w=l.contextType;if(typeof w=="object"&&w!==null)v.context=nr(w);else{var Q=So(o,l,!0);v.context=xo(o,Q)}{if(v.state===h){var U=yn(l)||"Component";Fp.has(U)||(Fp.add(U),u("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",U))}o.mode&Wn&&wi.recordLegacyContextWarning(o,v),wi.recordUnsafeLifecycleWarnings(o,v)}v.state=o.memoizedState;var J=l.getDerivedStateFromProps;if(typeof J=="function"&&(Bp(o,l,J,h),v.state=o.memoizedState),typeof l.getDerivedStateFromProps!="function"&&typeof v.getSnapshotBeforeUpdate!="function"&&(typeof v.UNSAFE_componentWillMount=="function"||typeof v.componentWillMount=="function")&&(RC(o,v),Bu(o,h,v,p),v.state=o.memoizedState),typeof v.componentDidMount=="function"){var ue=Pn;ue|=Oa,(o.mode&Vi)!==tn&&(ue|=hs),o.flags|=ue}}function QC(o,l,h,p){var v=o.stateNode,w=o.memoizedProps;v.props=w;var Q=v.context,U=l.contextType,J=ni;if(typeof U=="object"&&U!==null)J=nr(U);else{var ue=So(o,l,!0);J=xo(o,ue)}var Oe=l.getDerivedStateFromProps,je=typeof Oe=="function"||typeof v.getSnapshotBeforeUpdate=="function";!je&&(typeof v.UNSAFE_componentWillReceiveProps=="function"||typeof v.componentWillReceiveProps=="function")&&(w!==h||Q!==J)&&By(o,v,h,J),ry();var Le=o.memoizedState,nt=v.state=Le;if(Bu(o,h,v,p),nt=o.memoizedState,w===h&&Le===nt&&!ku()&&!Uu()){if(typeof v.componentDidMount=="function"){var st=Pn;st|=Oa,(o.mode&Vi)!==tn&&(st|=hs),o.flags|=st}return!1}typeof Oe=="function"&&(Bp(o,l,Oe,h),nt=o.memoizedState);var pt=Uu()||Fy(o,l,w,h,Le,nt,J);if(pt){if(!je&&(typeof v.UNSAFE_componentWillMount=="function"||typeof v.componentWillMount=="function")&&(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"){var Ut=Pn;Ut|=Oa,(o.mode&Vi)!==tn&&(Ut|=hs),o.flags|=Ut}}else{if(typeof v.componentDidMount=="function"){var en=Pn;en|=Oa,(o.mode&Vi)!==tn&&(en|=hs),o.flags|=en}o.memoizedProps=h,o.memoizedState=nt}return v.props=h,v.state=nt,v.context=J,pt}function _C(o,l,h,p,v){var w=l.stateNode;ny(o,l);var Q=l.memoizedProps,U=l.type===l.elementType?Q:Ei(l.type,Q);w.props=U;var J=l.pendingProps,ue=w.context,Oe=h.contextType,je=ni;if(typeof Oe=="object"&&Oe!==null)je=nr(Oe);else{var Le=So(l,h,!0);je=xo(l,Le)}var nt=h.getDerivedStateFromProps,st=typeof nt=="function"||typeof w.getSnapshotBeforeUpdate=="function";!st&&(typeof w.UNSAFE_componentWillReceiveProps=="function"||typeof w.componentWillReceiveProps=="function")&&(Q!==J||ue!==je)&&By(l,w,p,je),ry();var pt=l.memoizedState,Ut=w.state=pt;if(Bu(l,p,w,v),Ut=l.memoizedState,Q===J&&pt===Ut&&!ku()&&!Uu()&&!Fe)return typeof w.componentDidUpdate=="function"&&(Q!==o.memoizedProps||pt!==o.memoizedState)&&(l.flags|=Pn),typeof w.getSnapshotBeforeUpdate=="function"&&(Q!==o.memoizedProps||pt!==o.memoizedState)&&(l.flags|=ma),!1;typeof nt=="function"&&(Bp(l,h,nt,p),Ut=l.memoizedState);var en=Uu()||Fy(l,h,U,p,pt,Ut,je)||Fe;return en?(!st&&(typeof w.UNSAFE_componentWillUpdate=="function"||typeof w.componentWillUpdate=="function")&&(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,Ut,je),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,Ut,je)),typeof w.componentDidUpdate=="function"&&(l.flags|=Pn),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=ma)):(typeof w.componentDidUpdate=="function"&&(Q!==o.memoizedProps||pt!==o.memoizedState)&&(l.flags|=Pn),typeof w.getSnapshotBeforeUpdate=="function"&&(Q!==o.memoizedProps||pt!==o.memoizedState)&&(l.flags|=ma),l.memoizedProps=p,l.memoizedState=Ut),w.props=p,w.state=Ut,w.context=je,en}function La(o,l){return{value:o,source:l,stack:ts(l),digest:null}}function zp(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function DC(o,l){return!0}function qp(o,l){try{var h=DC(o,l);if(h===!1)return;var p=l.value,v=l.source,w=l.stack,Q=w!==null?w:"";if(p!=null&&p._suppressLogging){if(o.tag===O)return;console.error(p)}var U=v?un(v):null,J=U?"The above error occurred in the <"+U+"> component:":"The above error occurred in one of your React components:",ue;if(o.tag===x)ue=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var Oe=un(o)||"Anonymous";ue="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+Oe+".")}var je=J+`
`+Q+`

`+(""+ue);console.error(je)}catch(Le){setTimeout(function(){throw Le})}}var MC=typeof WeakMap=="function"?WeakMap:Map;function Uy(o,l,h){var p=Ss(Xn,h);p.tag=Gd,p.payload={element:null};var v=l.value;return p.callback=function(){CP(v),qp(o,l)},p}function Zp(o,l,h){var p=Ss(Xn,h);p.tag=Gd;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var w=l.value;p.payload=function(){return v(w)},p.callback=function(){e0(o),qp(o,l)}}var Q=o.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(p.callback=function(){e0(o),qp(o,l),typeof v!="function"&&wP(this);var J=l.value,ue=l.stack;this.componentDidCatch(J,{componentStack:ue!==null?ue:""}),typeof v!="function"&&(Kr(o.lanes,fn)||u("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",un(o)||"Unknown"))}),p}function Xy(o,l,h){var p=o.pingCache,v;if(p===null?(p=o.pingCache=new MC,v=new Set,p.set(l,v)):(v=p.get(l),v===void 0&&(v=new Set,p.set(l,v))),!v.has(h)){v.add(h);var w=EP.bind(null,o,l,h);bi&&Sc(o,h),l.then(w,w)}}function $C(o,l,h,p){var v=o.updateQueue;if(v===null){var w=new Set;w.add(h),o.updateQueue=w}else v.add(h)}function LC(o,l){var h=o.tag;if((o.mode&wn)===tn&&(h===d||h===Y||h===ee)){var p=o.alternate;p?(o.updateQueue=p.updateQueue,o.memoizedState=p.memoizedState,o.lanes=p.lanes):(o.updateQueue=null,o.memoizedState=null)}}function zy(o){var l=o;do{if(l.tag===L&&gC(l))return l;l=l.return}while(l!==null);return null}function qy(o,l,h,p,v){if((o.mode&wn)===tn){if(o===l)o.flags|=Nr;else{if(o.flags|=_n,h.flags|=ff,h.flags&=~(mx|rl),h.tag===O){var w=h.alternate;if(w===null)h.tag=z;else{var Q=Ss(Xn,fn);Q.tag=ju,Xs(h,Q,fn)}}h.lanes=bn(h.lanes,fn)}return o}return o.flags|=Nr,o.lanes=v,o}function NC(o,l,h,p,v){if(h.flags|=rl,bi&&Sc(o,v),p!==null&&typeof p=="object"&&typeof p.then=="function"){var w=p;LC(h),vr()&&h.mode&wn&&Nv();var Q=zy(l);if(Q!==null){Q.flags&=~cs,qy(Q,l,h,o,v),Q.mode&wn&&Xy(o,w,v),$C(Q,o,w);return}else{if(!s1(v)){Xy(o,w,v),Em();return}var U=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");p=U}}else if(vr()&&h.mode&wn){Nv();var J=zy(l);if(J!==null){(J.flags&Nr)===sn&&(J.flags|=cs),qy(J,l,h,o,v),Fd(La(p,h));return}}p=La(p,h),gP(p);var ue=l;do{switch(ue.tag){case x:{var Oe=p;ue.flags|=Nr;var je=hl(v);ue.lanes=bn(ue.lanes,je);var Le=Uy(ue,Oe,je);ep(ue,Le);return}case O:var nt=p,st=ue.type,pt=ue.stateNode;if((ue.flags&_n)===sn&&(typeof st.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&!zb(pt))){ue.flags|=Nr;var Ut=hl(v);ue.lanes=bn(ue.lanes,Ut);var en=Zp(ue,nt,Ut);ep(ue,en);return}break}ue=ue.return}while(ue!==null)}function jC(){return null}var sc=n.ReactCurrentOwner,Pi=!1,Wp,ac,Yp,Hp,Gp,Na,Kp,dh,oc;Wp={},ac={},Yp={},Hp={},Gp={},Na=!1,Kp={},dh={},oc={};function jr(o,l,h,p){o===null?l.child=Yv(l,null,h,p):l.child=Co(l,o.child,h,p)}function FC(o,l,h,p){l.child=Co(l,o.child,null,p),l.child=Co(l,null,h,p)}function Zy(o,l,h,p,v){if(l.type!==l.elementType){var w=h.propTypes;w&&xi(w,p,"prop",yn(h))}var Q=h.render,U=l.ref,J,ue;Po(l,v),sl(l);{if(sc.current=l,$r(!0),J=Mo(o,l,Q,p,U,v),ue=$o(),l.mode&Wn){dr(!0);try{J=Mo(o,l,Q,p,U,v),ue=$o()}finally{dr(!1)}}$r(!1)}return ao(),o!==null&&!Pi?(cy(o,l,v),xs(o,l,v)):(vr()&&ue&&Dd(l),l.flags|=ro,jr(o,l,J,v),l.child)}function Wy(o,l,h,p,v){if(o===null){var w=h.type;if(XP(w)&&h.compare===null&&h.defaultProps===void 0){var Q=w;return Q=Uo(w),l.tag=ee,l.type=Q,tm(l,w),Yy(o,l,Q,p,v)}{var U=w.propTypes;if(U&&xi(U,p,"prop",yn(w)),h.defaultProps!==void 0){var J=yn(w)||"Unknown";oc[J]||(u("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",J),oc[J]=!0)}}var ue=jm(h.type,null,p,l,l.mode,v);return ue.ref=l.ref,ue.return=l,l.child=ue,ue}{var Oe=h.type,je=Oe.propTypes;je&&xi(je,p,"prop",yn(Oe))}var Le=o.child,nt=lm(o,v);if(!nt){var st=Le.memoizedProps,pt=h.compare;if(pt=pt!==null?pt:Cl,pt(st,p)&&o.ref===l.ref)return xs(o,l,v)}l.flags|=ro;var Ut=Ba(Le,p);return Ut.ref=l.ref,Ut.return=l,l.child=Ut,Ut}function Yy(o,l,h,p,v){if(l.type!==l.elementType){var w=l.elementType;if(w.$$typeof===dt){var Q=w,U=Q._payload,J=Q._init;try{w=J(U)}catch{w=null}var ue=w&&w.propTypes;ue&&xi(ue,p,"prop",yn(w))}}if(o!==null){var Oe=o.memoizedProps;if(Cl(Oe,p)&&o.ref===l.ref&&l.type===o.type)if(Pi=!1,l.pendingProps=p=Oe,lm(o,v))(o.flags&ff)!==sn&&(Pi=!0);else return l.lanes=o.lanes,xs(o,l,v)}return Jp(o,l,h,p,v)}function Hy(o,l,h){var p=l.pendingProps,v=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden"||Ke)if((l.mode&wn)===tn){var Q={baseLanes:Tt,cachePool:null,transitions:null};l.memoizedState=Q,Ch(l,h)}else if(Kr(h,Gr)){var je={baseLanes:Tt,cachePool:null,transitions:null};l.memoizedState=je;var Le=w!==null?w.baseLanes:h;Ch(l,Le)}else{var U=null,J;if(w!==null){var ue=w.baseLanes;J=bn(ue,h)}else J=h;l.lanes=l.childLanes=Gr;var Oe={baseLanes:J,cachePool:U,transitions:null};return l.memoizedState=Oe,l.updateQueue=null,Ch(l,J),null}else{var nt;w!==null?(nt=bn(w.baseLanes,h),l.memoizedState=null):nt=h,Ch(l,nt)}return jr(o,l,v,h),l.child}function VC(o,l,h){var p=l.pendingProps;return jr(o,l,p,h),l.child}function IC(o,l,h){var p=l.pendingProps.children;return jr(o,l,p,h),l.child}function BC(o,l,h){{l.flags|=Pn;{var p=l.stateNode;p.effectDuration=0,p.passiveEffectDuration=0}}var v=l.pendingProps,w=v.children;return jr(o,l,w,h),l.child}function Gy(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=_s,l.flags|=df)}function Jp(o,l,h,p,v){if(l.type!==l.elementType){var w=h.propTypes;w&&xi(w,p,"prop",yn(h))}var Q;{var U=So(l,h,!0);Q=xo(l,U)}var J,ue;Po(l,v),sl(l);{if(sc.current=l,$r(!0),J=Mo(o,l,h,p,Q,v),ue=$o(),l.mode&Wn){dr(!0);try{J=Mo(o,l,h,p,Q,v),ue=$o()}finally{dr(!1)}}$r(!1)}return ao(),o!==null&&!Pi?(cy(o,l,v),xs(o,l,v)):(vr()&&ue&&Dd(l),l.flags|=ro,jr(o,l,J,v),l.child)}function Ky(o,l,h,p,v){{switch(sA(l)){case!1:{var w=l.stateNode,Q=l.type,U=new Q(l.memoizedProps,w.context),J=U.state;w.updater.enqueueSetState(w,J,null);break}case!0:{l.flags|=_n,l.flags|=Nr;var ue=new Error("Simulated error coming from DevTools"),Oe=hl(v);l.lanes=bn(l.lanes,Oe);var je=Zp(l,La(ue,l),Oe);ep(l,je);break}}if(l.type!==l.elementType){var Le=h.propTypes;Le&&xi(Le,p,"prop",yn(h))}}var nt;Ui(h)?(nt=!0,Tu(l)):nt=!1,Po(l,v);var st=l.stateNode,pt;st===null?(mh(o,l),Iy(l,h,p),Xp(l,h,p,v),pt=!0):o===null?pt=QC(l,h,p,v):pt=_C(o,l,h,p,v);var Ut=em(o,l,h,pt,nt,v);{var en=l.stateNode;pt&&en.props!==p&&(Na||u("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",un(l)||"a component"),Na=!0)}return Ut}function em(o,l,h,p,v,w){Gy(o,l);var Q=(l.flags&_n)!==sn;if(!p&&!Q)return v&&Dv(l,h,!1),xs(o,l,w);var U=l.stateNode;sc.current=l;var J;if(Q&&typeof h.getDerivedStateFromError!="function")J=null,Ly();else{sl(l);{if($r(!0),J=U.render(),l.mode&Wn){dr(!0);try{U.render()}finally{dr(!1)}}$r(!1)}ao()}return l.flags|=ro,o!==null&&Q?FC(o,l,J,w):jr(o,l,J,w),l.memoizedState=U.state,v&&Dv(l,h,!0),l.child}function Jy(o){var l=o.stateNode;l.pendingContext?Qv(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Qv(o,l.context,!1),tp(o,l.containerInfo)}function UC(o,l,h){if(Jy(l),o===null)throw new Error("Should have a current fiber. This is a bug in React.");var p=l.pendingProps,v=l.memoizedState,w=v.element;ny(o,l),Bu(l,p,null,h);var Q=l.memoizedState;l.stateNode;var U=Q.element;if(v.isDehydrated){var J={element:U,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},ue=l.updateQueue;if(ue.baseState=J,l.memoizedState=J,l.flags&cs){var Oe=La(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),l);return eb(o,l,U,h,Oe)}else if(U!==w){var je=La(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),l);return eb(o,l,U,h,je)}else{qT(l);var Le=Yv(l,null,U,h);l.child=Le;for(var nt=Le;nt;)nt.flags=nt.flags&~tr|us,nt=nt.sibling}}else{if(To(),U===w)return xs(o,l,h);jr(o,l,U,h)}return l.child}function eb(o,l,h,p,v){return To(),Fd(v),l.flags|=cs,jr(o,l,h,p),l.child}function XC(o,l,h){ay(l),o===null&&jd(l);var p=l.type,v=l.pendingProps,w=o!==null?o.memoizedProps:null,Q=v.children,U=yd(p,v);return U?Q=null:w!==null&&yd(p,w)&&(l.flags|=nl),Gy(o,l),jr(o,l,Q,h),l.child}function zC(o,l){return o===null&&jd(l),null}function qC(o,l,h,p){mh(o,l);var v=l.pendingProps,w=h,Q=w._payload,U=w._init,J=U(Q);l.type=J;var ue=l.tag=zP(J),Oe=Ei(J,v),je;switch(ue){case d:return tm(l,J),l.type=J=Uo(J),je=Jp(null,l,J,Oe,p),je;case O:return l.type=J=_m(J),je=Ky(null,l,J,Oe,p),je;case Y:return l.type=J=Dm(J),je=Zy(null,l,J,Oe,p),je;case I:{if(l.type!==l.elementType){var Le=J.propTypes;Le&&xi(Le,Oe,"prop",yn(J))}return je=Wy(null,l,J,Ei(J.type,Oe),p),je}}var nt="";throw J!==null&&typeof J=="object"&&J.$$typeof===dt&&(nt=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+J+". "+("Lazy element type must resolve to a class or function."+nt))}function ZC(o,l,h,p,v){mh(o,l),l.tag=O;var w;return Ui(h)?(w=!0,Tu(l)):w=!1,Po(l,v),Iy(l,h,p),Xp(l,h,p,v),em(null,l,h,!0,w,v)}function WC(o,l,h,p){mh(o,l);var v=l.pendingProps,w;{var Q=So(l,h,!1);w=xo(l,Q)}Po(l,p);var U,J;sl(l);{if(h.prototype&&typeof h.prototype.render=="function"){var ue=yn(h)||"Unknown";Wp[ue]||(u("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",ue,ue),Wp[ue]=!0)}l.mode&Wn&&wi.recordLegacyContextWarning(l,null),$r(!0),sc.current=l,U=Mo(null,l,h,v,w,p),J=$o(),$r(!1)}if(ao(),l.flags|=ro,typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0){var Oe=yn(h)||"Unknown";ac[Oe]||(u("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",Oe,Oe,Oe),ac[Oe]=!0)}if(typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0){{var je=yn(h)||"Unknown";ac[je]||(u("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",je,je,je),ac[je]=!0)}l.tag=O,l.memoizedState=null,l.updateQueue=null;var Le=!1;return Ui(h)?(Le=!0,Tu(l)):Le=!1,l.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,Jd(l),Vy(l,U),Xp(l,h,v,p),em(null,l,h,!0,Le,p)}else{if(l.tag=d,l.mode&Wn){dr(!0);try{U=Mo(null,l,h,v,w,p),J=$o()}finally{dr(!1)}}return vr()&&J&&Dd(l),jr(null,l,U,p),tm(l,h),l.child}}function tm(o,l){{if(l&&l.childContextTypes&&u("%s(...): childContextTypes cannot be defined on a function component.",l.displayName||l.name||"Component"),o.ref!==null){var h="",p=qn();p&&(h+=`

Check the render method of \``+p+"`.");var v=p||"",w=o._debugSource;w&&(v=w.fileName+":"+w.lineNumber),Gp[v]||(Gp[v]=!0,u("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",h))}if(l.defaultProps!==void 0){var Q=yn(l)||"Unknown";oc[Q]||(u("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",Q),oc[Q]=!0)}if(typeof l.getDerivedStateFromProps=="function"){var U=yn(l)||"Unknown";Hp[U]||(u("%s: Function components do not support getDerivedStateFromProps.",U),Hp[U]=!0)}if(typeof l.contextType=="object"&&l.contextType!==null){var J=yn(l)||"Unknown";Yp[J]||(u("%s: Function components do not support contextType.",J),Yp[J]=!0)}}}var nm={dehydrated:null,treeContext:null,retryLane:pr};function im(o){return{baseLanes:o,cachePool:jC(),transitions:null}}function YC(o,l){var h=null;return{baseLanes:bn(o.baseLanes,l),cachePool:h,transitions:o.transitions}}function HC(o,l,h,p){if(l!==null){var v=l.memoizedState;if(v===null)return!1}return ip(o,Hl)}function GC(o,l){return Wc(o.childLanes,l)}function tb(o,l,h){var p=l.pendingProps;aA(l)&&(l.flags|=_n);var v=Ti.current,w=!1,Q=(l.flags&_n)!==sn;if(Q||HC(v,o)?(w=!0,l.flags&=~_n):(o===null||o.memoizedState!==null)&&(v=mC(v,ly)),v=Ro(v),qs(l,v),o===null){jd(l);var U=l.memoizedState;if(U!==null){var J=U.dehydrated;if(J!==null)return nE(l,J)}var ue=p.children,Oe=p.fallback;if(w){var je=KC(l,ue,Oe,h),Le=l.child;return Le.memoizedState=im(h),l.memoizedState=nm,je}else return sm(l,ue)}else{var nt=o.memoizedState;if(nt!==null){var st=nt.dehydrated;if(st!==null)return rE(o,l,Q,p,st,nt,h)}if(w){var pt=p.fallback,Ut=p.children,en=eE(o,l,Ut,pt,h),Gt=l.child,Cn=o.child.memoizedState;return Gt.memoizedState=Cn===null?im(h):YC(Cn,h),Gt.childLanes=GC(o,h),l.memoizedState=nm,en}else{var kn=p.children,Ye=JC(o,l,kn,h);return l.memoizedState=null,Ye}}}function sm(o,l,h){var p=o.mode,v={mode:"visible",children:l},w=am(v,p);return w.return=o,o.child=w,w}function KC(o,l,h,p){var v=o.mode,w=o.child,Q={mode:"hidden",children:l},U,J;return(v&wn)===tn&&w!==null?(U=w,U.childLanes=Tt,U.pendingProps=Q,o.mode&Mn&&(U.actualDuration=0,U.actualStartTime=-1,U.selfBaseDuration=0,U.treeBaseDuration=0),J=ea(h,v,p,null)):(U=am(Q,v),J=ea(h,v,p,null)),U.return=o,J.return=o,U.sibling=J,o.child=U,J}function am(o,l,h){return n0(o,l,Tt,null)}function nb(o,l){return Ba(o,l)}function JC(o,l,h,p){var v=o.child,w=v.sibling,Q=nb(v,{mode:"visible",children:h});if((l.mode&wn)===tn&&(Q.lanes=p),Q.return=l,Q.sibling=null,w!==null){var U=l.deletions;U===null?(l.deletions=[w],l.flags|=pa):U.push(w)}return l.child=Q,Q}function eE(o,l,h,p,v){var w=l.mode,Q=o.child,U=Q.sibling,J={mode:"hidden",children:h},ue;if((w&wn)===tn&&l.child!==Q){var Oe=l.child;ue=Oe,ue.childLanes=Tt,ue.pendingProps=J,l.mode&Mn&&(ue.actualDuration=0,ue.actualStartTime=-1,ue.selfBaseDuration=Q.selfBaseDuration,ue.treeBaseDuration=Q.treeBaseDuration),l.deletions=null}else ue=nb(Q,J),ue.subtreeFlags=Q.subtreeFlags&fs;var je;return U!==null?je=Ba(U,p):(je=ea(p,w,v,null),je.flags|=tr),je.return=l,ue.return=l,ue.sibling=je,l.child=ue,je}function ph(o,l,h,p){p!==null&&Fd(p),Co(l,o.child,null,h);var v=l.pendingProps,w=v.children,Q=sm(l,w);return Q.flags|=tr,l.memoizedState=null,Q}function tE(o,l,h,p,v){var w=l.mode,Q={mode:"visible",children:h},U=am(Q,w),J=ea(p,w,v,null);return J.flags|=tr,U.return=l,J.return=l,U.sibling=J,l.child=U,(l.mode&wn)!==tn&&Co(l,o.child,null,v),J}function nE(o,l,h){return(o.mode&wn)===tn?(u("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),o.lanes=fn):kd(l)?o.lanes=ba:o.lanes=Gr,null}function rE(o,l,h,p,v,w,Q){if(h)if(l.flags&cs){l.flags&=~cs;var Ye=zp(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return ph(o,l,Q,Ye)}else{if(l.memoizedState!==null)return l.child=o.child,l.flags|=_n,null;var mt=p.children,He=p.fallback,At=tE(o,l,mt,He,Q),Wt=l.child;return Wt.memoizedState=im(Q),l.memoizedState=nm,At}else{if(XT(),(l.mode&wn)===tn)return ph(o,l,Q,null);if(kd(v)){var U,J,ue;{var Oe=oT(v);U=Oe.digest,J=Oe.message,ue=Oe.stack}var je;J?je=new Error(J):je=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var Le=zp(je,U,ue);return ph(o,l,Q,Le)}var nt=Kr(Q,o.childLanes);if(Pi||nt){var st=Th();if(st!==null){var pt=d1(st,Q);if(pt!==pr&&pt!==w.retryLane){w.retryLane=pt;var Ut=Xn;Zr(o,pt),ur(st,o,pt,Ut)}}Em();var en=zp(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return ph(o,l,Q,en)}else if(Tv(v)){l.flags|=_n,l.child=o.child;var Gt=PP.bind(null,o);return lT(v,Gt),null}else{ZT(l,v,w.treeContext);var Cn=p.children,kn=sm(l,Cn);return kn.flags|=us,kn}}}function rb(o,l,h){o.lanes=bn(o.lanes,l);var p=o.alternate;p!==null&&(p.lanes=bn(p.lanes,l)),Yd(o.return,l,h)}function iE(o,l,h){for(var p=l;p!==null;){if(p.tag===L){var v=p.memoizedState;v!==null&&rb(p,h,o)}else if(p.tag===H)rb(p,h,o);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)return;for(;p.sibling===null;){if(p.return===null||p.return===o)return;p=p.return}p.sibling.return=p.return,p=p.sibling}}function sE(o){for(var l=o,h=null;l!==null;){var p=l.alternate;p!==null&&qu(p)===null&&(h=l),l=l.sibling}return h}function aE(o){if(o!==void 0&&o!=="forwards"&&o!=="backwards"&&o!=="together"&&!Kp[o])if(Kp[o]=!0,typeof o=="string")switch(o.toLowerCase()){case"together":case"forwards":case"backwards":{u('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',o,o.toLowerCase());break}case"forward":case"backward":{u('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',o,o.toLowerCase());break}default:u('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',o);break}else u('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',o)}function oE(o,l){o!==void 0&&!dh[o]&&(o!=="collapsed"&&o!=="hidden"?(dh[o]=!0,u('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',o)):l!=="forwards"&&l!=="backwards"&&(dh[o]=!0,u('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',o)))}function ib(o,l){{var h=_t(o),p=!h&&typeof Hn(o)=="function";if(h||p){var v=h?"array":"iterable";return u("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",v,l,v),!1}}return!0}function lE(o,l){if((l==="forwards"||l==="backwards")&&o!==void 0&&o!==null&&o!==!1)if(_t(o)){for(var h=0;h<o.length;h++)if(!ib(o[h],h))return}else{var p=Hn(o);if(typeof p=="function"){var v=p.call(o);if(v)for(var w=v.next(),Q=0;!w.done;w=v.next()){if(!ib(w.value,Q))return;Q++}}else u('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',l)}}function om(o,l,h,p,v){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=h,w.tailMode=v)}function sb(o,l,h){var p=l.pendingProps,v=p.revealOrder,w=p.tail,Q=p.children;aE(v),oE(w,v),lE(Q,v),jr(o,l,Q,h);var U=Ti.current,J=ip(U,Hl);if(J)U=sp(U,Hl),l.flags|=_n;else{var ue=o!==null&&(o.flags&_n)!==sn;ue&&iE(l,l.child,h),U=Ro(U)}if(qs(l,U),(l.mode&wn)===tn)l.memoizedState=null;else switch(v){case"forwards":{var Oe=sE(l.child),je;Oe===null?(je=l.child,l.child=null):(je=Oe.sibling,Oe.sibling=null),om(l,!1,je,Oe,w);break}case"backwards":{var Le=null,nt=l.child;for(l.child=null;nt!==null;){var st=nt.alternate;if(st!==null&&qu(st)===null){l.child=nt;break}var pt=nt.sibling;nt.sibling=Le,Le=nt,nt=pt}om(l,!0,Le,null,w);break}case"together":{om(l,!1,null,null,void 0);break}default:l.memoizedState=null}return l.child}function cE(o,l,h){tp(l,l.stateNode.containerInfo);var p=l.pendingProps;return o===null?l.child=Co(l,null,p,h):jr(o,l,p,h),l.child}var ab=!1;function uE(o,l,h){var p=l.type,v=p._context,w=l.pendingProps,Q=l.memoizedProps,U=w.value;{"value"in w||ab||(ab=!0,u("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var J=l.type.propTypes;J&&xi(J,w,"prop","Context.Provider")}if(Kv(l,v,U),Q!==null){var ue=Q.value;if(ti(ue,U)){if(Q.children===w.children&&!ku())return xs(o,l,h)}else aC(l,v,h)}var Oe=w.children;return jr(o,l,Oe,h),l.child}var ob=!1;function hE(o,l,h){var p=l.type;p._context===void 0?p!==p.Consumer&&(ob||(ob=!0,u("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):p=p._context;var v=l.pendingProps,w=v.children;typeof w!="function"&&u("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Po(l,h);var Q=nr(p);sl(l);var U;return sc.current=l,$r(!0),U=w(Q),$r(!1),ao(),l.flags|=ro,jr(o,l,U,h),l.child}function lc(){Pi=!0}function mh(o,l){(l.mode&wn)===tn&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=tr)}function xs(o,l,h){return o!==null&&(l.dependencies=o.dependencies),Ly(),bc(l.lanes),Kr(h,l.childLanes)?(iC(o,l),l.child):null}function fE(o,l,h){{var p=l.return;if(p===null)throw new Error("Cannot swap the root fiber.");if(o.alternate=null,l.alternate=null,h.index=l.index,h.sibling=l.sibling,h.return=l.return,h.ref=l.ref,l===p.child)p.child=h;else{var v=p.child;if(v===null)throw new Error("Expected parent to have a child.");for(;v.sibling!==l;)if(v=v.sibling,v===null)throw new Error("Expected to find the previous sibling.");v.sibling=h}var w=p.deletions;return w===null?(p.deletions=[o],p.flags|=pa):w.push(o),h.flags|=tr,h}}function lm(o,l){var h=o.lanes;return!!Kr(h,l)}function dE(o,l,h){switch(l.tag){case x:Jy(l),l.stateNode,To();break;case E:ay(l);break;case O:{var p=l.type;Ui(p)&&Tu(l);break}case T:tp(l,l.stateNode.containerInfo);break;case X:{var v=l.memoizedProps.value,w=l.type._context;Kv(l,w,v);break}case G:{var Q=Kr(h,l.childLanes);Q&&(l.flags|=Pn);{var U=l.stateNode;U.effectDuration=0,U.passiveEffectDuration=0}}break;case L:{var J=l.memoizedState;if(J!==null){if(J.dehydrated!==null)return qs(l,Ro(Ti.current)),l.flags|=_n,null;var ue=l.child,Oe=ue.childLanes;if(Kr(h,Oe))return tb(o,l,h);qs(l,Ro(Ti.current));var je=xs(o,l,h);return je!==null?je.sibling:null}else qs(l,Ro(Ti.current));break}case H:{var Le=(o.flags&_n)!==sn,nt=Kr(h,l.childLanes);if(Le){if(nt)return sb(o,l,h);l.flags|=_n}var st=l.memoizedState;if(st!==null&&(st.rendering=null,st.tail=null,st.lastEffect=null),qs(l,Ti.current),nt)break;return null}case me:case se:return l.lanes=Tt,Hy(o,l,h)}return xs(o,l,h)}function lb(o,l,h){if(l._debugNeedsRemount&&o!==null)return fE(o,l,jm(l.type,l.key,l.pendingProps,l._debugOwner||null,l.mode,l.lanes));if(o!==null){var p=o.memoizedProps,v=l.pendingProps;if(p!==v||ku()||l.type!==o.type)Pi=!0;else{var w=lm(o,h);if(!w&&(l.flags&_n)===sn)return Pi=!1,dE(o,l,h);(o.flags&ff)!==sn?Pi=!0:Pi=!1}}else if(Pi=!1,vr()&&jT(l)){var Q=l.index,U=FT();Lv(l,U,Q)}switch(l.lanes=Tt,l.tag){case g:return WC(o,l,l.type,h);case ne:{var J=l.elementType;return qC(o,l,J,h)}case d:{var ue=l.type,Oe=l.pendingProps,je=l.elementType===ue?Oe:Ei(ue,Oe);return Jp(o,l,ue,je,h)}case O:{var Le=l.type,nt=l.pendingProps,st=l.elementType===Le?nt:Ei(Le,nt);return Ky(o,l,Le,st,h)}case x:return UC(o,l,h);case E:return XC(o,l,h);case R:return zC(o,l);case L:return tb(o,l,h);case T:return cE(o,l,h);case Y:{var pt=l.type,Ut=l.pendingProps,en=l.elementType===pt?Ut:Ei(pt,Ut);return Zy(o,l,pt,en,h)}case M:return VC(o,l,h);case $:return IC(o,l,h);case G:return BC(o,l,h);case X:return uE(o,l,h);case V:return hE(o,l,h);case I:{var Gt=l.type,Cn=l.pendingProps,kn=Ei(Gt,Cn);if(l.type!==l.elementType){var Ye=Gt.propTypes;Ye&&xi(Ye,kn,"prop",yn(Gt))}return kn=Ei(Gt.type,kn),Wy(o,l,Gt,kn,h)}case ee:return Yy(o,l,l.type,l.pendingProps,h);case z:{var mt=l.type,He=l.pendingProps,At=l.elementType===mt?He:Ei(mt,He);return ZC(o,l,mt,At,h)}case H:return sb(o,l,h);case fe:break;case me:return Hy(o,l,h)}throw new Error("Unknown unit of work tag ("+l.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Lo(o){o.flags|=Pn}function cb(o){o.flags|=_s,o.flags|=df}var ub,cm,hb,fb;ub=function(o,l,h,p){for(var v=l.child;v!==null;){if(v.tag===E||v.tag===R)$w(o,v.stateNode);else if(v.tag!==T){if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===l)return;for(;v.sibling===null;){if(v.return===null||v.return===l)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},cm=function(o,l){},hb=function(o,l,h,p,v){var w=o.memoizedProps;if(w!==p){var Q=l.stateNode,U=np(),J=Nw(Q,h,w,p,v,U);l.updateQueue=J,J&&Lo(l)}},fb=function(o,l,h,p){h!==p&&Lo(l)};function cc(o,l){if(!vr())switch(o.tailMode){case"hidden":{for(var h=o.tail,p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?o.tail=null:p.sibling=null;break}case"collapsed":{for(var v=o.tail,w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?!l&&o.tail!==null?o.tail.sibling=null:o.tail=null:w.sibling=null;break}}}function br(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=Tt,p=sn;if(l){if((o.mode&Mn)!==tn){for(var J=o.selfBaseDuration,ue=o.child;ue!==null;)h=bn(h,bn(ue.lanes,ue.childLanes)),p|=ue.subtreeFlags&fs,p|=ue.flags&fs,J+=ue.treeBaseDuration,ue=ue.sibling;o.treeBaseDuration=J}else for(var Oe=o.child;Oe!==null;)h=bn(h,bn(Oe.lanes,Oe.childLanes)),p|=Oe.subtreeFlags&fs,p|=Oe.flags&fs,Oe.return=o,Oe=Oe.sibling;o.subtreeFlags|=p}else{if((o.mode&Mn)!==tn){for(var v=o.actualDuration,w=o.selfBaseDuration,Q=o.child;Q!==null;)h=bn(h,bn(Q.lanes,Q.childLanes)),p|=Q.subtreeFlags,p|=Q.flags,v+=Q.actualDuration,w+=Q.treeBaseDuration,Q=Q.sibling;o.actualDuration=v,o.treeBaseDuration=w}else for(var U=o.child;U!==null;)h=bn(h,bn(U.lanes,U.childLanes)),p|=U.subtreeFlags,p|=U.flags,U.return=o,U=U.sibling;o.subtreeFlags|=p}return o.childLanes=h,l}function pE(o,l,h){if(KT()&&(l.mode&wn)!==tn&&(l.flags&_n)===sn)return Uv(l),To(),l.flags|=cs|rl|Nr,!1;var p=Ru(l);if(h!==null&&h.dehydrated!==null)if(o===null){if(!p)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(HT(l),br(l),(l.mode&Mn)!==tn){var v=h!==null;if(v){var w=l.child;w!==null&&(l.treeBaseDuration-=w.treeBaseDuration)}}return!1}else{if(To(),(l.flags&_n)===sn&&(l.memoizedState=null),l.flags|=Pn,br(l),(l.mode&Mn)!==tn){var Q=h!==null;if(Q){var U=l.child;U!==null&&(l.treeBaseDuration-=U.treeBaseDuration)}}return!1}else return Xv(),!0}function db(o,l,h){var p=l.pendingProps;switch(Md(l),l.tag){case g:case ne:case ee:case d:case Y:case M:case $:case G:case V:case I:return br(l),null;case O:{var v=l.type;return Ui(v)&&wu(l),br(l),null}case x:{var w=l.stateNode;if(Ao(l),Rd(l),op(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),o===null||o.child===null){var Q=Ru(l);if(Q)Lo(l);else if(o!==null){var U=o.memoizedState;(!U.isDehydrated||(l.flags&cs)!==sn)&&(l.flags|=ma,Xv())}}return cm(o,l),br(l),null}case E:{rp(l);var J=sy(),ue=l.type;if(o!==null&&l.stateNode!=null)hb(o,l,ue,p,J),o.ref!==l.ref&&cb(l);else{if(!p){if(l.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return br(l),null}var Oe=np(),je=Ru(l);if(je)WT(l,J,Oe)&&Lo(l);else{var Le=Mw(ue,p,J,Oe,l);ub(Le,l,!1,!1),l.stateNode=Le,Lw(Le,ue,p,J)&&Lo(l)}l.ref!==null&&cb(l)}return br(l),null}case R:{var nt=p;if(o&&l.stateNode!=null){var st=o.memoizedProps;fb(o,l,st,nt)}else{if(typeof nt!="string"&&l.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var pt=sy(),Ut=np(),en=Ru(l);en?YT(l)&&Lo(l):l.stateNode=jw(nt,pt,Ut,l)}return br(l),null}case L:{Qo(l);var Gt=l.memoizedState;if(o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){var Cn=pE(o,l,Gt);if(!Cn)return l.flags&Nr?l:null}if((l.flags&_n)!==sn)return l.lanes=h,(l.mode&Mn)!==tn&&_p(l),l;var kn=Gt!==null,Ye=o!==null&&o.memoizedState!==null;if(kn!==Ye&&kn){var mt=l.child;if(mt.flags|=ga,(l.mode&wn)!==tn){var He=o===null&&(l.memoizedProps.unstable_avoidThisFallback!==!0||!ct);He||ip(Ti.current,ly)?mP():Em()}}var At=l.updateQueue;if(At!==null&&(l.flags|=Pn),br(l),(l.mode&Mn)!==tn&&kn){var Wt=l.child;Wt!==null&&(l.treeBaseDuration-=Wt.treeBaseDuration)}return null}case T:return Ao(l),cm(o,l),o===null&&QT(l.stateNode.containerInfo),br(l),null;case X:var Xt=l.type._context;return Wd(Xt,l),br(l),null;case z:{var cn=l.type;return Ui(cn)&&wu(l),br(l),null}case H:{Qo(l);var pn=l.memoizedState;if(pn===null)return br(l),null;var Ln=(l.flags&_n)!==sn,Rn=pn.rendering;if(Rn===null)if(Ln)cc(pn,!1);else{var Gn=OP()&&(o===null||(o.flags&_n)===sn);if(!Gn)for(var Qn=l.child;Qn!==null;){var Yn=qu(Qn);if(Yn!==null){Ln=!0,l.flags|=_n,cc(pn,!1);var Dr=Yn.updateQueue;return Dr!==null&&(l.updateQueue=Dr,l.flags|=Pn),l.subtreeFlags=sn,sC(l,h),qs(l,sp(Ti.current,Hl)),l.child}Qn=Qn.sibling}pn.tail!==null&&fr()>Mb()&&(l.flags|=_n,Ln=!0,cc(pn,!1),l.lanes=fO)}else{if(!Ln){var Tr=qu(Rn);if(Tr!==null){l.flags|=_n,Ln=!0;var ii=Tr.updateQueue;if(ii!==null&&(l.updateQueue=ii,l.flags|=Pn),cc(pn,!0),pn.tail===null&&pn.tailMode==="hidden"&&!Rn.alternate&&!vr())return br(l),null}else fr()*2-pn.renderingStartTime>Mb()&&h!==Gr&&(l.flags|=_n,Ln=!0,cc(pn,!1),l.lanes=fO)}if(pn.isBackwards)Rn.sibling=l.child,l.child=Rn;else{var Ir=pn.last;Ir!==null?Ir.sibling=Rn:l.child=Rn,pn.last=Rn}}if(pn.tail!==null){var Br=pn.tail;pn.rendering=Br,pn.tail=Br.sibling,pn.renderingStartTime=fr(),Br.sibling=null;var Mr=Ti.current;return Ln?Mr=sp(Mr,Hl):Mr=Ro(Mr),qs(l,Mr),Br}return br(l),null}case fe:break;case me:case se:{Cm(l);var Es=l.memoizedState,Xo=Es!==null;if(o!==null){var Tc=o.memoizedState,Gi=Tc!==null;Gi!==Xo&&!Ke&&(l.flags|=ga)}return!Xo||(l.mode&wn)===tn?br(l):Kr(Hi,Gr)&&(br(l),l.subtreeFlags&(tr|Pn)&&(l.flags|=ga)),null}case Se:return null;case Ae:return null}throw new Error("Unknown unit of work tag ("+l.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function mE(o,l,h){switch(Md(l),l.tag){case O:{var p=l.type;Ui(p)&&wu(l);var v=l.flags;return v&Nr?(l.flags=v&~Nr|_n,(l.mode&Mn)!==tn&&_p(l),l):null}case x:{l.stateNode,Ao(l),Rd(l),op();var w=l.flags;return(w&Nr)!==sn&&(w&_n)===sn?(l.flags=w&~Nr|_n,l):null}case E:return rp(l),null;case L:{Qo(l);var Q=l.memoizedState;if(Q!==null&&Q.dehydrated!==null){if(l.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");To()}var U=l.flags;return U&Nr?(l.flags=U&~Nr|_n,(l.mode&Mn)!==tn&&_p(l),l):null}case H:return Qo(l),null;case T:return Ao(l),null;case X:var J=l.type._context;return Wd(J,l),null;case me:case se:return Cm(l),null;case Se:return null;default:return null}}function pb(o,l,h){switch(Md(l),l.tag){case O:{var p=l.type.childContextTypes;p!=null&&wu(l);break}case x:{l.stateNode,Ao(l),Rd(l),op();break}case E:{rp(l);break}case T:Ao(l);break;case L:Qo(l);break;case H:Qo(l);break;case X:var v=l.type._context;Wd(v,l);break;case me:case se:Cm(l);break}}var mb=null;mb=new Set;var gh=!1,Sr=!1,gE=typeof WeakSet=="function"?WeakSet:Set,Yt=null,No=null,jo=null;function OE(o){cf(null,function(){throw o}),uf()}var vE=function(o,l){if(l.props=o.memoizedProps,l.state=o.memoizedState,o.mode&Mn)try{Wi(),l.componentWillUnmount()}finally{Zi(o)}else l.componentWillUnmount()};function gb(o,l){try{Ys(ir,o)}catch(h){Un(o,l,h)}}function um(o,l,h){try{vE(o,h)}catch(p){Un(o,l,p)}}function yE(o,l,h){try{h.componentDidMount()}catch(p){Un(o,l,p)}}function Ob(o,l){try{yb(o)}catch(h){Un(o,l,h)}}function Fo(o,l){var h=o.ref;if(h!==null)if(typeof h=="function"){var p;try{if(j&&W&&o.mode&Mn)try{Wi(),p=h(null)}finally{Zi(o)}else p=h(null)}catch(v){Un(o,l,v)}typeof p=="function"&&u("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",un(o))}else h.current=null}function Oh(o,l,h){try{h()}catch(p){Un(o,l,p)}}var vb=!1;function bE(o,l){_w(o.containerInfo),Yt=l,SE();var h=vb;return vb=!1,h}function SE(){for(;Yt!==null;){var o=Yt,l=o.child;(o.subtreeFlags&mf)!==sn&&l!==null?(l.return=o,Yt=l):xE()}}function xE(){for(;Yt!==null;){var o=Yt;Bn(o);try{kE(o)}catch(h){Un(o,o.return,h)}In();var l=o.sibling;if(l!==null){l.return=o.return,Yt=l;return}Yt=o.return}}function kE(o){var l=o.alternate,h=o.flags;if((h&ma)!==sn){switch(Bn(o),o.tag){case d:case Y:case ee:break;case O:{if(l!==null){var p=l.memoizedProps,v=l.memoizedState,w=o.stateNode;o.type===o.elementType&&!Na&&(w.props!==o.memoizedProps&&u("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",un(o)||"instance"),w.state!==o.memoizedState&&u("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",un(o)||"instance"));var Q=w.getSnapshotBeforeUpdate(o.elementType===o.type?p:Ei(o.type,p),v);{var U=mb;Q===void 0&&!U.has(o.type)&&(U.add(o.type),u("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",un(o)))}w.__reactInternalSnapshotBeforeUpdate=Q}break}case x:{{var J=o.stateNode;rT(J.containerInfo)}break}case E:case R:case T:case z:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}In()}}function Ai(o,l,h){var p=l.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var w=v.next,Q=w;do{if((Q.tag&o)===o){var U=Q.destroy;Q.destroy=void 0,U!==void 0&&((o&yr)!==Wr?jx(l):(o&ir)!==Wr&&oO(l),(o&Xi)!==Wr&&xc(!0),Oh(l,h,U),(o&Xi)!==Wr&&xc(!1),(o&yr)!==Wr?Fx():(o&ir)!==Wr&&lO())}Q=Q.next}while(Q!==w)}}function Ys(o,l){var h=l.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var v=p.next,w=v;do{if((w.tag&o)===o){(o&yr)!==Wr?Lx(l):(o&ir)!==Wr&&Vx(l);var Q=w.create;(o&Xi)!==Wr&&xc(!0),w.destroy=Q(),(o&Xi)!==Wr&&xc(!1),(o&yr)!==Wr?Nx():(o&ir)!==Wr&&Ix();{var U=w.destroy;if(U!==void 0&&typeof U!="function"){var J=void 0;(w.tag&ir)!==sn?J="useLayoutEffect":(w.tag&Xi)!==sn?J="useInsertionEffect":J="useEffect";var ue=void 0;U===null?ue=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof U.then=="function"?ue=`

It looks like you wrote `+J+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+J+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:ue=" You returned: "+U,u("%s must not return anything besides a function, which is used for clean-up.%s",J,ue)}}}w=w.next}while(w!==v)}}function wE(o,l){if((l.flags&Pn)!==sn)switch(l.tag){case G:{var h=l.stateNode.passiveEffectDuration,p=l.memoizedProps,v=p.id,w=p.onPostCommit,Q=My(),U=l.alternate===null?"mount":"update";Dy()&&(U="nested-update"),typeof w=="function"&&w(v,U,h,Q);var J=l.return;e:for(;J!==null;){switch(J.tag){case x:var ue=J.stateNode;ue.passiveEffectDuration+=h;break e;case G:var Oe=J.stateNode;Oe.passiveEffectDuration+=h;break e}J=J.return}break}}}function TE(o,l,h,p){if((h.flags&il)!==sn)switch(h.tag){case d:case Y:case ee:{if(!Sr)if(h.mode&Mn)try{Wi(),Ys(ir|rr,h)}finally{Zi(h)}else Ys(ir|rr,h);break}case O:{var v=h.stateNode;if(h.flags&Pn&&!Sr)if(l===null)if(h.type===h.elementType&&!Na&&(v.props!==h.memoizedProps&&u("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",un(h)||"instance"),v.state!==h.memoizedState&&u("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",un(h)||"instance")),h.mode&Mn)try{Wi(),v.componentDidMount()}finally{Zi(h)}else v.componentDidMount();else{var w=h.elementType===h.type?l.memoizedProps:Ei(h.type,l.memoizedProps),Q=l.memoizedState;if(h.type===h.elementType&&!Na&&(v.props!==h.memoizedProps&&u("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",un(h)||"instance"),v.state!==h.memoizedState&&u("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",un(h)||"instance")),h.mode&Mn)try{Wi(),v.componentDidUpdate(w,Q,v.__reactInternalSnapshotBeforeUpdate)}finally{Zi(h)}else v.componentDidUpdate(w,Q,v.__reactInternalSnapshotBeforeUpdate)}var U=h.updateQueue;U!==null&&(h.type===h.elementType&&!Na&&(v.props!==h.memoizedProps&&u("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",un(h)||"instance"),v.state!==h.memoizedState&&u("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",un(h)||"instance")),iy(h,U,v));break}case x:{var J=h.updateQueue;if(J!==null){var ue=null;if(h.child!==null)switch(h.child.tag){case E:ue=h.child.stateNode;break;case O:ue=h.child.stateNode;break}iy(h,J,ue)}break}case E:{var Oe=h.stateNode;if(l===null&&h.flags&Pn){var je=h.type,Le=h.memoizedProps;Uw(Oe,je,Le)}break}case R:break;case T:break;case G:{{var nt=h.memoizedProps,st=nt.onCommit,pt=nt.onRender,Ut=h.stateNode.effectDuration,en=My(),Gt=l===null?"mount":"update";Dy()&&(Gt="nested-update"),typeof pt=="function"&&pt(h.memoizedProps.id,Gt,h.actualDuration,h.treeBaseDuration,h.actualStartTime,en);{typeof st=="function"&&st(h.memoizedProps.id,Gt,Ut,en),xP(h);var Cn=h.return;e:for(;Cn!==null;){switch(Cn.tag){case x:var kn=Cn.stateNode;kn.effectDuration+=Ut;break e;case G:var Ye=Cn.stateNode;Ye.effectDuration+=Ut;break e}Cn=Cn.return}}}break}case L:{DE(o,h);break}case H:case z:case fe:case me:case se:case Ae:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Sr||h.flags&_s&&yb(h)}function CE(o){switch(o.tag){case d:case Y:case ee:{if(o.mode&Mn)try{Wi(),gb(o,o.return)}finally{Zi(o)}else gb(o,o.return);break}case O:{var l=o.stateNode;typeof l.componentDidMount=="function"&&yE(o,o.return,l),Ob(o,o.return);break}case E:{Ob(o,o.return);break}}}function EE(o,l){for(var h=null,p=o;;){if(p.tag===E){if(h===null){h=p;try{var v=p.stateNode;l?Jw(v):tT(p.stateNode,p.memoizedProps)}catch(Q){Un(o,o.return,Q)}}}else if(p.tag===R){if(h===null)try{var w=p.stateNode;l?eT(w):nT(w,p.memoizedProps)}catch(Q){Un(o,o.return,Q)}}else if(!((p.tag===me||p.tag===se)&&p.memoizedState!==null&&p!==o)){if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===o)return;for(;p.sibling===null;){if(p.return===null||p.return===o)return;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}function yb(o){var l=o.ref;if(l!==null){var h=o.stateNode,p;switch(o.tag){case E:p=h;break;default:p=h}if(typeof l=="function"){var v;if(o.mode&Mn)try{Wi(),v=l(p)}finally{Zi(o)}else v=l(p);typeof v=="function"&&u("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",un(o))}else l.hasOwnProperty("current")||u("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",un(o)),l.current=p}}function PE(o){var l=o.alternate;l!==null&&(l.return=null),o.return=null}function bb(o){var l=o.alternate;l!==null&&(o.alternate=null,bb(l));{if(o.child=null,o.deletions=null,o.sibling=null,o.tag===E){var h=o.stateNode;h!==null&&MT(h)}o.stateNode=null,o._debugOwner=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}}function AE(o){for(var l=o.return;l!==null;){if(Sb(l))return l;l=l.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function Sb(o){return o.tag===E||o.tag===x||o.tag===T}function xb(o){var l=o;e:for(;;){for(;l.sibling===null;){if(l.return===null||Sb(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==E&&l.tag!==R&&l.tag!==ae;){if(l.flags&tr||l.child===null||l.tag===T)continue e;l.child.return=l,l=l.child}if(!(l.flags&tr))return l.stateNode}}function RE(o){var l=AE(o);switch(l.tag){case E:{var h=l.stateNode;l.flags&nl&&(wv(h),l.flags&=~nl);var p=xb(o);fm(o,p,h);break}case x:case T:{var v=l.stateNode.containerInfo,w=xb(o);hm(o,w,v);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function hm(o,l,h){var p=o.tag,v=p===E||p===R;if(v){var w=o.stateNode;l?Yw(h,w,l):Zw(h,w)}else if(p!==T){var Q=o.child;if(Q!==null){hm(Q,l,h);for(var U=Q.sibling;U!==null;)hm(U,l,h),U=U.sibling}}}function fm(o,l,h){var p=o.tag,v=p===E||p===R;if(v){var w=o.stateNode;l?Ww(h,w,l):qw(h,w)}else if(p!==T){var Q=o.child;if(Q!==null){fm(Q,l,h);for(var U=Q.sibling;U!==null;)fm(U,l,h),U=U.sibling}}}var xr=null,Ri=!1;function QE(o,l,h){{var p=l;e:for(;p!==null;){switch(p.tag){case E:{xr=p.stateNode,Ri=!1;break e}case x:{xr=p.stateNode.containerInfo,Ri=!0;break e}case T:{xr=p.stateNode.containerInfo,Ri=!0;break e}}p=p.return}if(xr===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");kb(o,l,h),xr=null,Ri=!1}PE(h)}function Hs(o,l,h){for(var p=h.child;p!==null;)kb(o,l,p),p=p.sibling}function kb(o,l,h){switch(_x(h),h.tag){case E:Sr||Fo(h,l);case R:{{var p=xr,v=Ri;xr=null,Hs(o,l,h),xr=p,Ri=v,xr!==null&&(Ri?Gw(xr,h.stateNode):Hw(xr,h.stateNode))}return}case ae:{xr!==null&&(Ri?Kw(xr,h.stateNode):xd(xr,h.stateNode));return}case T:{{var w=xr,Q=Ri;xr=h.stateNode.containerInfo,Ri=!0,Hs(o,l,h),xr=w,Ri=Q}return}case d:case Y:case I:case ee:{if(!Sr){var U=h.updateQueue;if(U!==null){var J=U.lastEffect;if(J!==null){var ue=J.next,Oe=ue;do{var je=Oe,Le=je.destroy,nt=je.tag;Le!==void 0&&((nt&Xi)!==Wr?Oh(h,l,Le):(nt&ir)!==Wr&&(oO(h),h.mode&Mn?(Wi(),Oh(h,l,Le),Zi(h)):Oh(h,l,Le),lO())),Oe=Oe.next}while(Oe!==ue)}}}Hs(o,l,h);return}case O:{if(!Sr){Fo(h,l);var st=h.stateNode;typeof st.componentWillUnmount=="function"&&um(h,l,st)}Hs(o,l,h);return}case fe:{Hs(o,l,h);return}case me:{if(h.mode&wn){var pt=Sr;Sr=pt||h.memoizedState!==null,Hs(o,l,h),Sr=pt}else Hs(o,l,h);break}default:{Hs(o,l,h);return}}}function _E(o){o.memoizedState}function DE(o,l){var h=l.memoizedState;if(h===null){var p=l.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var w=v.dehydrated;w!==null&&OT(w)}}}}function wb(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new gE),l.forEach(function(p){var v=AP.bind(null,o,p);if(!h.has(p)){if(h.add(p),bi)if(No!==null&&jo!==null)Sc(jo,No);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");p.then(v,v)}})}}function ME(o,l,h){No=h,jo=o,Bn(l),Tb(l,o),Bn(l),No=null,jo=null}function Qi(o,l,h){var p=l.deletions;if(p!==null)for(var v=0;v<p.length;v++){var w=p[v];try{QE(o,l,w)}catch(J){Un(w,l,J)}}var Q=Wa();if(l.subtreeFlags&gf)for(var U=l.child;U!==null;)Bn(U),Tb(U,o),U=U.sibling;Bn(Q)}function Tb(o,l,h){var p=o.alternate,v=o.flags;switch(o.tag){case d:case Y:case I:case ee:{if(Qi(l,o),Yi(o),v&Pn){try{Ai(Xi|rr,o,o.return),Ys(Xi|rr,o)}catch(cn){Un(o,o.return,cn)}if(o.mode&Mn){try{Wi(),Ai(ir|rr,o,o.return)}catch(cn){Un(o,o.return,cn)}Zi(o)}else try{Ai(ir|rr,o,o.return)}catch(cn){Un(o,o.return,cn)}}return}case O:{Qi(l,o),Yi(o),v&_s&&p!==null&&Fo(p,p.return);return}case E:{Qi(l,o),Yi(o),v&_s&&p!==null&&Fo(p,p.return);{if(o.flags&nl){var w=o.stateNode;try{wv(w)}catch(cn){Un(o,o.return,cn)}}if(v&Pn){var Q=o.stateNode;if(Q!=null){var U=o.memoizedProps,J=p!==null?p.memoizedProps:U,ue=o.type,Oe=o.updateQueue;if(o.updateQueue=null,Oe!==null)try{Xw(Q,Oe,ue,J,U,o)}catch(cn){Un(o,o.return,cn)}}}}return}case R:{if(Qi(l,o),Yi(o),v&Pn){if(o.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var je=o.stateNode,Le=o.memoizedProps,nt=p!==null?p.memoizedProps:Le;try{zw(je,nt,Le)}catch(cn){Un(o,o.return,cn)}}return}case x:{if(Qi(l,o),Yi(o),v&Pn&&p!==null){var st=p.memoizedState;if(st.isDehydrated)try{gT(l.containerInfo)}catch(cn){Un(o,o.return,cn)}}return}case T:{Qi(l,o),Yi(o);return}case L:{Qi(l,o),Yi(o);var pt=o.child;if(pt.flags&ga){var Ut=pt.stateNode,en=pt.memoizedState,Gt=en!==null;if(Ut.isHidden=Gt,Gt){var Cn=pt.alternate!==null&&pt.alternate.memoizedState!==null;Cn||pP()}}if(v&Pn){try{_E(o)}catch(cn){Un(o,o.return,cn)}wb(o)}return}case me:{var kn=p!==null&&p.memoizedState!==null;if(o.mode&wn){var Ye=Sr;Sr=Ye||kn,Qi(l,o),Sr=Ye}else Qi(l,o);if(Yi(o),v&ga){var mt=o.stateNode,He=o.memoizedState,At=He!==null,Wt=o;if(mt.isHidden=At,At&&!kn&&(Wt.mode&wn)!==tn){Yt=Wt;for(var Xt=Wt.child;Xt!==null;)Yt=Xt,LE(Xt),Xt=Xt.sibling}EE(Wt,At)}return}case H:{Qi(l,o),Yi(o),v&Pn&&wb(o);return}case fe:return;default:{Qi(l,o),Yi(o);return}}}function Yi(o){var l=o.flags;if(l&tr){try{RE(o)}catch(h){Un(o,o.return,h)}o.flags&=~tr}l&us&&(o.flags&=~us)}function $E(o,l,h){No=h,jo=l,Yt=o,Cb(o,l,h),No=null,jo=null}function Cb(o,l,h){for(var p=(o.mode&wn)!==tn;Yt!==null;){var v=Yt,w=v.child;if(v.tag===me&&p){var Q=v.memoizedState!==null,U=Q||gh;if(U){dm(o,l,h);continue}else{var J=v.alternate,ue=J!==null&&J.memoizedState!==null,Oe=ue||Sr,je=gh,Le=Sr;gh=U,Sr=Oe,Sr&&!Le&&(Yt=v,NE(v));for(var nt=w;nt!==null;)Yt=nt,Cb(nt,l,h),nt=nt.sibling;Yt=v,gh=je,Sr=Le,dm(o,l,h);continue}}(v.subtreeFlags&il)!==sn&&w!==null?(w.return=v,Yt=w):dm(o,l,h)}}function dm(o,l,h){for(;Yt!==null;){var p=Yt;if((p.flags&il)!==sn){var v=p.alternate;Bn(p);try{TE(l,v,p,h)}catch(Q){Un(p,p.return,Q)}In()}if(p===o){Yt=null;return}var w=p.sibling;if(w!==null){w.return=p.return,Yt=w;return}Yt=p.return}}function LE(o){for(;Yt!==null;){var l=Yt,h=l.child;switch(l.tag){case d:case Y:case I:case ee:{if(l.mode&Mn)try{Wi(),Ai(ir,l,l.return)}finally{Zi(l)}else Ai(ir,l,l.return);break}case O:{Fo(l,l.return);var p=l.stateNode;typeof p.componentWillUnmount=="function"&&um(l,l.return,p);break}case E:{Fo(l,l.return);break}case me:{var v=l.memoizedState!==null;if(v){Eb(o);continue}break}}h!==null?(h.return=l,Yt=h):Eb(o)}}function Eb(o){for(;Yt!==null;){var l=Yt;if(l===o){Yt=null;return}var h=l.sibling;if(h!==null){h.return=l.return,Yt=h;return}Yt=l.return}}function NE(o){for(;Yt!==null;){var l=Yt,h=l.child;if(l.tag===me){var p=l.memoizedState!==null;if(p){Pb(o);continue}}h!==null?(h.return=l,Yt=h):Pb(o)}}function Pb(o){for(;Yt!==null;){var l=Yt;Bn(l);try{CE(l)}catch(p){Un(l,l.return,p)}if(In(),l===o){Yt=null;return}var h=l.sibling;if(h!==null){h.return=l.return,Yt=h;return}Yt=l.return}}function jE(o,l,h,p){Yt=l,FE(l,o,h,p)}function FE(o,l,h,p){for(;Yt!==null;){var v=Yt,w=v.child;(v.subtreeFlags&io)!==sn&&w!==null?(w.return=v,Yt=w):VE(o,l,h,p)}}function VE(o,l,h,p){for(;Yt!==null;){var v=Yt;if((v.flags&yi)!==sn){Bn(v);try{IE(l,v,h,p)}catch(Q){Un(v,v.return,Q)}In()}if(v===o){Yt=null;return}var w=v.sibling;if(w!==null){w.return=v.return,Yt=w;return}Yt=v.return}}function IE(o,l,h,p){switch(l.tag){case d:case Y:case ee:{if(l.mode&Mn){Qp();try{Ys(yr|rr,l)}finally{Rp(l)}}else Ys(yr|rr,l);break}}}function BE(o){Yt=o,UE()}function UE(){for(;Yt!==null;){var o=Yt,l=o.child;if((Yt.flags&pa)!==sn){var h=o.deletions;if(h!==null){for(var p=0;p<h.length;p++){var v=h[p];Yt=v,qE(v,o)}{var w=o.alternate;if(w!==null){var Q=w.child;if(Q!==null){w.child=null;do{var U=Q.sibling;Q.sibling=null,Q=U}while(Q!==null)}}}Yt=o}}(o.subtreeFlags&io)!==sn&&l!==null?(l.return=o,Yt=l):XE()}}function XE(){for(;Yt!==null;){var o=Yt;(o.flags&yi)!==sn&&(Bn(o),zE(o),In());var l=o.sibling;if(l!==null){l.return=o.return,Yt=l;return}Yt=o.return}}function zE(o){switch(o.tag){case d:case Y:case ee:{o.mode&Mn?(Qp(),Ai(yr|rr,o,o.return),Rp(o)):Ai(yr|rr,o,o.return);break}}}function qE(o,l){for(;Yt!==null;){var h=Yt;Bn(h),WE(h,l),In();var p=h.child;p!==null?(p.return=h,Yt=p):ZE(o)}}function ZE(o){for(;Yt!==null;){var l=Yt,h=l.sibling,p=l.return;if(bb(l),l===o){Yt=null;return}if(h!==null){h.return=p,Yt=h;return}Yt=p}}function WE(o,l){switch(o.tag){case d:case Y:case ee:{o.mode&Mn?(Qp(),Ai(yr,o,l),Rp(o)):Ai(yr,o,l);break}}}function YE(o){switch(o.tag){case d:case Y:case ee:{try{Ys(ir|rr,o)}catch(h){Un(o,o.return,h)}break}case O:{var l=o.stateNode;try{l.componentDidMount()}catch(h){Un(o,o.return,h)}break}}}function HE(o){switch(o.tag){case d:case Y:case ee:{try{Ys(yr|rr,o)}catch(l){Un(o,o.return,l)}break}}}function GE(o){switch(o.tag){case d:case Y:case ee:{try{Ai(ir|rr,o,o.return)}catch(h){Un(o,o.return,h)}break}case O:{var l=o.stateNode;typeof l.componentWillUnmount=="function"&&um(o,o.return,l);break}}}function KE(o){switch(o.tag){case d:case Y:case ee:try{Ai(yr|rr,o,o.return)}catch(l){Un(o,o.return,l)}}}if(typeof Symbol=="function"&&Symbol.for){var uc=Symbol.for;uc("selector.component"),uc("selector.has_pseudo_class"),uc("selector.role"),uc("selector.test_id"),uc("selector.text")}var JE=[];function eP(){JE.forEach(function(o){return o()})}var tP=n.ReactCurrentActQueue;function nP(o){{var l=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,h=typeof jest<"u";return h&&l!==!1}}function Ab(){{var o=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!o&&tP.current!==null&&u("The current testing environment is not configured to support act(...)"),o}}var rP=Math.ceil,pm=n.ReactCurrentDispatcher,mm=n.ReactCurrentOwner,kr=n.ReactCurrentBatchConfig,_i=n.ReactCurrentActQueue,or=0,Rb=1,wr=2,fi=4,ks=0,hc=1,ja=2,vh=3,fc=4,Qb=5,gm=6,Tn=or,Fr=null,Zn=null,lr=Tt,Hi=Tt,Om=Vs(Tt),cr=ks,dc=null,yh=Tt,pc=Tt,bh=Tt,mc=null,Yr=null,vm=0,_b=500,Db=1/0,iP=500,ws=null;function gc(){Db=fr()+iP}function Mb(){return Db}var Sh=!1,ym=null,Vo=null,Fa=!1,Gs=null,Oc=Tt,bm=[],Sm=null,sP=50,vc=0,xm=null,km=!1,xh=!1,aP=50,Io=0,kh=null,yc=Xn,wh=Tt,$b=!1;function Th(){return Fr}function Vr(){return(Tn&(wr|fi))!==or?fr():(yc!==Xn||(yc=fr()),yc)}function Ks(o){var l=o.mode;if((l&wn)===tn)return fn;if((Tn&wr)!==or&&lr!==Tt)return hl(lr);var h=tC()!==eC;if(h){if(kr.transition!==null){var p=kr.transition;p._updatedFibers||(p._updatedFibers=new Set),p._updatedFibers.add(o)}return wh===pr&&(wh=gO()),wh}var v=Si();if(v!==pr)return v;var w=Fw();return w}function oP(o){var l=o.mode;return(l&wn)===tn?fn:c1()}function ur(o,l,h,p){QP(),$b&&u("useInsertionEffect must not schedule updates."),km&&(xh=!0),fl(o,h,p),(Tn&wr)!==Tt&&o===Fr?MP(l):(bi&&yO(o,l,h),$P(l),o===Fr&&((Tn&wr)===or&&(pc=bn(pc,h)),cr===fc&&Js(o,lr)),Hr(o,p),h===fn&&Tn===or&&(l.mode&wn)===tn&&!_i.isBatchingLegacy&&(gc(),$v()))}function lP(o,l,h){var p=o.current;p.lanes=l,fl(o,l,h),Hr(o,h)}function cP(o){return(Tn&wr)!==or}function Hr(o,l){var h=o.callbackNode;r1(o,l);var p=qc(o,o===Fr?lr:Tt);if(p===Tt){h!==null&&Gb(h),o.callbackNode=null,o.callbackPriority=pr;return}var v=xa(p),w=o.callbackPriority;if(w===v&&!(_i.current!==null&&h!==Rm)){h==null&&w!==fn&&u("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}h!=null&&Gb(h);var Q;if(v===fn)o.tag===Is?(_i.isBatchingLegacy!==null&&(_i.didScheduleLegacyUpdate=!0),NT(jb.bind(null,o))):Mv(jb.bind(null,o)),_i.current!==null?_i.current.push(Bs):Iw(function(){(Tn&(wr|fi))===or&&Bs()}),Q=null;else{var U;switch(xO(p)){case Jr:U=Bc;break;case ps:U=Of;break;case ms:U=ya;break;case Yc:U=vf;break;default:U=ya;break}Q=Qm(U,Lb.bind(null,o))}o.callbackPriority=v,o.callbackNode=Q}function Lb(o,l){if(EC(),yc=Xn,wh=Tt,(Tn&(wr|fi))!==or)throw new Error("Should not already be working.");var h=o.callbackNode,p=Cs();if(p&&o.callbackNode!==h)return null;var v=qc(o,o===Fr?lr:Tt);if(v===Tt)return null;var w=!Zc(o,v)&&!l1(o,v)&&!l,Q=w?yP(o,v):Eh(o,v);if(Q!==ks){if(Q===ja){var U=Vf(o);U!==Tt&&(v=U,Q=wm(o,U))}if(Q===hc){var J=dc;throw Va(o,Tt),Js(o,v),Hr(o,fr()),J}if(Q===gm)Js(o,v);else{var ue=!Zc(o,v),Oe=o.current.alternate;if(ue&&!hP(Oe)){if(Q=Eh(o,v),Q===ja){var je=Vf(o);je!==Tt&&(v=je,Q=wm(o,je))}if(Q===hc){var Le=dc;throw Va(o,Tt),Js(o,v),Hr(o,fr()),Le}}o.finishedWork=Oe,o.finishedLanes=v,uP(o,Q,v)}}return Hr(o,fr()),o.callbackNode===h?Lb.bind(null,o):null}function wm(o,l){var h=mc;if(Hc(o)){var p=Va(o,l);p.flags|=cs,RT(o.containerInfo)}var v=Eh(o,l);if(v!==ja){var w=Yr;Yr=h,w!==null&&Nb(w)}return v}function Nb(o){Yr===null?Yr=o:Yr.push.apply(Yr,o)}function uP(o,l,h){switch(l){case ks:case hc:throw new Error("Root did not complete. This is a bug in React.");case ja:{Ia(o,Yr,ws);break}case vh:{if(Js(o,h),pO(h)&&!Kb()){var p=vm+_b-fr();if(p>10){var v=qc(o,Tt);if(v!==Tt)break;var w=o.suspendedLanes;if(!uo(w,h)){Vr(),vO(o,w);break}o.timeoutHandle=bd(Ia.bind(null,o,Yr,ws),p);break}}Ia(o,Yr,ws);break}case fc:{if(Js(o,h),o1(h))break;if(!Kb()){var Q=t1(o,h),U=Q,J=fr()-U,ue=RP(J)-J;if(ue>10){o.timeoutHandle=bd(Ia.bind(null,o,Yr,ws),ue);break}}Ia(o,Yr,ws);break}case Qb:{Ia(o,Yr,ws);break}default:throw new Error("Unknown root exit status.")}}function hP(o){for(var l=o;;){if(l.flags&Vc){var h=l.updateQueue;if(h!==null){var p=h.stores;if(p!==null)for(var v=0;v<p.length;v++){var w=p[v],Q=w.getSnapshot,U=w.value;try{if(!ti(Q(),U))return!1}catch{return!1}}}}var J=l.child;if(l.subtreeFlags&Vc&&J!==null){J.return=l,l=J;continue}if(l===o)return!0;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}return!0}function Js(o,l){l=Wc(l,bh),l=Wc(l,pc),h1(o,l)}function jb(o){if(PC(),(Tn&(wr|fi))!==or)throw new Error("Should not already be working.");Cs();var l=qc(o,Tt);if(!Kr(l,fn))return Hr(o,fr()),null;var h=Eh(o,l);if(o.tag!==Is&&h===ja){var p=Vf(o);p!==Tt&&(l=p,h=wm(o,p))}if(h===hc){var v=dc;throw Va(o,Tt),Js(o,l),Hr(o,fr()),v}if(h===gm)throw new Error("Root did not complete. This is a bug in React.");var w=o.current.alternate;return o.finishedWork=w,o.finishedLanes=l,Ia(o,Yr,ws),Hr(o,fr()),null}function fP(o,l){l!==Tt&&(Xf(o,bn(l,fn)),Hr(o,fr()),(Tn&(wr|fi))===or&&(gc(),Bs()))}function Tm(o,l){var h=Tn;Tn|=Rb;try{return o(l)}finally{Tn=h,Tn===or&&!_i.isBatchingLegacy&&(gc(),$v())}}function dP(o,l,h,p,v){var w=Si(),Q=kr.transition;try{return kr.transition=null,mr(Jr),o(l,h,p,v)}finally{mr(w),kr.transition=Q,Tn===or&&gc()}}function Ts(o){Gs!==null&&Gs.tag===Is&&(Tn&(wr|fi))===or&&Cs();var l=Tn;Tn|=Rb;var h=kr.transition,p=Si();try{return kr.transition=null,mr(Jr),o?o():void 0}finally{mr(p),kr.transition=h,Tn=l,(Tn&(wr|fi))===or&&Bs()}}function Fb(){return(Tn&(wr|fi))!==or}function Ch(o,l){Qr(Om,Hi,o),Hi=bn(Hi,l)}function Cm(o){Hi=Om.current,Rr(Om,o)}function Va(o,l){o.finishedWork=null,o.finishedLanes=Tt;var h=o.timeoutHandle;if(h!==Sd&&(o.timeoutHandle=Sd,Vw(h)),Zn!==null)for(var p=Zn.return;p!==null;){var v=p.alternate;pb(v,p),p=p.return}Fr=o;var w=Ba(o.current,null);return Zn=w,lr=Hi=l,cr=ks,dc=null,yh=Tt,pc=Tt,bh=Tt,mc=null,Yr=null,lC(),wi.discardPendingWarnings(),w}function Vb(o,l){do{var h=Zn;try{if(Lu(),uy(),In(),mm.current=null,h===null||h.return===null){cr=hc,dc=l,Zn=null;return}if(j&&h.mode&Mn&&hh(h,!0),F)if(ao(),l!==null&&typeof l=="object"&&typeof l.then=="function"){var p=l;Ux(h,p,lr)}else Bx(h,l,lr);NC(o,h.return,h,l,lr),Xb(h)}catch(v){l=v,Zn===h&&h!==null?(h=h.return,Zn=h):h=Zn;continue}return}while(!0)}function Ib(){var o=pm.current;return pm.current=ah,o===null?ah:o}function Bb(o){pm.current=o}function pP(){vm=fr()}function bc(o){yh=bn(o,yh)}function mP(){cr===ks&&(cr=vh)}function Em(){(cr===ks||cr===vh||cr===ja)&&(cr=fc),Fr!==null&&(If(yh)||If(pc))&&Js(Fr,lr)}function gP(o){cr!==fc&&(cr=ja),mc===null?mc=[o]:mc.push(o)}function OP(){return cr===ks}function Eh(o,l){var h=Tn;Tn|=wr;var p=Ib();if(Fr!==o||lr!==l){if(bi){var v=o.memoizedUpdaters;v.size>0&&(Sc(o,lr),v.clear()),bO(o,l)}ws=SO(),Va(o,l)}cO(l);do try{vP();break}catch(w){Vb(o,w)}while(!0);if(Lu(),Tn=h,Bb(p),Zn!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return uO(),Fr=null,lr=Tt,cr}function vP(){for(;Zn!==null;)Ub(Zn)}function yP(o,l){var h=Tn;Tn|=wr;var p=Ib();if(Fr!==o||lr!==l){if(bi){var v=o.memoizedUpdaters;v.size>0&&(Sc(o,lr),v.clear()),bO(o,l)}ws=SO(),gc(),Va(o,l)}cO(l);do try{bP();break}catch(w){Vb(o,w)}while(!0);return Lu(),Bb(p),Tn=h,Zn!==null?(Wx(),ks):(uO(),Fr=null,lr=Tt,cr)}function bP(){for(;Zn!==null&&!xx();)Ub(Zn)}function Ub(o){var l=o.alternate;Bn(o);var h;(o.mode&Mn)!==tn?(Ap(o),h=Pm(l,o,Hi),hh(o,!0)):h=Pm(l,o,Hi),In(),o.memoizedProps=o.pendingProps,h===null?Xb(o):Zn=h,mm.current=null}function Xb(o){var l=o;do{var h=l.alternate,p=l.return;if((l.flags&rl)===sn){Bn(l);var v=void 0;if((l.mode&Mn)===tn?v=db(h,l,Hi):(Ap(l),v=db(h,l,Hi),hh(l,!1)),In(),v!==null){Zn=v;return}}else{var w=mE(h,l);if(w!==null){w.flags&=gx,Zn=w;return}if((l.mode&Mn)!==tn){hh(l,!1);for(var Q=l.actualDuration,U=l.child;U!==null;)Q+=U.actualDuration,U=U.sibling;l.actualDuration=Q}if(p!==null)p.flags|=rl,p.subtreeFlags=sn,p.deletions=null;else{cr=gm,Zn=null;return}}var J=l.sibling;if(J!==null){Zn=J;return}l=p,Zn=l}while(l!==null);cr===ks&&(cr=Qb)}function Ia(o,l,h){var p=Si(),v=kr.transition;try{kr.transition=null,mr(Jr),SP(o,l,h,p)}finally{kr.transition=v,mr(p)}return null}function SP(o,l,h,p){do Cs();while(Gs!==null);if(_P(),(Tn&(wr|fi))!==or)throw new Error("Should not already be working.");var v=o.finishedWork,w=o.finishedLanes;if($x(w),v===null)return aO(),null;if(w===Tt&&u("root.finishedLanes should not be empty during a commit. This is a bug in React."),o.finishedWork=null,o.finishedLanes=Tt,v===o.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");o.callbackNode=null,o.callbackPriority=pr;var Q=bn(v.lanes,v.childLanes);f1(o,Q),o===Fr&&(Fr=null,Zn=null,lr=Tt),((v.subtreeFlags&io)!==sn||(v.flags&io)!==sn)&&(Fa||(Fa=!0,Sm=h,Qm(ya,function(){return Cs(),null})));var U=(v.subtreeFlags&(mf|gf|il|io))!==sn,J=(v.flags&(mf|gf|il|io))!==sn;if(U||J){var ue=kr.transition;kr.transition=null;var Oe=Si();mr(Jr);var je=Tn;Tn|=fi,mm.current=null,bE(o,v),$y(),ME(o,v,w),Dw(o.containerInfo),o.current=v,Xx(w),$E(v,o,w),zx(),kx(),Tn=je,mr(Oe),kr.transition=ue}else o.current=v,$y();var Le=Fa;if(Fa?(Fa=!1,Gs=o,Oc=w):(Io=0,kh=null),Q=o.pendingLanes,Q===Tt&&(Vo=null),Le||Wb(o.current,!1),Rx(v.stateNode,p),bi&&o.memoizedUpdaters.clear(),eP(),Hr(o,fr()),l!==null)for(var nt=o.onRecoverableError,st=0;st<l.length;st++){var pt=l[st],Ut=pt.stack,en=pt.digest;nt(pt.value,{componentStack:Ut,digest:en})}if(Sh){Sh=!1;var Gt=ym;throw ym=null,Gt}return Kr(Oc,fn)&&o.tag!==Is&&Cs(),Q=o.pendingLanes,Kr(Q,fn)?(CC(),o===xm?vc++:(vc=0,xm=o)):vc=0,Bs(),aO(),null}function Cs(){if(Gs!==null){var o=xO(Oc),l=g1(ms,o),h=kr.transition,p=Si();try{return kr.transition=null,mr(l),kP()}finally{mr(p),kr.transition=h}}return!1}function xP(o){bm.push(o),Fa||(Fa=!0,Qm(ya,function(){return Cs(),null}))}function kP(){if(Gs===null)return!1;var o=Sm;Sm=null;var l=Gs,h=Oc;if(Gs=null,Oc=Tt,(Tn&(wr|fi))!==or)throw new Error("Cannot flush passive effects while already rendering.");km=!0,xh=!1,qx(h);var p=Tn;Tn|=fi,BE(l.current),jE(l,l.current,h,o);{var v=bm;bm=[];for(var w=0;w<v.length;w++){var Q=v[w];wE(l,Q)}}Zx(),Wb(l.current,!0),Tn=p,Bs(),xh?l===kh?Io++:(Io=0,kh=l):Io=0,km=!1,xh=!1,Qx(l);{var U=l.current.stateNode;U.effectDuration=0,U.passiveEffectDuration=0}return!0}function zb(o){return Vo!==null&&Vo.has(o)}function wP(o){Vo===null?Vo=new Set([o]):Vo.add(o)}function TP(o){Sh||(Sh=!0,ym=o)}var CP=TP;function qb(o,l,h){var p=La(h,l),v=Uy(o,p,fn),w=Xs(o,v,fn),Q=Vr();w!==null&&(fl(w,fn,Q),Hr(w,Q))}function Un(o,l,h){if(OE(h),xc(!1),o.tag===x){qb(o,o,h);return}var p=null;for(p=l;p!==null;){if(p.tag===x){qb(p,o,h);return}else if(p.tag===O){var v=p.type,w=p.stateNode;if(typeof v.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&!zb(w)){var Q=La(h,o),U=Zp(p,Q,fn),J=Xs(p,U,fn),ue=Vr();J!==null&&(fl(J,fn,ue),Hr(J,ue));return}}p=p.return}u(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,h)}function EP(o,l,h){var p=o.pingCache;p!==null&&p.delete(l);var v=Vr();vO(o,h),LP(o),Fr===o&&uo(lr,h)&&(cr===fc||cr===vh&&pO(lr)&&fr()-vm<_b?Va(o,Tt):bh=bn(bh,h)),Hr(o,v)}function Zb(o,l){l===pr&&(l=oP(o));var h=Vr(),p=Zr(o,l);p!==null&&(fl(p,l,h),Hr(p,h))}function PP(o){var l=o.memoizedState,h=pr;l!==null&&(h=l.retryLane),Zb(o,h)}function AP(o,l){var h=pr,p;switch(o.tag){case L:p=o.stateNode;var v=o.memoizedState;v!==null&&(h=v.retryLane);break;case H:p=o.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}p!==null&&p.delete(l),Zb(o,h)}function RP(o){return o<120?120:o<480?480:o<1080?1080:o<1920?1920:o<3e3?3e3:o<4320?4320:rP(o/1960)*1960}function QP(){if(vc>sP)throw vc=0,xm=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Io>aP&&(Io=0,kh=null,u("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function _P(){wi.flushLegacyContextWarning(),wi.flushPendingUnsafeLifecycleWarnings()}function Wb(o,l){Bn(o),Ph(o,hs,GE),l&&Ph(o,Ic,KE),Ph(o,hs,YE),l&&Ph(o,Ic,HE),In()}function Ph(o,l,h){for(var p=o,v=null;p!==null;){var w=p.subtreeFlags&l;p!==v&&p.child!==null&&w!==sn?p=p.child:((p.flags&l)!==sn&&h(p),p.sibling!==null?p=p.sibling:p=v=p.return)}}var Ah=null;function Yb(o){{if((Tn&wr)!==or||!(o.mode&wn))return;var l=o.tag;if(l!==g&&l!==x&&l!==O&&l!==d&&l!==Y&&l!==I&&l!==ee)return;var h=un(o)||"ReactComponent";if(Ah!==null){if(Ah.has(h))return;Ah.add(h)}else Ah=new Set([h]);var p=hr;try{Bn(o),u("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{p?Bn(o):In()}}}var Pm;{var DP=null;Pm=function(o,l,h){var p=r0(DP,l);try{return lb(o,l,h)}catch(w){if(zT()||w!==null&&typeof w=="object"&&typeof w.then=="function")throw w;if(Lu(),uy(),pb(o,l),r0(l,p),l.mode&Mn&&Ap(l),cf(null,lb,null,o,l,h),fx()){var v=uf();typeof v=="object"&&v!==null&&v._suppressLogging&&typeof w=="object"&&w!==null&&!w._suppressLogging&&(w._suppressLogging=!0)}throw w}}}var Hb=!1,Am;Am=new Set;function MP(o){if(Li&&!kC())switch(o.tag){case d:case Y:case ee:{var l=Zn&&un(Zn)||"Unknown",h=l;if(!Am.has(h)){Am.add(h);var p=un(o)||"Unknown";u("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",p,l,l)}break}case O:{Hb||(u("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),Hb=!0);break}}}function Sc(o,l){if(bi){var h=o.memoizedUpdaters;h.forEach(function(p){yO(o,p,l)})}}var Rm={};function Qm(o,l){{var h=_i.current;return h!==null?(h.push(l),Rm):sO(o,l)}}function Gb(o){if(o!==Rm)return Sx(o)}function Kb(){return _i.current!==null}function $P(o){{if(o.mode&wn){if(!Ab())return}else if(!nP()||Tn!==or||o.tag!==d&&o.tag!==Y&&o.tag!==ee)return;if(_i.current===null){var l=hr;try{Bn(o),u(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,un(o))}finally{l?Bn(o):In()}}}}function LP(o){o.tag!==Is&&Ab()&&_i.current===null&&u(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function xc(o){$b=o}var di=null,Bo=null,NP=function(o){di=o};function Uo(o){{if(di===null)return o;var l=di(o);return l===void 0?o:l.current}}function _m(o){return Uo(o)}function Dm(o){{if(di===null)return o;var l=di(o);if(l===void 0){if(o!=null&&typeof o.render=="function"){var h=Uo(o.render);if(o.render!==h){var p={$$typeof:rt,render:h};return o.displayName!==void 0&&(p.displayName=o.displayName),p}}return o}return l.current}}function Jb(o,l){{if(di===null)return!1;var h=o.elementType,p=l.type,v=!1,w=typeof p=="object"&&p!==null?p.$$typeof:null;switch(o.tag){case O:{typeof p=="function"&&(v=!0);break}case d:{(typeof p=="function"||w===dt)&&(v=!0);break}case Y:{(w===rt||w===dt)&&(v=!0);break}case I:case ee:{(w===xt||w===dt)&&(v=!0);break}default:return!1}if(v){var Q=di(h);if(Q!==void 0&&Q===di(p))return!0}return!1}}function e0(o){{if(di===null||typeof WeakSet!="function")return;Bo===null&&(Bo=new WeakSet),Bo.add(o)}}var jP=function(o,l){{if(di===null)return;var h=l.staleFamilies,p=l.updatedFamilies;Cs(),Ts(function(){Mm(o.current,p,h)})}},FP=function(o,l){{if(o.context!==ni)return;Cs(),Ts(function(){kc(l,o,null,null)})}};function Mm(o,l,h){{var p=o.alternate,v=o.child,w=o.sibling,Q=o.tag,U=o.type,J=null;switch(Q){case d:case ee:case O:J=U;break;case Y:J=U.render;break}if(di===null)throw new Error("Expected resolveFamily to be set during hot reload.");var ue=!1,Oe=!1;if(J!==null){var je=di(J);je!==void 0&&(h.has(je)?Oe=!0:l.has(je)&&(Q===O?Oe=!0:ue=!0))}if(Bo!==null&&(Bo.has(o)||p!==null&&Bo.has(p))&&(Oe=!0),Oe&&(o._debugNeedsRemount=!0),Oe||ue){var Le=Zr(o,fn);Le!==null&&ur(Le,o,fn,Xn)}v!==null&&!Oe&&Mm(v,l,h),w!==null&&Mm(w,l,h)}}var VP=function(o,l){{var h=new Set,p=new Set(l.map(function(v){return v.current}));return $m(o.current,p,h),h}};function $m(o,l,h){{var p=o.child,v=o.sibling,w=o.tag,Q=o.type,U=null;switch(w){case d:case ee:case O:U=Q;break;case Y:U=Q.render;break}var J=!1;U!==null&&l.has(U)&&(J=!0),J?IP(o,h):p!==null&&$m(p,l,h),v!==null&&$m(v,l,h)}}function IP(o,l){{var h=BP(o,l);if(h)return;for(var p=o;;){switch(p.tag){case E:l.add(p.stateNode);return;case T:l.add(p.stateNode.containerInfo);return;case x:l.add(p.stateNode.containerInfo);return}if(p.return===null)throw new Error("Expected to reach root first.");p=p.return}}}function BP(o,l){for(var h=o,p=!1;;){if(h.tag===E)p=!0,l.add(h.stateNode);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)return p;for(;h.sibling===null;){if(h.return===null||h.return===o)return p;h=h.return}h.sibling.return=h.return,h=h.sibling}return!1}var Lm;{Lm=!1;try{var t0=Object.preventExtensions({})}catch{Lm=!0}}function UP(o,l,h,p){this.tag=o,this.key=h,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=l,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=p,this.flags=sn,this.subtreeFlags=sn,this.deletions=null,this.lanes=Tt,this.childLanes=Tt,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!Lm&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var ri=function(o,l,h,p){return new UP(o,l,h,p)};function Nm(o){var l=o.prototype;return!!(l&&l.isReactComponent)}function XP(o){return typeof o=="function"&&!Nm(o)&&o.defaultProps===void 0}function zP(o){if(typeof o=="function")return Nm(o)?O:d;if(o!=null){var l=o.$$typeof;if(l===rt)return Y;if(l===xt)return I}return g}function Ba(o,l){var h=o.alternate;h===null?(h=ri(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h._debugSource=o._debugSource,h._debugOwner=o._debugOwner,h._debugHookTypes=o._debugHookTypes,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=sn,h.subtreeFlags=sn,h.deletions=null,h.actualDuration=0,h.actualStartTime=-1),h.flags=o.flags&fs,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue;var p=o.dependencies;switch(h.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.selfBaseDuration=o.selfBaseDuration,h.treeBaseDuration=o.treeBaseDuration,h._debugNeedsRemount=o._debugNeedsRemount,h.tag){case g:case d:case ee:h.type=Uo(o.type);break;case O:h.type=_m(o.type);break;case Y:h.type=Dm(o.type);break}return h}function qP(o,l){o.flags&=fs|tr;var h=o.alternate;if(h===null)o.childLanes=Tt,o.lanes=l,o.child=null,o.subtreeFlags=sn,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null,o.selfBaseDuration=0,o.treeBaseDuration=0;else{o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=sn,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type;var p=h.dependencies;o.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},o.selfBaseDuration=h.selfBaseDuration,o.treeBaseDuration=h.treeBaseDuration}return o}function ZP(o,l,h){var p;return o===Cu?(p=wn,l===!0&&(p|=Wn,p|=Vi)):p=tn,bi&&(p|=Mn),ri(x,null,null,p)}function jm(o,l,h,p,v,w){var Q=g,U=o;if(typeof o=="function")Nm(o)?(Q=O,U=_m(U)):U=Uo(U);else if(typeof o=="string")Q=E;else e:switch(o){case q:return ea(h.children,v,w,l);case he:Q=$,v|=Wn,(v&wn)!==tn&&(v|=Vi);break;case be:return WP(h,v,w,l);case at:return YP(h,v,w,l);case wt:return HP(h,v,w,l);case Jt:return n0(h,v,w,l);case an:case Rt:case vn:case En:case zt:default:{if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ee:Q=X;break e;case Ze:Q=V;break e;case rt:Q=Y,U=Dm(U);break e;case xt:Q=I;break e;case dt:Q=ne,U=null;break e}var J="";{(o===void 0||typeof o=="object"&&o!==null&&Object.keys(o).length===0)&&(J+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ue=p?un(p):null;ue&&(J+=`

Check the render method of \``+ue+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(o==null?o:typeof o)+"."+J))}}var Oe=ri(Q,h,l,v);return Oe.elementType=o,Oe.type=U,Oe.lanes=w,Oe._debugOwner=p,Oe}function Fm(o,l,h){var p=null;p=o._owner;var v=o.type,w=o.key,Q=o.props,U=jm(v,w,Q,p,l,h);return U._debugSource=o._source,U._debugOwner=o._owner,U}function ea(o,l,h,p){var v=ri(M,o,p,l);return v.lanes=h,v}function WP(o,l,h,p){typeof o.id!="string"&&u('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof o.id);var v=ri(G,o,p,l|Mn);return v.elementType=be,v.lanes=h,v.stateNode={effectDuration:0,passiveEffectDuration:0},v}function YP(o,l,h,p){var v=ri(L,o,p,l);return v.elementType=at,v.lanes=h,v}function HP(o,l,h,p){var v=ri(H,o,p,l);return v.elementType=wt,v.lanes=h,v}function n0(o,l,h,p){var v=ri(me,o,p,l);v.elementType=Jt,v.lanes=h;var w={isHidden:!1};return v.stateNode=w,v}function Vm(o,l,h){var p=ri(R,o,null,l);return p.lanes=h,p}function GP(){var o=ri(E,null,null,tn);return o.elementType="DELETED",o}function KP(o){var l=ri(ae,null,null,tn);return l.stateNode=o,l}function Im(o,l,h){var p=o.children!==null?o.children:[],v=ri(T,p,o.key,l);return v.lanes=h,v.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},v}function r0(o,l){return o===null&&(o=ri(g,null,null,tn)),o.tag=l.tag,o.key=l.key,o.elementType=l.elementType,o.type=l.type,o.stateNode=l.stateNode,o.return=l.return,o.child=l.child,o.sibling=l.sibling,o.index=l.index,o.ref=l.ref,o.pendingProps=l.pendingProps,o.memoizedProps=l.memoizedProps,o.updateQueue=l.updateQueue,o.memoizedState=l.memoizedState,o.dependencies=l.dependencies,o.mode=l.mode,o.flags=l.flags,o.subtreeFlags=l.subtreeFlags,o.deletions=l.deletions,o.lanes=l.lanes,o.childLanes=l.childLanes,o.alternate=l.alternate,o.actualDuration=l.actualDuration,o.actualStartTime=l.actualStartTime,o.selfBaseDuration=l.selfBaseDuration,o.treeBaseDuration=l.treeBaseDuration,o._debugSource=l._debugSource,o._debugOwner=l._debugOwner,o._debugNeedsRemount=l._debugNeedsRemount,o._debugHookTypes=l._debugHookTypes,o}function JP(o,l,h,p,v){this.tag=l,this.containerInfo=o,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=Sd,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=pr,this.eventTimes=Uf(Tt),this.expirationTimes=Uf(Xn),this.pendingLanes=Tt,this.suspendedLanes=Tt,this.pingedLanes=Tt,this.expiredLanes=Tt,this.mutableReadLanes=Tt,this.finishedLanes=Tt,this.entangledLanes=Tt,this.entanglements=Uf(Tt),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var w=this.pendingUpdatersLaneMap=[],Q=0;Q<bf;Q++)w.push(new Set)}switch(l){case Cu:this._debugRootType=h?"hydrateRoot()":"createRoot()";break;case Is:this._debugRootType=h?"hydrate()":"render()";break}}function i0(o,l,h,p,v,w,Q,U,J,ue){var Oe=new JP(o,l,h,U,J),je=ZP(l,w);Oe.current=je,je.stateNode=Oe;{var Le={element:p,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null};je.memoizedState=Le}return Jd(je),Oe}var Bm="18.3.1";function eA(o,l,h){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Nt(p),{$$typeof:oe,key:p==null?null:""+p,children:o,containerInfo:l,implementation:h}}var Um,Xm;Um=!1,Xm={};function s0(o){if(!o)return ni;var l=no(o),h=LT(l);if(l.tag===O){var p=l.type;if(Ui(p))return _v(l,p,h)}return h}function tA(o,l){{var h=no(o);if(h===void 0){if(typeof o.render=="function")throw new Error("Unable to find node on an unmounted component.");var p=Object.keys(o).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+p)}var v=nO(h);if(v===null)return null;if(v.mode&Wn){var w=un(h)||"Component";if(!Xm[w]){Xm[w]=!0;var Q=hr;try{Bn(v),h.mode&Wn?u("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",l,l,w):u("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",l,l,w)}finally{Q?Bn(Q):In()}}}return v.stateNode}}function a0(o,l,h,p,v,w,Q,U){var J=!1,ue=null;return i0(o,l,J,ue,h,p,v,w,Q)}function o0(o,l,h,p,v,w,Q,U,J,ue){var Oe=!0,je=i0(h,p,Oe,o,v,w,Q,U,J);je.context=s0(null);var Le=je.current,nt=Vr(),st=Ks(Le),pt=Ss(nt,st);return pt.callback=l??null,Xs(Le,pt,st),lP(je,st,nt),je}function kc(o,l,h,p){Ax(l,o);var v=l.current,w=Vr(),Q=Ks(v);Yx(Q);var U=s0(h);l.context===null?l.context=U:l.pendingContext=U,Li&&hr!==null&&!Um&&(Um=!0,u(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,un(hr)||"Unknown"));var J=Ss(w,Q);J.payload={element:o},p=p===void 0?null:p,p!==null&&(typeof p!="function"&&u("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",p),J.callback=p);var ue=Xs(v,J,Q);return ue!==null&&(ur(ue,v,Q,w),Iu(ue,v,Q)),Q}function Rh(o){var l=o.current;if(!l.child)return null;switch(l.child.tag){case E:return l.child.stateNode;default:return l.child.stateNode}}function nA(o){switch(o.tag){case x:{var l=o.stateNode;if(Hc(l)){var h=i1(l);fP(l,h)}break}case L:{Ts(function(){var v=Zr(o,fn);if(v!==null){var w=Vr();ur(v,o,fn,w)}});var p=fn;zm(o,p);break}}}function l0(o,l){var h=o.memoizedState;h!==null&&h.dehydrated!==null&&(h.retryLane=u1(h.retryLane,l))}function zm(o,l){l0(o,l);var h=o.alternate;h&&l0(h,l)}function rA(o){if(o.tag===L){var l=ll,h=Zr(o,l);if(h!==null){var p=Vr();ur(h,o,l,p)}zm(o,l)}}function iA(o){if(o.tag===L){var l=Ks(o),h=Zr(o,l);if(h!==null){var p=Vr();ur(h,o,l,p)}zm(o,l)}}function c0(o){var l=bx(o);return l===null?null:l.stateNode}var u0=function(o){return null};function sA(o){return u0(o)}var h0=function(o){return!1};function aA(o){return h0(o)}var f0=null,d0=null,p0=null,m0=null,g0=null,O0=null,v0=null,y0=null,b0=null;{var S0=function(o,l,h){var p=l[h],v=_t(o)?o.slice():gn({},o);return h+1===l.length?(_t(v)?v.splice(p,1):delete v[p],v):(v[p]=S0(o[p],l,h+1),v)},x0=function(o,l){return S0(o,l,0)},k0=function(o,l,h,p){var v=l[p],w=_t(o)?o.slice():gn({},o);if(p+1===l.length){var Q=h[p];w[Q]=w[v],_t(w)?w.splice(v,1):delete w[v]}else w[v]=k0(o[v],l,h,p+1);return w},w0=function(o,l,h){if(l.length!==h.length){c("copyWithRename() expects paths of the same length");return}else for(var p=0;p<h.length-1;p++)if(l[p]!==h[p]){c("copyWithRename() expects paths to be the same except for the deepest key");return}return k0(o,l,h,0)},T0=function(o,l,h,p){if(h>=l.length)return p;var v=l[h],w=_t(o)?o.slice():gn({},o);return w[v]=T0(o[v],l,h+1,p),w},C0=function(o,l,h){return T0(o,l,0,h)},qm=function(o,l){for(var h=o.memoizedState;h!==null&&l>0;)h=h.next,l--;return h};f0=function(o,l,h,p){var v=qm(o,l);if(v!==null){var w=C0(v.memoizedState,h,p);v.memoizedState=w,v.baseState=w,o.memoizedProps=gn({},o.memoizedProps);var Q=Zr(o,fn);Q!==null&&ur(Q,o,fn,Xn)}},d0=function(o,l,h){var p=qm(o,l);if(p!==null){var v=x0(p.memoizedState,h);p.memoizedState=v,p.baseState=v,o.memoizedProps=gn({},o.memoizedProps);var w=Zr(o,fn);w!==null&&ur(w,o,fn,Xn)}},p0=function(o,l,h,p){var v=qm(o,l);if(v!==null){var w=w0(v.memoizedState,h,p);v.memoizedState=w,v.baseState=w,o.memoizedProps=gn({},o.memoizedProps);var Q=Zr(o,fn);Q!==null&&ur(Q,o,fn,Xn)}},m0=function(o,l,h){o.pendingProps=C0(o.memoizedProps,l,h),o.alternate&&(o.alternate.pendingProps=o.pendingProps);var p=Zr(o,fn);p!==null&&ur(p,o,fn,Xn)},g0=function(o,l){o.pendingProps=x0(o.memoizedProps,l),o.alternate&&(o.alternate.pendingProps=o.pendingProps);var h=Zr(o,fn);h!==null&&ur(h,o,fn,Xn)},O0=function(o,l,h){o.pendingProps=w0(o.memoizedProps,l,h),o.alternate&&(o.alternate.pendingProps=o.pendingProps);var p=Zr(o,fn);p!==null&&ur(p,o,fn,Xn)},v0=function(o){var l=Zr(o,fn);l!==null&&ur(l,o,fn,Xn)},y0=function(o){u0=o},b0=function(o){h0=o}}function oA(o){var l=nO(o);return l===null?null:l.stateNode}function lA(o){return null}function cA(){return hr}function uA(o){var l=o.findFiberByHostInstance,h=n.ReactCurrentDispatcher;return Px({bundleType:o.bundleType,version:o.version,rendererPackageName:o.rendererPackageName,rendererConfig:o.rendererConfig,overrideHookState:f0,overrideHookStateDeletePath:d0,overrideHookStateRenamePath:p0,overrideProps:m0,overridePropsDeletePath:g0,overridePropsRenamePath:O0,setErrorHandler:y0,setSuspenseHandler:b0,scheduleUpdate:v0,currentDispatcherRef:h,findHostInstanceByFiber:oA,findFiberByHostInstance:l||lA,findHostInstancesForRefresh:VP,scheduleRefresh:jP,scheduleRoot:FP,setRefreshHandler:NP,getCurrentFiber:cA,reconcilerVersion:Bm})}var E0=typeof reportError=="function"?reportError:function(o){console.error(o)};function Zm(o){this._internalRoot=o}Qh.prototype.render=Zm.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?u("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):_h(arguments[1])?u("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&u("You passed a second argument to root.render(...) but it only accepts one argument.");var h=l.containerInfo;if(h.nodeType!==er){var p=c0(l.current);p&&p.parentNode!==h&&u("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}kc(o,l,null,null)},Qh.prototype.unmount=Zm.prototype.unmount=function(){typeof arguments[0]=="function"&&u("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Fb()&&u("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Ts(function(){kc(null,o,null,null)}),Ev(l)}};function hA(o,l){if(!_h(o))throw new Error("createRoot(...): Target container is not a DOM element.");P0(o);var h=!1,p=!1,v="",w=E0;l!=null&&(l.hydrate?c("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof l=="object"&&l!==null&&l.$$typeof===B&&u(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.transitionCallbacks!==void 0&&l.transitionCallbacks);var Q=a0(o,Cu,null,h,p,v,w);yu(Q.current,o);var U=o.nodeType===er?o.parentNode:o;return Al(U),new Zm(Q)}function Qh(o){this._internalRoot=o}function fA(o){o&&E1(o)}Qh.prototype.unstable_scheduleHydration=fA;function dA(o,l,h){if(!_h(o))throw new Error("hydrateRoot(...): Target container is not a DOM element.");P0(o),l===void 0&&u("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var p=h??null,v=h!=null&&h.hydratedSources||null,w=!1,Q=!1,U="",J=E0;h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(U=h.identifierPrefix),h.onRecoverableError!==void 0&&(J=h.onRecoverableError));var ue=o0(l,null,o,Cu,p,w,Q,U,J);if(yu(ue.current,o),Al(o),v)for(var Oe=0;Oe<v.length;Oe++){var je=v[Oe];OC(ue,je)}return new Qh(ue)}function _h(o){return!!(o&&(o.nodeType===zr||o.nodeType===ls||o.nodeType===Gh||!it))}function wc(o){return!!(o&&(o.nodeType===zr||o.nodeType===ls||o.nodeType===Gh||o.nodeType===er&&o.nodeValue===" react-mount-point-unstable "))}function P0(o){o.nodeType===zr&&o.tagName&&o.tagName.toUpperCase()==="BODY"&&u("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),Vl(o)&&(o._reactRootContainer?u("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):u("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var pA=n.ReactCurrentOwner,A0;A0=function(o){if(o._reactRootContainer&&o.nodeType!==er){var l=c0(o._reactRootContainer.current);l&&l.parentNode!==o&&u("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var h=!!o._reactRootContainer,p=Wm(o),v=!!(p&&Fs(p));v&&!h&&u("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),o.nodeType===zr&&o.tagName&&o.tagName.toUpperCase()==="BODY"&&u("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function Wm(o){return o?o.nodeType===ls?o.documentElement:o.firstChild:null}function R0(){}function mA(o,l,h,p,v){if(v){if(typeof p=="function"){var w=p;p=function(){var Le=Rh(Q);w.call(Le)}}var Q=o0(l,p,o,Is,null,!1,!1,"",R0);o._reactRootContainer=Q,yu(Q.current,o);var U=o.nodeType===er?o.parentNode:o;return Al(U),Ts(),Q}else{for(var J;J=o.lastChild;)o.removeChild(J);if(typeof p=="function"){var ue=p;p=function(){var Le=Rh(Oe);ue.call(Le)}}var Oe=a0(o,Is,null,!1,!1,"",R0);o._reactRootContainer=Oe,yu(Oe.current,o);var je=o.nodeType===er?o.parentNode:o;return Al(je),Ts(function(){kc(l,Oe,h,p)}),Oe}}function gA(o,l){o!==null&&typeof o!="function"&&u("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",l,o)}function Dh(o,l,h,p,v){A0(h),gA(v===void 0?null:v,"render");var w=h._reactRootContainer,Q;if(!w)Q=mA(h,l,o,v,p);else{if(Q=w,typeof v=="function"){var U=v;v=function(){var J=Rh(Q);U.call(J)}}kc(l,Q,o,v)}return Rh(Q)}var Q0=!1;function OA(o){{Q0||(Q0=!0,u("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var l=pA.current;if(l!==null&&l.stateNode!==null){var h=l.stateNode._warnedAboutRefsInRender;h||u("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",yn(l.type)||"A component"),l.stateNode._warnedAboutRefsInRender=!0}}return o==null?null:o.nodeType===zr?o:tA(o,"findDOMNode")}function vA(o,l,h){if(u("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!wc(l))throw new Error("Target container is not a DOM element.");{var p=Vl(l)&&l._reactRootContainer===void 0;p&&u("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return Dh(null,o,l,!0,h)}function yA(o,l,h){if(u("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!wc(l))throw new Error("Target container is not a DOM element.");{var p=Vl(l)&&l._reactRootContainer===void 0;p&&u("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return Dh(null,o,l,!1,h)}function bA(o,l,h,p){if(u("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!wc(h))throw new Error("Target container is not a DOM element.");if(o==null||!dx(o))throw new Error("parentComponent must be a valid React Component");return Dh(o,l,h,!1,p)}var _0=!1;function SA(o){if(_0||(_0=!0,u("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!wc(o))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var l=Vl(o)&&o._reactRootContainer===void 0;l&&u("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(o._reactRootContainer){{var h=Wm(o),p=h&&!Fs(h);p&&u("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Ts(function(){Dh(null,null,o,!1,function(){o._reactRootContainer=null,Ev(o)})}),!0}else{{var v=Wm(o),w=!!(v&&Fs(v)),Q=o.nodeType===zr&&wc(o.parentNode)&&!!o.parentNode._reactRootContainer;w&&u("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",Q?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}O1(nA),y1(rA),b1(iA),S1(Si),x1(p1),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&u("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),nx(kw),sx(Tm,dP,Ts);function xA(o,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!_h(l))throw new Error("Target container is not a DOM element.");return eA(o,l,null,h)}function kA(o,l,h,p){return bA(o,l,h,p)}var Ym={usingClientEntryPoint:!1,Events:[Fs,bo,bu,Xg,zg,Tm]};function wA(o,l){return Ym.usingClientEntryPoint||u('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),hA(o,l)}function TA(o,l,h){return Ym.usingClientEntryPoint||u('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),dA(o,l,h)}function CA(o){return Fb()&&u("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Ts(o)}var EA=uA({findFiberByHostInstance:Ca,bundleType:1,version:Bm,rendererPackageName:"react-dom"});if(!EA&&_e&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var D0=window.location.protocol;/^(https?|file):$/.test(D0)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(D0==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}reactDom_development.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ym,reactDom_development.createPortal=xA,reactDom_development.createRoot=wA,reactDom_development.findDOMNode=OA,reactDom_development.flushSync=CA,reactDom_development.hydrate=vA,reactDom_development.hydrateRoot=TA,reactDom_development.render=yA,reactDom_development.unmountComponentAtNode=SA,reactDom_development.unstable_batchedUpdates=Tm,reactDom_development.unstable_renderSubtreeIntoContainer=kA,reactDom_development.version=Bm,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();reactDom.exports=reactDom_development;var reactDomExports=reactDom.exports,m=reactDomExports;{var i$1=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;client.createRoot=function(s,e){i$1.usingClientEntryPoint=!0;try{return m.createRoot(s,e)}finally{i$1.usingClientEntryPoint=!1}},client.hydrateRoot=function(s,e,n){i$1.usingClientEntryPoint=!0;try{return m.hydrateRoot(s,e,n)}finally{i$1.usingClientEntryPoint=!1}}}const ProjectExplorer=({onProjectSelect:s})=>{const[e,n]=reactExports.useState([]),[r,a]=reactExports.useState(!1),[c,u]=reactExports.useState("");reactExports.useEffect(()=>{f()},[]);const f=async()=>{try{const g=await window.electronAPI.projectList();n(g)}catch(g){console.error("Failed to load projects:",g)}},d=async()=>{if(c.trim())try{const g=await window.electronAPI.projectCreate({name:c.trim()});n(x=>[g,...x]),a(!1),u(""),s(g)}catch(g){console.error("Failed to create project:",g)}},O=async()=>{try{const g=await window.electronAPI.dialogShowOpenDialog();if(g.canceled||!g.filePaths||g.filePaths.length===0)return;const x=g.filePaths[0],T=await window.electronAPI.projectOpen({path:x});s(T),await f()}catch(g){console.error("Failed to open project:",g)}};return jsxDevRuntimeExports.jsxDEV("div",{className:"h-screen bg-gray-50 flex items-center justify-center",children:jsxDevRuntimeExports.jsxDEV("div",{className:"max-w-4xl w-full mx-auto p-8",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"text-center mb-12",children:[jsxDevRuntimeExports.jsxDEV("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Offline Overleaf"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:77,columnNumber:11},globalThis),jsxDevRuntimeExports.jsxDEV("p",{className:"text-lg text-gray-600",children:"Your personal LaTeX editor with full offline support"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:78,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:76,columnNumber:9},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[jsxDevRuntimeExports.jsxDEV("div",{onClick:()=>a(!0),className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 hover:bg-gray-100 transition-colors",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"text-3xl text-gray-400 mb-2",children:"+"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:88,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"text-lg font-medium text-gray-700",children:"New Project"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:89,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"text-sm text-gray-500",children:"Create a new LaTeX document"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:90,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:84,columnNumber:11},globalThis),jsxDevRuntimeExports.jsxDEV("div",{onClick:O,className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 hover:bg-gray-100 transition-colors",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"text-3xl text-gray-400 mb-2",children:""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:97,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"text-lg font-medium text-gray-700",children:"Open Project"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:98,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"text-sm text-gray-500",children:"Open an existing project"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:99,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:93,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:83,columnNumber:9},globalThis),e.length>0&&jsxDevRuntimeExports.jsxDEV("div",{children:[jsxDevRuntimeExports.jsxDEV("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Recent Projects"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:105,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(g=>jsxDevRuntimeExports.jsxDEV("div",{onClick:()=>s(g),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow",children:[jsxDevRuntimeExports.jsxDEV("h3",{className:"font-medium text-gray-900 mb-2",children:g.name},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:113,columnNumber:19},globalThis),jsxDevRuntimeExports.jsxDEV("p",{className:"text-sm text-gray-500 mb-1",children:["Main: ",g.mainFile]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:114,columnNumber:19},globalThis),jsxDevRuntimeExports.jsxDEV("p",{className:"text-xs text-gray-400",children:["Updated: ",new Date(g.updatedAt).toLocaleDateString()]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:117,columnNumber:19},globalThis)]},g.id,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:108,columnNumber:17},globalThis))},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:106,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:104,columnNumber:11},globalThis),r&&jsxDevRuntimeExports.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxDevRuntimeExports.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[jsxDevRuntimeExports.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Project"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:130,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"mb-4",children:[jsxDevRuntimeExports.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:133,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("input",{type:"text",value:c,onChange:g=>u(g.target.value),onKeyPress:g=>g.key==="Enter"&&d(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"My LaTeX Document",autoFocus:!0},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:136,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:132,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex justify-end space-x-3",children:[jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>{a(!1),u("")},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:148,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:d,disabled:!c.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-300",children:"Create"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:157,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:147,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:129,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:128,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:75,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ProjectExplorer.tsx",lineNumber:74,columnNumber:5},globalThis)},FileTree=({files:s,projectId:e,onFileSelect:n,onRefresh:r,onFileCreate:a,onFileDelete:c,onFileRename:u})=>{var it;const[f,d]=reactExports.useState(new Set),[O,g]=reactExports.useState({visible:!1,x:0,y:0,node:null}),[x,T]=reactExports.useState(null),[E,R]=reactExports.useState(""),[M,$]=reactExports.useState(null),[V,X]=reactExports.useState(""),Y=reactExports.useRef(null),[G,L]=reactExports.useState(null),[I,ee]=reactExports.useState(null);reactExports.useEffect(()=>{const te=D=>{Y.current&&!Y.current.contains(D.target)&&g({visible:!1,x:0,y:0,node:null})};return O.visible&&document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[O.visible]);const ne=te=>{const D=new Set(f);D.has(te)?D.delete(te):D.add(te),d(D)},z=(te,D,F=!1)=>{te.preventDefault(),te.stopPropagation(),g({visible:!0,x:te.clientX,y:te.clientY,node:D,isRoot:F})},ae=te=>{T(te.path),R(te.name),g({visible:!1,x:0,y:0,node:null})},H=te=>{$({parentPath:te||"",type:"file"}),X(""),g({visible:!1,x:0,y:0,node:null}),te&&d(F=>new Set([...F,te]))},fe=te=>{$({parentPath:te||"",type:"directory"}),X(""),g({visible:!1,x:0,y:0,node:null}),te&&d(F=>new Set([...F,te]))},me=async te=>{if(g({visible:!1,x:0,y:0,node:null}),window.confirm(`Are you sure you want to delete "${te.name}"?`))try{await window.electronAPI.fsDelete({projectId:e,relPath:te.path}),r(),c==null||c(te.path)}catch(D){console.error("Failed to delete file:",D),alert("Failed to delete file: "+D.message)}},se=async()=>{if(!x||!E.trim())return;const te=x,D=te.split("/");D[D.length-1]=E.trim();const F=D.join("/");if(te===F){T(null);return}try{await window.electronAPI.fsRename({projectId:e,oldPath:te,newPath:F}),r(),u==null||u(te,F),T(null)}catch(j){console.error("Failed to rename file:",j),alert("Failed to rename file: "+j.message),T(null)}},Se=async()=>{if(!M||!V.trim())return;const te=V.trim(),D=M.parentPath?`${M.parentPath}/${te}`:te;try{M.type==="file"?await window.electronAPI.fsCreateFile({projectId:e,relPath:D}):await window.electronAPI.fsCreateDir({projectId:e,relPath:D}),r(),a==null||a(D),$(null),X("")}catch(F){console.error(`Failed to create ${M.type}:`,F),alert(`Failed to create ${M.type}: `+F.message),$(null),X("")}},Ae=(te,D)=>{te.dataTransfer.effectAllowed="move",te.dataTransfer.setData("text/plain",D.path),L(D)},Pe=(te,D)=>{te.preventDefault(),te.dataTransfer.dropEffect="move",(D==null?void 0:D.type)==="directory"?ee(D.path):ee("root")},de=()=>{ee(null)},Fe=async(te,D)=>{if(te.preventDefault(),ee(null),!G)return;let F="";if((D==null?void 0:D.type)==="directory"&&(F=D.path),G.path===F||F.startsWith(G.path+"/")){L(null);return}const j=G.name,W=F?`${F}/${j}`:j;if(G.path===W){L(null);return}try{await window.electronAPI.fsRename({projectId:e,oldPath:G.path,newPath:W}),r(),u==null||u(G.path,W)}catch(K){console.error("Failed to move file:",K),alert("Failed to move file: "+K.message)}L(null)},Ke=(te,D=0)=>{const F=f.has(te.path),j=D*16,W=x===te.path,K=I===te.path,le=(G==null?void 0:G.path)===te.path;return jsxDevRuntimeExports.jsxDEV("div",{children:[jsxDevRuntimeExports.jsxDEV("div",{className:`file-tree-item relative group ${te.type==="file","cursor-pointer hover:bg-gray-100"} ${K?"bg-blue-100 border-2 border-blue-300 border-dashed":""} ${le?"opacity-50":""}`,style:{paddingLeft:`${j+8}px`},draggable:!W,onDragStart:pe=>Ae(pe,te),onDragOver:pe=>Pe(pe,te),onDragLeave:de,onDrop:pe=>Fe(pe,te),onClick:()=>{W||(te.type==="directory"?ne(te.path):n(te.path))},onContextMenu:pe=>z(pe,te),children:jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2 py-1",children:[te.type==="directory"&&jsxDevRuntimeExports.jsxDEV("span",{className:"text-gray-500 text-xs w-4 flex justify-center",children:F?"":""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:303,columnNumber:15},globalThis),te.type==="file"&&jsxDevRuntimeExports.jsxDEV("span",{className:"w-4"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:307,columnNumber:38},globalThis),jsxDevRuntimeExports.jsxDEV("span",{className:"text-gray-600 text-xs",children:te.type==="directory"?"":ct(te.name)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:308,columnNumber:13},globalThis),W?jsxDevRuntimeExports.jsxDEV("input",{type:"text",value:E,onChange:pe=>R(pe.target.value),onBlur:se,onKeyDown:pe=>{pe.key==="Enter"?se():pe.key==="Escape"&&T(null)},className:"text-sm bg-white border border-blue-500 rounded px-1 py-0 flex-1 min-w-0",autoFocus:!0},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:313,columnNumber:15},globalThis):jsxDevRuntimeExports.jsxDEV("span",{className:"text-sm text-gray-800 truncate flex-1 min-w-0",children:te.name},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:329,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:301,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:278,columnNumber:9},globalThis),M&&M.parentPath===te.path&&te.type==="directory"&&F&&jsxDevRuntimeExports.jsxDEV("div",{className:"file-tree-item",style:{paddingLeft:`${j+24}px`},children:jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2 py-1",children:[jsxDevRuntimeExports.jsxDEV("span",{className:"w-4"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:341,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("span",{className:"text-gray-600 text-xs",children:M.type==="directory"?"":""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:342,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("input",{type:"text",value:V,onChange:pe=>X(pe.target.value),onBlur:Se,onKeyDown:pe=>{pe.key==="Enter"?Se():pe.key==="Escape"&&($(null),X(""))},className:"text-sm bg-white border border-blue-500 rounded px-1 py-0 flex-1 min-w-0",placeholder:`New ${M.type} name`,autoFocus:!0},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:345,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:340,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:336,columnNumber:11},globalThis),te.type==="directory"&&F&&te.children&&jsxDevRuntimeExports.jsxDEV("div",{children:te.children.map(pe=>Ke(pe,D+1))},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:367,columnNumber:11},globalThis)]},te.path,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:277,columnNumber:7},globalThis)},ct=te=>{var F;switch((F=te.split(".").pop())==null?void 0:F.toLowerCase()){case"tex":return"";case"bib":return"";case"pdf":return"";case"png":case"jpg":case"jpeg":return"";case"cls":case"sty":return"";default:return""}};return jsxDevRuntimeExports.jsxDEV("div",{className:"h-full flex flex-col",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"p-3 border-b border-gray-200 bg-white",children:jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center justify-between",children:[jsxDevRuntimeExports.jsxDEV("h3",{className:"text-sm font-medium text-gray-900",children:"Files"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:400,columnNumber:11},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-1",children:[jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>H(),className:"p-1 rounded hover:bg-gray-100 text-gray-500 hover:text-gray-700",title:"New File",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:408,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:407,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:402,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>fe(),className:"p-1 rounded hover:bg-gray-100 text-gray-500 hover:text-gray-700",title:"New Folder",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:417,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:416,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:411,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:r,className:"p-1 rounded hover:bg-gray-100 text-gray-500 hover:text-gray-700",title:"Refresh",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:426,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:425,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:420,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:401,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:399,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:398,columnNumber:7},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50",onContextMenu:te=>z(te,null,!0),onDragOver:te=>Pe(te),onDrop:te=>Fe(te),children:s.length===0?jsxDevRuntimeExports.jsxDEV("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No files found"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:440,columnNumber:11},globalThis):jsxDevRuntimeExports.jsxDEV("div",{className:"py-2",children:[s.map(te=>Ke(te)),M&&M.parentPath===""&&jsxDevRuntimeExports.jsxDEV("div",{className:"file-tree-item",style:{paddingLeft:"8px"},children:jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2 py-1",children:[jsxDevRuntimeExports.jsxDEV("span",{className:"w-4"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:451,columnNumber:19},globalThis),jsxDevRuntimeExports.jsxDEV("span",{className:"text-gray-600 text-xs",children:M.type==="directory"?"":""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:452,columnNumber:19},globalThis),jsxDevRuntimeExports.jsxDEV("input",{type:"text",value:V,onChange:te=>X(te.target.value),onBlur:Se,onKeyDown:te=>{te.key==="Enter"?Se():te.key==="Escape"&&($(null),X(""))},className:"text-sm bg-white border border-blue-500 rounded px-1 py-0 flex-1 min-w-0",placeholder:`New ${M.type} name`,autoFocus:!0},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:455,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:450,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:449,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:444,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:433,columnNumber:7},globalThis),O.visible&&jsxDevRuntimeExports.jsxDEV("div",{ref:Y,className:"fixed bg-white border border-gray-200 rounded-md shadow-lg z-50 py-1 min-w-40",style:{left:`${O.x}px`,top:`${O.y}px`},children:O.isRoot?jsxDevRuntimeExports.jsxDEV(jsxDevRuntimeExports.Fragment,{children:[jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>H(),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center space-x-2",children:[jsxDevRuntimeExports.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:495,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("span",{children:"New File"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:496,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:491,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>fe(),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center space-x-2",children:[jsxDevRuntimeExports.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:502,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("span",{children:"New Folder"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:503,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:498,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:490,columnNumber:13},globalThis):jsxDevRuntimeExports.jsxDEV(jsxDevRuntimeExports.Fragment,{children:[((it=O.node)==null?void 0:it.type)==="directory"&&jsxDevRuntimeExports.jsxDEV(jsxDevRuntimeExports.Fragment,{children:[jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>{var te;return H((te=O.node)==null?void 0:te.path)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center space-x-2",children:[jsxDevRuntimeExports.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:514,columnNumber:21},globalThis),jsxDevRuntimeExports.jsxDEV("span",{children:"New File"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:515,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:510,columnNumber:19},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>{var te;return fe((te=O.node)==null?void 0:te.path)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center space-x-2",children:[jsxDevRuntimeExports.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:521,columnNumber:21},globalThis),jsxDevRuntimeExports.jsxDEV("span",{children:"New Folder"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:522,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:517,columnNumber:19},globalThis),jsxDevRuntimeExports.jsxDEV("hr",{className:"my-1 border-gray-200"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:524,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:509,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>O.node&&ae(O.node),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center space-x-2",children:[jsxDevRuntimeExports.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:531,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("span",{children:"Rename"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:532,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:527,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>O.node&&me(O.node),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 text-red-600 flex items-center space-x-2",children:[jsxDevRuntimeExports.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:538,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("span",{children:"Delete"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:539,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:534,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:507,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:481,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/FileTree.tsx",lineNumber:397,columnNumber:5},globalThis)};let rangeFrom=[],rangeTo=[];(()=>{let s="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<s.length;e++)(e%2?rangeTo:rangeFrom).push(n=n+s[e])})();function isExtendingChar(s){if(s<768)return!1;for(let e=0,n=rangeFrom.length;;){let r=e+n>>1;if(s<rangeFrom[r])n=r;else if(s>=rangeTo[r])e=r+1;else return!0;if(e==n)return!1}}function isRegionalIndicator(s){return s>=127462&&s<=127487}const ZWJ=8205;function findClusterBreak$1(s,e,n=!0,r=!0){return(n?nextClusterBreak:prevClusterBreak)(s,e,r)}function nextClusterBreak(s,e,n){if(e==s.length)return e;e&&surrogateLow$1(s.charCodeAt(e))&&surrogateHigh$1(s.charCodeAt(e-1))&&e--;let r=codePointAt$1(s,e);for(e+=codePointSize$1(r);e<s.length;){let a=codePointAt$1(s,e);if(r==ZWJ||a==ZWJ||n&&isExtendingChar(a))e+=codePointSize$1(a),r=a;else if(isRegionalIndicator(a)){let c=0,u=e-2;for(;u>=0&&isRegionalIndicator(codePointAt$1(s,u));)c++,u-=2;if(c%2==0)break;e+=2}else break}return e}function prevClusterBreak(s,e,n){for(;e>0;){let r=nextClusterBreak(s,e-2,n);if(r<e)return r;e--}return 0}function codePointAt$1(s,e){let n=s.charCodeAt(e);if(!surrogateHigh$1(n)||e+1==s.length)return n;let r=s.charCodeAt(e+1);return surrogateLow$1(r)?(n-55296<<10)+(r-56320)+65536:n}function surrogateLow$1(s){return s>=56320&&s<57344}function surrogateHigh$1(s){return s>=55296&&s<56320}function codePointSize$1(s){return s<65536?1:2}let Text$1=class M0{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=clip(this,e,n);let a=[];return this.decompose(0,e,a,2),r.length&&r.decompose(0,r.length,a,3),this.decompose(n,this.length,a,1),TextNode.from(a,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=clip(this,e,n);let r=[];return this.decompose(e,n,r,0),TextNode.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),a=new RawTextCursor(this),c=new RawTextCursor(e);for(let u=n,f=n;;){if(a.next(u),c.next(u),u=0,a.lineBreak!=c.lineBreak||a.done!=c.done||a.value!=c.value)return!1;if(f+=a.value.length,a.done||f>=r)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,n=this.length){return new PartialTextCursor(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let a=this.line(e).from;r=this.iterRange(a,Math.max(a,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new LineCursor(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?M0.empty:e.length<=32?new TextLeaf(e):TextNode.from(TextLeaf.split(e,[]))}};class TextLeaf extends Text$1{constructor(e,n=textLength(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,a){for(let c=0;;c++){let u=this.text[c],f=a+u.length;if((n?r:f)>=e)return new Line$1(a,f,r,u);a=f+1,r++}}decompose(e,n,r,a){let c=e<=0&&n>=this.length?this:new TextLeaf(sliceText(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(a&1){let u=r.pop(),f=appendText(c.text,u.text.slice(),0,c.length);if(f.length<=32)r.push(new TextLeaf(f,u.length+c.length));else{let d=f.length>>1;r.push(new TextLeaf(f.slice(0,d)),new TextLeaf(f.slice(d)))}}else r.push(c)}replace(e,n,r){if(!(r instanceof TextLeaf))return super.replace(e,n,r);[e,n]=clip(this,e,n);let a=appendText(this.text,appendText(r.text,sliceText(this.text,0,e)),n),c=this.length+r.length-(n-e);return a.length<=32?new TextLeaf(a,c):TextNode.from(TextLeaf.split(a,[]),c)}sliceString(e,n=this.length,r=`
`){[e,n]=clip(this,e,n);let a="";for(let c=0,u=0;c<=n&&u<this.text.length;u++){let f=this.text[u],d=c+f.length;c>e&&u&&(a+=r),e<d&&n>c&&(a+=f.slice(Math.max(0,e-c),n-c)),c=d+1}return a}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],a=-1;for(let c of e)r.push(c),a+=c.length+1,r.length==32&&(n.push(new TextLeaf(r,a)),r=[],a=-1);return a>-1&&n.push(new TextLeaf(r,a)),n}}class TextNode extends Text$1{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,a){for(let c=0;;c++){let u=this.children[c],f=a+u.length,d=r+u.lines-1;if((n?d:f)>=e)return u.lineInner(e,n,r,a);a=f+1,r=d+1}}decompose(e,n,r,a){for(let c=0,u=0;u<=n&&c<this.children.length;c++){let f=this.children[c],d=u+f.length;if(e<=d&&n>=u){let O=a&((u<=e?1:0)|(d>=n?2:0));u>=e&&d<=n&&!O?r.push(f):f.decompose(e-u,n-u,r,O)}u=d+1}}replace(e,n,r){if([e,n]=clip(this,e,n),r.lines<this.lines)for(let a=0,c=0;a<this.children.length;a++){let u=this.children[a],f=c+u.length;if(e>=c&&n<=f){let d=u.replace(e-c,n-c,r),O=this.lines-u.lines+d.lines;if(d.lines<O>>5-1&&d.lines>O>>5+1){let g=this.children.slice();return g[a]=d,new TextNode(g,this.length-(n-e)+r.length)}return super.replace(c,f,d)}c=f+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=clip(this,e,n);let a="";for(let c=0,u=0;c<this.children.length&&u<=n;c++){let f=this.children[c],d=u+f.length;u>e&&c&&(a+=r),e<d&&n>u&&(a+=f.sliceString(e-u,n-u,r)),u=d+1}return a}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof TextNode))return 0;let r=0,[a,c,u,f]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;a+=n,c+=n){if(a==u||c==f)return r;let d=this.children[a],O=e.children[c];if(d!=O)return r+d.scanIdentical(O,n);r+=d.length+1}}static from(e,n=e.reduce((r,a)=>r+a.length+1,-1)){let r=0;for(let E of e)r+=E.lines;if(r<32){let E=[];for(let R of e)R.flatten(E);return new TextLeaf(E,n)}let a=Math.max(32,r>>5),c=a<<1,u=a>>1,f=[],d=0,O=-1,g=[];function x(E){let R;if(E.lines>c&&E instanceof TextNode)for(let M of E.children)x(M);else E.lines>u&&(d>u||!d)?(T(),f.push(E)):E instanceof TextLeaf&&d&&(R=g[g.length-1])instanceof TextLeaf&&E.lines+R.lines<=32?(d+=E.lines,O+=E.length+1,g[g.length-1]=new TextLeaf(R.text.concat(E.text),R.length+1+E.length)):(d+E.lines>a&&T(),d+=E.lines,O+=E.length+1,g.push(E))}function T(){d!=0&&(f.push(g.length==1?g[0]:TextNode.from(g,O)),O=-1,d=g.length=0)}for(let E of e)x(E);return T(),f.length==1?f[0]:new TextNode(f,n)}}Text$1.empty=new TextLeaf([""],0);function textLength(s){let e=-1;for(let n of s)e+=n.length+1;return e}function appendText(s,e,n=0,r=1e9){for(let a=0,c=0,u=!0;c<s.length&&a<=r;c++){let f=s[c],d=a+f.length;d>=n&&(d>r&&(f=f.slice(0,r-a)),a<n&&(f=f.slice(n-a)),u?(e[e.length-1]+=f,u=!1):e.push(f)),a=d+1}return e}function sliceText(s,e,n){return appendText(s,[""],e,n)}class RawTextCursor{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,a=this.nodes[r],c=this.offsets[r],u=c>>1,f=a instanceof TextLeaf?a.text.length:a.children.length;if(u==(n>0?f:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((c&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(a instanceof TextLeaf){let d=a.text[u+(n<0?-1:0)];if(this.offsets[r]+=n,d.length>Math.max(0,e))return this.value=e==0?d:n>0?d.slice(e):d.slice(0,d.length-e),this;e-=d.length}else{let d=a.children[u+(n<0?-1:0)];e>d.length?(e-=d.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(d),this.offsets.push(n>0?1:(d instanceof TextLeaf?d.text.length:d.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:a}=this.cursor.next(e);return this.pos+=(a.length+e)*n,this.value=a.length<=r?a:n<0?a.slice(a.length-r):a.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:a}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=a,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text$1.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});let Line$1=class{constructor(e,n,r,a){this.from=e,this.to=n,this.number=r,this.text=a}get length(){return this.to-this.from}};function clip(s,e,n){return e=Math.max(0,Math.min(s.length,e)),[e,Math.max(e,Math.min(s.length,n))]}function findClusterBreak(s,e,n=!0,r=!0){return findClusterBreak$1(s,e,n,r)}function surrogateLow(s){return s>=56320&&s<57344}function surrogateHigh(s){return s>=55296&&s<56320}function codePointAt(s,e){let n=s.charCodeAt(e);if(!surrogateHigh(n)||e+1==s.length)return n;let r=s.charCodeAt(e+1);return surrogateLow(r)?(n-55296<<10)+(r-56320)+65536:n}function fromCodePoint(s){return s<=65535?String.fromCharCode(s):(s-=65536,String.fromCharCode((s>>10)+55296,(s&1023)+56320))}function codePointSize(s){return s<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(s){return s[s.Simple=0]="Simple",s[s.TrackDel=1]="TrackDel",s[s.TrackBefore=2]="TrackBefore",s[s.TrackAfter=3]="TrackAfter",s}(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,a=0;n<this.sections.length;){let c=this.sections[n++],u=this.sections[n++];u<0?(e(r,a,c),a+=c):a+=u,r+=c}}iterChangedRanges(e,n=!1){iterChanges(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],a=this.sections[n++];a<0?e.push(r,a):e.push(a,r)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,n=!1){return e.empty?this:mapSet(this,e,n)}mapPos(e,n=-1,r=MapMode.Simple){let a=0,c=0;for(let u=0;u<this.sections.length;){let f=this.sections[u++],d=this.sections[u++],O=a+f;if(d<0){if(O>e)return c+(e-a);c+=f}else{if(r!=MapMode.Simple&&O>=e&&(r==MapMode.TrackDel&&a<e&&O>e||r==MapMode.TrackBefore&&a<e||r==MapMode.TrackAfter&&O>e))return null;if(O>e||O==e&&n<0&&!f)return e==a||n<0?c:c+d;c+=d}a=O}if(e>a)throw new RangeError(`Position ${e} is out of range for changeset of length ${a}`);return c}touchesRange(e,n=e){for(let r=0,a=0;r<this.sections.length&&a<=n;){let c=this.sections[r++],u=this.sections[r++],f=a+c;if(u>=0&&a<=n&&f>=e)return a<e&&f>n?"cover":!0;a=f}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],a=this.sections[n++];e+=(e?" ":"")+r+(a>=0?":"+a:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}static create(e){return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(n,r,a,c,u)=>e=e.replace(a,a+(r-n),u),!1),e}mapDesc(e,n=!1){return mapSet(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let a=0,c=0;a<n.length;a+=2){let u=n[a],f=n[a+1];if(f>=0){n[a]=f,n[a+1]=u;let d=a>>1;for(;r.length<d;)r.push(Text$1.empty);r.push(u?e.slice(c,c+u):Text$1.empty)}c+=u}return new ChangeSet(n,r)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,n=!1){return e.empty?this:mapSet(this,e,n,!0)}iterChanges(e,n=!1){iterChanges(this,e,n)}get desc(){return ChangeDesc.create(this.sections)}filter(e){let n=[],r=[],a=[],c=new SectionIter(this);e:for(let u=0,f=0;;){let d=u==e.length?1e9:e[u++];for(;f<d||f==d&&c.len==0;){if(c.done)break e;let g=Math.min(c.len,d-f);addSection(a,g,-1);let x=c.ins==-1?-1:c.off==0?c.ins:0;addSection(n,g,x),x>0&&addInsert(r,n,c.text),c.forward(g),f+=g}let O=e[u++];for(;f<O;){if(c.done)break e;let g=Math.min(c.len,O-f);addSection(n,g,-1),addSection(a,g,c.ins==-1?-1:c.off==0?c.ins:0),c.forward(g),f+=g}}return{changes:new ChangeSet(n,r),filtered:ChangeDesc.create(a)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],a=this.sections[n+1];a<0?e.push(r):a==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let a=[],c=[],u=0,f=null;function d(g=!1){if(!g&&!a.length)return;u<n&&addSection(a,n-u,-1);let x=new ChangeSet(a,c);f=f?f.compose(x.map(f)):x,a=[],c=[],u=0}function O(g){if(Array.isArray(g))for(let x of g)O(x);else if(g instanceof ChangeSet){if(g.length!=n)throw new RangeError(`Mismatched change set length (got ${g.length}, expected ${n})`);d(),f=f?f.compose(g.map(f)):g}else{let{from:x,to:T=x,insert:E}=g;if(x>T||x<0||T>n)throw new RangeError(`Invalid change range ${x} to ${T} (in doc of length ${n})`);let R=E?typeof E=="string"?Text$1.of(E.split(r||DefaultSplit)):E:Text$1.empty,M=R.length;if(x==T&&M==0)return;x<u&&d(),x>u&&addSection(a,x-u,-1),addSection(a,T-x,M),addInsert(c,a,R),u=T}}return O(e),d(!f),f}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")n.push(c,-1);else{if(!Array.isArray(c)||typeof c[0]!="number"||c.some((u,f)=>f&&typeof u!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(c.length==1)n.push(c[0],0);else{for(;r.length<a;)r.push(Text$1.empty);r[a]=Text$1.of(c.slice(1)),n.push(c[0],r[a].length)}}}return new ChangeSet(n,r)}static createSet(e,n){return new ChangeSet(e,n)}}function addSection(s,e,n,r=!1){if(e==0&&n<=0)return;let a=s.length-2;a>=0&&n<=0&&n==s[a+1]?s[a]+=e:a>=0&&e==0&&s[a]==0?s[a+1]+=n:r?(s[a]+=e,s[a+1]+=n):s.push(e,n)}function addInsert(s,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<s.length)s[s.length-1]=s[s.length-1].append(n);else{for(;s.length<r;)s.push(Text$1.empty);s.push(n)}}function iterChanges(s,e,n){let r=s.inserted;for(let a=0,c=0,u=0;u<s.sections.length;){let f=s.sections[u++],d=s.sections[u++];if(d<0)a+=f,c+=f;else{let O=a,g=c,x=Text$1.empty;for(;O+=f,g+=d,d&&r&&(x=x.append(r[u-2>>1])),!(n||u==s.sections.length||s.sections[u+1]<0);)f=s.sections[u++],d=s.sections[u++];e(a,O,c,g,x),a=O,c=g}}}function mapSet(s,e,n,r=!1){let a=[],c=r?[]:null,u=new SectionIter(s),f=new SectionIter(e);for(let d=-1;;){if(u.done&&f.len||f.done&&u.len)throw new Error("Mismatched change set lengths");if(u.ins==-1&&f.ins==-1){let O=Math.min(u.len,f.len);addSection(a,O,-1),u.forward(O),f.forward(O)}else if(f.ins>=0&&(u.ins<0||d==u.i||u.off==0&&(f.len<u.len||f.len==u.len&&!n))){let O=f.len;for(addSection(a,f.ins,-1);O;){let g=Math.min(u.len,O);u.ins>=0&&d<u.i&&u.len<=g&&(addSection(a,0,u.ins),c&&addInsert(c,a,u.text),d=u.i),u.forward(g),O-=g}f.next()}else if(u.ins>=0){let O=0,g=u.len;for(;g;)if(f.ins==-1){let x=Math.min(g,f.len);O+=x,g-=x,f.forward(x)}else if(f.ins==0&&f.len<g)g-=f.len,f.next();else break;addSection(a,O,d<u.i?u.ins:0),c&&d<u.i&&addInsert(c,a,u.text),d=u.i,u.forward(u.len-g)}else{if(u.done&&f.done)return c?ChangeSet.createSet(a,c):ChangeDesc.create(a);throw new Error("Mismatched change set lengths")}}}function composeSets(s,e,n=!1){let r=[],a=n?[]:null,c=new SectionIter(s),u=new SectionIter(e);for(let f=!1;;){if(c.done&&u.done)return a?ChangeSet.createSet(r,a):ChangeDesc.create(r);if(c.ins==0)addSection(r,c.len,0,f),c.next();else if(u.len==0&&!u.done)addSection(r,0,u.ins,f),a&&addInsert(a,r,u.text),u.next();else{if(c.done||u.done)throw new Error("Mismatched change set lengths");{let d=Math.min(c.len2,u.len),O=r.length;if(c.ins==-1){let g=u.ins==-1?-1:u.off?0:u.ins;addSection(r,d,g,f),a&&g&&addInsert(a,r,u.text)}else u.ins==-1?(addSection(r,c.off?0:c.len,d,f),a&&addInsert(a,r,c.textBit(d))):(addSection(r,c.off?0:c.len,u.off?0:u.ins,f),a&&!u.off&&addInsert(a,r,u.text));f=(c.ins>d||u.ins>=0&&u.len>d)&&(f||r.length>O),c.forward2(d),u.forward(d)}}}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Text$1.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Text$1.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,a;return this.empty?r=a=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),a=e.mapPos(this.to,-1)),r==this.from&&a==this.to?this:new SelectionRange(r,a,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return EditorSelection.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return EditorSelection.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}static create(e,n,r){return new SelectionRange(e,n,r)}}class EditorSelection{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:EditorSelection.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(e,n=!0){return EditorSelection.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,EditorSelection.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map(n=>SelectionRange.fromJSON(n)),e.main)}static single(e,n=e){return new EditorSelection([EditorSelection.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,a=0;a<e.length;a++){let c=e[a];if(c.empty?c.from<=r:c.from<r)return EditorSelection.normalized(e.slice(),n);r=c.to}return new EditorSelection(e,n)}static cursor(e,n=0,r,a){return SelectionRange.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(a??16777215)<<6)}static range(e,n,r,a){let c=(r??16777215)<<6|(a==null?7:Math.min(6,a));return n<e?SelectionRange.create(n,e,48|c):SelectionRange.create(e,n,(n>e?8:0)|c)}static normalized(e,n=0){let r=e[n];e.sort((a,c)=>a.from-c.from),n=e.indexOf(r);for(let a=1;a<e.length;a++){let c=e[a],u=e[a-1];if(c.empty?c.from<=u.to:c.from<u.to){let f=u.from,d=Math.max(c.to,u.to);a<=n&&n--,e.splice(--a,2,c.anchor>c.head?EditorSelection.range(d,f):EditorSelection.range(f,d))}}return new EditorSelection(e,n)}}function checkSelection(s,e){for(let n of s.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,n,r,a,c){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=a,this.id=nextID++,this.default=e([]),this.extensions=typeof c=="function"?c(this):c}get reader(){return this}static define(e={}){return new Facet(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function sameArray$1(s,e){return s==e||s.length==e.length&&s.every((n,r)=>n===e[r])}class FacetProvider{constructor(e,n,r,a){this.dependencies=e,this.facet=n,this.type=r,this.value=a,this.id=nextID++}dynamicSlot(e){var n;let r=this.value,a=this.facet.compareInput,c=this.id,u=e[c]>>1,f=this.type==2,d=!1,O=!1,g=[];for(let x of this.dependencies)x=="doc"?d=!0:x=="selection"?O=!0:((n=e[x.id])!==null&&n!==void 0?n:1)&1||g.push(e[x.id]);return{create(x){return x.values[u]=r(x),1},update(x,T){if(d&&T.docChanged||O&&(T.docChanged||T.selection)||ensureAll(x,g)){let E=r(x);if(f?!compareArray(E,x.values[u],a):!a(E,x.values[u]))return x.values[u]=E,1}return 0},reconfigure:(x,T)=>{let E,R=T.config.address[c];if(R!=null){let M=getAddr(T,R);if(this.dependencies.every($=>$ instanceof Facet?T.facet($)===x.facet($):$ instanceof StateField?T.field($,!1)==x.field($,!1):!0)||(f?compareArray(E=r(x),M,a):a(E=r(x),M)))return x.values[u]=M,0}else E=r(x);return x.values[u]=E,1}}}}function compareArray(s,e,n){if(s.length!=e.length)return!1;for(let r=0;r<s.length;r++)if(!n(s[r],e[r]))return!1;return!0}function ensureAll(s,e){let n=!1;for(let r of e)ensureAddr(s,r)&1&&(n=!0);return n}function dynamicFacetSlot(s,e,n){let r=n.map(d=>s[d.id]),a=n.map(d=>d.type),c=r.filter(d=>!(d&1)),u=s[e.id]>>1;function f(d){let O=[];for(let g=0;g<r.length;g++){let x=getAddr(d,r[g]);if(a[g]==2)for(let T of x)O.push(T);else O.push(x)}return e.combine(O)}return{create(d){for(let O of r)ensureAddr(d,O);return d.values[u]=f(d),1},update(d,O){if(!ensureAll(d,c))return 0;let g=f(d);return e.compare(g,d.values[u])?0:(d.values[u]=g,1)},reconfigure(d,O){let g=ensureAll(d,r),x=O.config.facets[e.id],T=O.facet(e);if(x&&!g&&sameArray$1(n,x))return d.values[u]=T,0;let E=f(d);return e.compare(E,T)?(d.values[u]=T,0):(d.values[u]=E,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,n,r,a,c){this.id=e,this.createF=n,this.updateF=r,this.compareF=a,this.spec=c,this.provides=void 0}static define(e){let n=new StateField(nextID++,e.create,e.update,e.compare||((r,a)=>r===a),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(initField).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,a)=>{let c=r.values[n],u=this.updateF(c,a);return this.compareF(c,u)?0:(r.values[n]=u,1)},reconfigure:(r,a)=>{let c=r.facet(initField),u=a.facet(initField),f;return(f=c.find(d=>d.field==this))&&f!=u.find(d=>d.field==this)?(r.values[n]=f.create(r),1):a.config.address[this.id]!=null?(r.values[n]=a.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(s){return e=>new PrecExtension(e,s)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(e,n){this.inner=e,this.prec=n}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,n){this.compartment=e,this.inner=n}}class Configuration{constructor(e,n,r,a,c,u){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=a,this.staticValues=c,this.facets=u,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let a=[],c=Object.create(null),u=new Map;for(let T of flatten(e,n,u))T instanceof StateField?a.push(T):(c[T.facet.id]||(c[T.facet.id]=[])).push(T);let f=Object.create(null),d=[],O=[];for(let T of a)f[T.id]=O.length<<1,O.push(E=>T.slot(E));let g=r==null?void 0:r.config.facets;for(let T in c){let E=c[T],R=E[0].facet,M=g&&g[T]||[];if(E.every($=>$.type==0))if(f[R.id]=d.length<<1|1,sameArray$1(M,E))d.push(r.facet(R));else{let $=R.combine(E.map(V=>V.value));d.push(r&&R.compare($,r.facet(R))?r.facet(R):$)}else{for(let $ of E)$.type==0?(f[$.id]=d.length<<1|1,d.push($.value)):(f[$.id]=O.length<<1,O.push(V=>$.dynamicSlot(V)));f[R.id]=O.length<<1,O.push($=>dynamicFacetSlot($,R,E))}}let x=O.map(T=>T(f));return new Configuration(e,u,x,f,d,c)}}function flatten(s,e,n){let r=[[],[],[],[],[]],a=new Map;function c(u,f){let d=a.get(u);if(d!=null){if(d<=f)return;let O=r[d].indexOf(u);O>-1&&r[d].splice(O,1),u instanceof CompartmentInstance&&n.delete(u.compartment)}if(a.set(u,f),Array.isArray(u))for(let O of u)c(O,f);else if(u instanceof CompartmentInstance){if(n.has(u.compartment))throw new RangeError("Duplicate use of compartment in extensions");let O=e.get(u.compartment)||u.inner;n.set(u.compartment,O),c(O,f)}else if(u instanceof PrecExtension)c(u.inner,u.prec);else if(u instanceof StateField)r[f].push(u),u.provides&&c(u.provides,f);else if(u instanceof FacetProvider)r[f].push(u),u.facet.extensions&&c(u.facet.extensions,Prec_.default);else{let O=u.extension;if(!O)throw new Error(`Unrecognized extension value in extension set (${u}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);c(O,f)}}return c(s,Prec_.default),r.reduce((u,f)=>u.concat(f))}function ensureAddr(s,e){if(e&1)return 2;let n=e>>1,r=s.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;s.status[n]=4;let a=s.computeSlot(s,s.config.dynamicSlots[n]);return s.status[n]=2|a}function getAddr(s,e){return e&1?s.config.staticValues[e>>1]:s.values[e>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:s=>s.some(e=>e),static:!0}),lineSeparator=Facet.define({combine:s=>s.length?s[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:s=>s.length?s[0]:!1});class Annotation{constructor(e,n){this.type=e,this.value=n}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new StateEffect(this.type,n)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let a of e){let c=a.map(n);c&&r.push(c)}return r}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,n,r,a,c,u){this.startState=e,this.changes=n,this.selection=r,this.effects=a,this.annotations=c,this.scrollIntoView=u,this._doc=null,this._state=null,r&&checkSelection(r,n.newLength),c.some(f=>f.type==Transaction.time)||(this.annotations=c.concat(Transaction.time.of(Date.now())))}static create(e,n,r,a,c,u){return new Transaction(e,n,r,a,c,u)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Transaction.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(s,e){let n=[];for(let r=0,a=0;;){let c,u;if(r<s.length&&(a==e.length||e[a]>=s[r]))c=s[r++],u=s[r++];else if(a<e.length)c=e[a++],u=e[a++];else return n;!n.length||n[n.length-1]<c?n.push(c,u):n[n.length-1]<u&&(n[n.length-1]=u)}}function mergeTransaction(s,e,n){var r;let a,c,u;return n?(a=e.changes,c=ChangeSet.empty(e.changes.length),u=s.changes.compose(e.changes)):(a=e.changes.map(s.changes),c=s.changes.mapDesc(e.changes,!0),u=s.changes.compose(a)),{changes:u,selection:e.selection?e.selection.map(c):(r=s.selection)===null||r===void 0?void 0:r.map(a),effects:StateEffect.mapEffects(s.effects,a).concat(StateEffect.mapEffects(e.effects,c)),annotations:s.annotations.length?s.annotations.concat(e.annotations):e.annotations,scrollIntoView:s.scrollIntoView||e.scrollIntoView}}function resolveTransactionInner(s,e,n){let r=e.selection,a=asArray$1(e.annotations);return e.userEvent&&(a=a.concat(Transaction.userEvent.of(e.userEvent))),{changes:e.changes instanceof ChangeSet?e.changes:ChangeSet.of(e.changes||[],n,s.facet(lineSeparator)),selection:r&&(r instanceof EditorSelection?r:EditorSelection.single(r.anchor,r.head)),effects:asArray$1(e.effects),annotations:a,scrollIntoView:!!e.scrollIntoView}}function resolveTransaction(s,e,n){let r=resolveTransactionInner(s,e.length?e[0]:{},s.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let c=1;c<e.length;c++){e[c].filter===!1&&(n=!1);let u=!!e[c].sequential;r=mergeTransaction(r,resolveTransactionInner(s,e[c],u?r.changes.newLength:s.doc.length),u)}let a=Transaction.create(s,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return extendTransaction(n?filterTransaction(a):a)}function filterTransaction(s){let e=s.startState,n=!0;for(let a of e.facet(changeFilter)){let c=a(s);if(c===!1){n=!1;break}Array.isArray(c)&&(n=n===!0?c:joinRanges(n,c))}if(n!==!0){let a,c;if(n===!1)c=s.changes.invertedDesc,a=ChangeSet.empty(e.doc.length);else{let u=s.changes.filter(n);a=u.changes,c=u.filtered.mapDesc(u.changes).invertedDesc}s=Transaction.create(e,a,s.selection&&s.selection.map(c),StateEffect.mapEffects(s.effects,c),s.annotations,s.scrollIntoView)}let r=e.facet(transactionFilter);for(let a=r.length-1;a>=0;a--){let c=r[a](s);c instanceof Transaction?s=c:Array.isArray(c)&&c.length==1&&c[0]instanceof Transaction?s=c[0]:s=resolveTransaction(e,asArray$1(c),!1)}return s}function extendTransaction(s){let e=s.startState,n=e.facet(transactionExtender),r=s;for(let a=n.length-1;a>=0;a--){let c=n[a](s);c&&Object.keys(c).length&&(r=mergeTransaction(r,resolveTransactionInner(e,c,s.changes.newLength),!0))}return r==s?s:Transaction.create(e,s.changes,s.selection,r.effects,r.annotations,r.scrollIntoView)}const none$3=[];function asArray$1(s){return s==null?none$3:Array.isArray(s)?s:[s]}var CharCategory=function(s){return s[s.Word=0]="Word",s[s.Space=1]="Space",s[s.Other=2]="Other",s}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar$1;try{wordChar$1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(s){if(wordChar$1)return wordChar$1.test(s);for(let e=0;e<s.length;e++){let n=s[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||nonASCIISingleCaseWordChar.test(n)))return!0}return!1}function makeCategorizer(s){return e=>{if(!/\S/.test(e))return CharCategory.Space;if(hasWordChar(e))return CharCategory.Word;for(let n=0;n<s.length;n++)if(e.indexOf(s[n])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,n,r,a,c,u){this.config=e,this.doc=n,this.selection=r,this.values=a,this.status=e.statusTemplate.slice(),this.computeSlot=c,u&&(u._state=this);for(let f=0;f<this.config.dynamicSlots.length;f++)ensureAddr(this,f<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,r),getAddr(this,r)}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:a}=n;for(let f of e.effects)f.is(Compartment.reconfigure)?(n&&(a=new Map,n.compartments.forEach((d,O)=>a.set(O,d)),n=null),a.set(f.value.compartment,f.value.extension)):f.is(StateEffect.reconfigure)?(n=null,r=f.value):f.is(StateEffect.appendConfig)&&(n=null,r=asArray$1(r).concat(f.value));let c;n?c=e.startState.values.slice():(n=Configuration.resolve(r,a,this),c=new EditorState(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(d,O)=>O.reconfigure(d,this),null).values);let u=e.startState.facet(allowMultipleSelections)?e.newSelection:e.newSelection.asSingle();new EditorState(n,e.newDoc,u,c,(f,d)=>d.update(f,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:EditorSelection.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),a=this.changes(r.changes),c=[r.range],u=asArray$1(r.effects);for(let f=1;f<n.ranges.length;f++){let d=e(n.ranges[f]),O=this.changes(d.changes),g=O.map(a);for(let T=0;T<f;T++)c[T]=c[T].map(g);let x=a.mapDesc(O,!0);c.push(d.range.map(x)),a=a.compose(g),u=StateEffect.mapEffects(u,g).concat(StateEffect.mapEffects(asArray$1(d.effects),x))}return{changes:a,selection:EditorSelection.create(c,n.mainIndex),effects:u}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text$1.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(ensureAddr(this,n),getAddr(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let a=e[r];a instanceof StateField&&this.config.address[a.id]!=null&&(n[r]=a.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let a=[];if(r){for(let c in r)if(Object.prototype.hasOwnProperty.call(e,c)){let u=r[c],f=e[c];a.push(u.init(d=>u.spec.fromJSON(f,d)))}}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:n.extensions?a.concat([n.extensions]):a})}static create(e={}){let n=Configuration.resolve(e.extensions||[],new Map),r=e.doc instanceof Text$1?e.doc:Text$1.of((e.doc||"").split(n.staticFacet(EditorState.lineSeparator)||DefaultSplit)),a=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(a,r.length),n.staticFacet(allowMultipleSelections)||(a=a.asSingle()),new EditorState(n,r,a,n.dynamicSlots.map(()=>null),(c,u)=>u.create(c),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(e,...n){for(let r of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,a)=>{if(a=="$")return"$";let c=+(a||1);return!c||c>n.length?r:n[c-1]})),e}languageDataAt(e,n,r=-1){let a=[];for(let c of this.facet(languageData))for(let u of c(this,n,r))Object.prototype.hasOwnProperty.call(u,e)&&a.push(u[e]);return a}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:a}=this.doc.lineAt(e),c=this.charCategorizer(e),u=e-r,f=e-r;for(;u>0;){let d=findClusterBreak(n,u,!1);if(c(n.slice(d,u))!=CharCategory.Word)break;u=d}for(;f<a;){let d=findClusterBreak(n,f);if(c(n.slice(f,d))!=CharCategory.Word)break;f=d}return u==f?null:EditorSelection.range(u+r,f+r)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:s=>s.length?s[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(s,e){let n=Object.keys(s),r=Object.keys(e);return n.length==r.length&&n.every(a=>s[a]==e[a])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(s,e,n={}){let r={};for(let a of s)for(let c of Object.keys(a)){let u=a[c],f=r[c];if(f===void 0)r[c]=u;else if(!(f===u||u===void 0))if(Object.hasOwnProperty.call(n,c))r[c]=n[c](f,u);else throw new Error("Config merge conflict for field "+c)}for(let a in e)r[a]===void 0&&(r[a]=e[a]);return r}class RangeValue{eq(e){return this==e}range(e,n=e){return Range$1.create(e,n,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class $0{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new $0(e,n,r)}};function cmpRange(s,e){return s.from-e.from||s.value.startSide-e.value.startSide}class Chunk{constructor(e,n,r,a){this.from=e,this.to=n,this.value=r,this.maxPoint=a}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,a=0){let c=r?this.to:this.from;for(let u=a,f=c.length;;){if(u==f)return u;let d=u+f>>1,O=c[d]-e||(r?this.value[d].endSide:this.value[d].startSide)-n;if(d==u)return O>=0?u:f;O>=0?f=d:u=d+1}}between(e,n,r,a){for(let c=this.findIndex(n,-1e9,!0),u=this.findIndex(r,1e9,!1,c);c<u;c++)if(a(this.from[c]+e,this.to[c]+e,this.value[c])===!1)return!1}map(e,n){let r=[],a=[],c=[],u=-1,f=-1;for(let d=0;d<this.value.length;d++){let O=this.value[d],g=this.from[d]+e,x=this.to[d]+e,T,E;if(g==x){let R=n.mapPos(g,O.startSide,O.mapMode);if(R==null||(T=E=R,O.startSide!=O.endSide&&(E=n.mapPos(g,O.endSide),E<T)))continue}else if(T=n.mapPos(g,O.startSide),E=n.mapPos(x,O.endSide),T>E||T==E&&O.startSide>0&&O.endSide<=0)continue;(E-T||O.endSide-O.startSide)<0||(u<0&&(u=T),O.point&&(f=Math.max(f,E-T)),r.push(O),a.push(T-u),c.push(E-u))}return{mapped:r.length?new Chunk(a,c,r,f):null,pos:u}}}class RangeSet{constructor(e,n,r,a){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=a}static create(e,n,r,a){return new RangeSet(e,n,r,a)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:a=0,filterTo:c=this.length}=e,u=e.filter;if(n.length==0&&!u)return this;if(r&&(n=n.slice().sort(cmpRange)),this.isEmpty)return n.length?RangeSet.of(n):this;let f=new LayerCursor(this,null,-1).goto(0),d=0,O=[],g=new RangeSetBuilder;for(;f.value||d<n.length;)if(d<n.length&&(f.from-n[d].from||f.startSide-n[d].value.startSide)>=0){let x=n[d++];g.addInner(x.from,x.to,x.value)||O.push(x)}else f.rangeIndex==1&&f.chunkIndex<this.chunk.length&&(d==n.length||this.chunkEnd(f.chunkIndex)<n[d].from)&&(!u||a>this.chunkEnd(f.chunkIndex)||c<this.chunkPos[f.chunkIndex])&&g.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!u||a>f.to||c<f.from||u(f.from,f.to,f.value))&&(g.addInner(f.from,f.to,f.value)||O.push(Range$1.create(f.from,f.to,f.value))),f.next());return g.finishInner(this.nextLayer.isEmpty&&!O.length?RangeSet.empty:this.nextLayer.update({add:O,filter:u,filterFrom:a,filterTo:c}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],a=-1;for(let u=0;u<this.chunk.length;u++){let f=this.chunkPos[u],d=this.chunk[u],O=e.touchesRange(f,f+d.length);if(O===!1)a=Math.max(a,d.maxPoint),n.push(d),r.push(e.mapPos(f));else if(O===!0){let{mapped:g,pos:x}=d.map(f,e);g&&(a=Math.max(a,g.maxPoint),n.push(g),r.push(x))}}let c=this.nextLayer.map(e);return n.length==0?c:new RangeSet(r,n,c||RangeSet.empty,a)}between(e,n,r){if(!this.isEmpty){for(let a=0;a<this.chunk.length;a++){let c=this.chunkPos[a],u=this.chunk[a];if(n>=c&&e<=c+u.length&&u.between(c,e-c,n-c,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return HeapCursor.from(e).goto(n)}static compare(e,n,r,a,c=-1){let u=e.filter(x=>x.maxPoint>0||!x.isEmpty&&x.maxPoint>=c),f=n.filter(x=>x.maxPoint>0||!x.isEmpty&&x.maxPoint>=c),d=findSharedChunks(u,f,r),O=new SpanCursor(u,d,c),g=new SpanCursor(f,d,c);r.iterGaps((x,T,E)=>compare(O,x,g,T,E,a)),r.empty&&r.length==0&&compare(O,0,g,0,0,a)}static eq(e,n,r=0,a){a==null&&(a=1e9-1);let c=e.filter(g=>!g.isEmpty&&n.indexOf(g)<0),u=n.filter(g=>!g.isEmpty&&e.indexOf(g)<0);if(c.length!=u.length)return!1;if(!c.length)return!0;let f=findSharedChunks(c,u),d=new SpanCursor(c,f,0).goto(r),O=new SpanCursor(u,f,0).goto(r);for(;;){if(d.to!=O.to||!sameValues(d.active,O.active)||d.point&&(!O.point||!d.point.eq(O.point)))return!1;if(d.to>a)return!0;d.next(),O.next()}}static spans(e,n,r,a,c=-1){let u=new SpanCursor(e,null,c).goto(n),f=n,d=u.openStart;for(;;){let O=Math.min(u.to,r);if(u.point){let g=u.activeForPoint(u.to),x=u.pointFrom<n?g.length+1:u.point.startSide<0?g.length:Math.min(g.length,d);a.point(f,O,u.point,g,x,u.pointRank),d=Math.min(u.openEnd(O),g.length)}else O>f&&(a.span(f,O,u.active,d),d=u.openEnd(O));if(u.to>r)return d+(u.point&&u.to>r?1:0);f=u.to,u.next()}}static of(e,n=!1){let r=new RangeSetBuilder;for(let a of e instanceof Range$1?[e]:n?lazySort(e):e)r.add(a.from,a.to,a.value);return r.finish()}static join(e){if(!e.length)return RangeSet.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let a=e[r];a!=RangeSet.empty;a=a.nextLayer)n=new RangeSet(a.chunkPos,a.chunk,n,Math.max(a.maxPoint,n.maxPoint));return n}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(s){if(s.length>1)for(let e=s[0],n=1;n<s.length;n++){let r=s[n];if(cmpRange(e,r)>0)return s.slice().sort(cmpRange);e=r}return s}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,n,r)}addInner(e,n,r){let a=e-this.lastTo||r.startSide-this.last.endSide;if(a<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return a<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function findSharedChunks(s,e,n){let r=new Map;for(let c of s)for(let u=0;u<c.chunk.length;u++)c.chunk[u].maxPoint<=0&&r.set(c.chunk[u],c.chunkPos[u]);let a=new Set;for(let c of e)for(let u=0;u<c.chunk.length;u++){let f=r.get(c.chunk[u]);f!=null&&(n?n.mapPos(f):f)==c.chunkPos[u]&&!(n!=null&&n.touchesRange(f,f+c.chunk[u].length))&&a.add(c.chunk[u])}return a}class LayerCursor{constructor(e,n,r,a=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=a}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let a=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(a)||this.layer.chunkEnd(this.chunkIndex)<e||a.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let a=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<a)&&this.setRangeIndex(a)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,n=null,r=-1){let a=[];for(let c=0;c<e.length;c++)for(let u=e[c];!u.isEmpty;u=u.nextLayer)u.maxPoint>=r&&a.push(new LayerCursor(u,n,r,c));return a.length==1?a[0]:new HeapCursor(a)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)heapBubble(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)heapBubble(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(s,e){for(let n=s[e];;){let r=(e<<1)+1;if(r>=s.length)break;let a=s[r];if(r+1<s.length&&a.compare(s[r+1])>=0&&(a=s[r+1],r++),n.compare(a)<0)break;s[r]=n,s[e]=a,e=r}}class SpanCursor{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){remove(this.active,e),remove(this.activeTo,e),remove(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:a,rank:c}=this.cursor;for(;n<this.activeRank.length&&(c-this.activeRank[n]||a-this.activeTo[n])>0;)n++;insert(this.active,n,r),insert(this.activeTo,n,a),insert(this.activeRank,n,c),e&&insert(e,n,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let a=this.minActive;if(a>-1&&(this.activeTo[a]-this.cursor.from||this.active[a].endSide-this.cursor.startSide)<0){if(this.activeTo[a]>e){this.to=this.activeTo[a],this.endSide=this.active[a].endSide;break}this.removeActive(a),r&&remove(r,a)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let c=this.cursor.value;if(!c.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=c,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=c.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let a=r.length-1;a>=0&&r[a]<e;a--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function compare(s,e,n,r,a,c){s.goto(e),n.goto(r);let u=r+a,f=r,d=r-e;for(;;){let O=s.to+d-n.to,g=O||s.endSide-n.endSide,x=g<0?s.to+d:n.to,T=Math.min(x,u);if(s.point||n.point?s.point&&n.point&&(s.point==n.point||s.point.eq(n.point))&&sameValues(s.activeForPoint(s.to),n.activeForPoint(n.to))||c.comparePoint(f,T,s.point,n.point):T>f&&!sameValues(s.active,n.active)&&c.compareRange(f,T,s.active,n.active),x>u)break;(O||s.openEnd!=n.openEnd)&&c.boundChange&&c.boundChange(x),f=x,g<=0&&s.next(),g>=0&&n.next()}}function sameValues(s,e){if(s.length!=e.length)return!1;for(let n=0;n<s.length;n++)if(s[n]!=e[n]&&!s[n].eq(e[n]))return!1;return!0}function remove(s,e){for(let n=e,r=s.length-1;n<r;n++)s[n]=s[n+1];s.pop()}function insert(s,e,n){for(let r=s.length-1;r>=e;r--)s[r+1]=s[r];s[e]=n}function findMinIndex(s,e){let n=-1,r=1e9;for(let a=0;a<e.length;a++)(e[a]-r||s[a].endSide-s[n].endSide)<0&&(n=a,r=e[a]);return n}function countColumn(s,e,n=s.length){let r=0;for(let a=0;a<n&&a<s.length;)s.charCodeAt(a)==9?(r+=e-r%e,a++):(r++,a=findClusterBreak(s,a));return r}function findColumn(s,e,n,r){for(let a=0,c=0;;){if(c>=e)return a;if(a==s.length)break;c+=s.charCodeAt(a)==9?n-c%n:1,a=findClusterBreak(s,a)}return r===!0?-1:s.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(e,n){this.rules=[];let{finish:r}=n||{};function a(u){return/^@/.test(u)?[u]:u.split(/,\s*/)}function c(u,f,d,O){let g=[],x=/^@(\w+)\b/.exec(u[0]),T=x&&x[1]=="keyframes";if(x&&f==null)return d.push(u[0]+";");for(let E in f){let R=f[E];if(/&/.test(E))c(E.split(/,\s*/).map(M=>u.map($=>M.replace(/&/,$))).reduce((M,$)=>M.concat($)),R,d);else if(R&&typeof R=="object"){if(!x)throw new RangeError("The value of a property ("+E+") should be a primitive value.");c(a(E),R,g,T)}else R!=null&&g.push(E.replace(/_.*/,"").replace(/[A-Z]/g,M=>"-"+M.toLowerCase())+": "+R+";")}(g.length||T)&&d.push((r&&!x&&!O?u.map(r):u).join(", ")+" {"+g.join(" ")+"}")}for(let u in e)c(a(u),e[u],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C+e.toString(36)}static mount(e,n,r){let a=e[SET],c=r&&r.nonce;a?c&&a.setNonce(c):a=new StyleSet(e,c),a.mount(Array.isArray(n)?n:[n],e)}}let adoptedSet=new Map;class StyleSet{constructor(e,n){let r=e.ownerDocument||e,a=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&a.CSSStyleSheet){let c=adoptedSet.get(r);if(c)return e[SET]=c;this.sheet=new a.CSSStyleSheet,adoptedSet.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[SET]=this}mount(e,n){let r=this.sheet,a=0,c=0;for(let u=0;u<e.length;u++){let f=e[u],d=this.modules.indexOf(f);if(d<c&&d>-1&&(this.modules.splice(d,1),c--,d=-1),d==-1){if(this.modules.splice(c++,0,f),r)for(let O=0;O<f.rules.length;O++)r.insertRule(f.rules[O],a++)}else{for(;c<d;)a+=this.modules[c++].rules.length;a+=f.rules.length,c++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let u="";for(let d=0;d<this.modules.length;d++)u+=this.modules[d].getRules()+`
`;this.styleTag.textContent=u;let f=n.head||n;this.styleTag.parentNode!=f&&f.insertBefore(this.styleTag,f.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(s){var e=mac&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||ie$1&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",n=!e&&s.key||(s.shiftKey?shift:base)[s.keyCode]||s.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function crelt(){var s=arguments[0];typeof s=="string"&&(s=document.createElement(s));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var a=n[r];typeof a=="string"?s.setAttribute(r,a):a!=null&&(s[r]=a)}e++}for(;e<arguments.length;e++)add(s,arguments[e]);return s}function add(s,e){if(typeof e=="string")s.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)s.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)add(s,e[n]);else throw new RangeError("Unsupported child node: "+e)}function getSelection(s){let e;return s.nodeType==11?e=s.getSelection?s:s.ownerDocument:e=s,e.getSelection()}function contains(s,e){return e?s==e||s.contains(e.nodeType!=1?e.parentNode:e):!1}function hasSelection(s,e){if(!e.anchorNode)return!1;try{return contains(s,e.anchorNode)}catch{return!1}}function clientRectsFor(s){return s.nodeType==3?textRange(s,0,s.nodeValue.length).getClientRects():s.nodeType==1?s.getClientRects():[]}function isEquivalentPosition(s,e,n,r){return n?scanFor(s,e,n,r,-1)||scanFor(s,e,n,r,1):!1}function domIndex(s){for(var e=0;;e++)if(s=s.previousSibling,!s)return e}function isBlockElement(s){return s.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(s.nodeName)}function scanFor(s,e,n,r,a){for(;;){if(s==n&&e==r)return!0;if(e==(a<0?0:maxOffset(s))){if(s.nodeName=="DIV")return!1;let c=s.parentNode;if(!c||c.nodeType!=1)return!1;e=domIndex(s)+(a<0?0:1),s=c}else if(s.nodeType==1){if(s=s.childNodes[e+(a<0?-1:0)],s.nodeType==1&&s.contentEditable=="false")return!1;e=a<0?maxOffset(s):0}else return!1}}function maxOffset(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function flattenRect(s,e){let n=e?s.left:s.right;return{left:n,right:n,top:s.top,bottom:s.bottom}}function windowRect(s){let e=s.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:s.innerWidth,top:0,bottom:s.innerHeight}}function getScale(s,e){let n=e.width/s.offsetWidth,r=e.height/s.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-s.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-s.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function scrollRectIntoView(s,e,n,r,a,c,u,f){let d=s.ownerDocument,O=d.defaultView||window;for(let g=s,x=!1;g&&!x;)if(g.nodeType==1){let T,E=g==d.body,R=1,M=1;if(E)T=windowRect(O);else{if(/^(fixed|sticky)$/.test(getComputedStyle(g).position)&&(x=!0),g.scrollHeight<=g.clientHeight&&g.scrollWidth<=g.clientWidth){g=g.assignedSlot||g.parentNode;continue}let X=g.getBoundingClientRect();({scaleX:R,scaleY:M}=getScale(g,X)),T={left:X.left,right:X.left+g.clientWidth*R,top:X.top,bottom:X.top+g.clientHeight*M}}let $=0,V=0;if(a=="nearest")e.top<T.top?(V=e.top-(T.top+u),n>0&&e.bottom>T.bottom+V&&(V=e.bottom-T.bottom+u)):e.bottom>T.bottom&&(V=e.bottom-T.bottom+u,n<0&&e.top-V<T.top&&(V=e.top-(T.top+u)));else{let X=e.bottom-e.top,Y=T.bottom-T.top;V=(a=="center"&&X<=Y?e.top+X/2-Y/2:a=="start"||a=="center"&&n<0?e.top-u:e.bottom-Y+u)-T.top}if(r=="nearest"?e.left<T.left?($=e.left-(T.left+c),n>0&&e.right>T.right+$&&($=e.right-T.right+c)):e.right>T.right&&($=e.right-T.right+c,n<0&&e.left<T.left+$&&($=e.left-(T.left+c))):$=(r=="center"?e.left+(e.right-e.left)/2-(T.right-T.left)/2:r=="start"==f?e.left-c:e.right-(T.right-T.left)+c)-T.left,$||V)if(E)O.scrollBy($,V);else{let X=0,Y=0;if(V){let G=g.scrollTop;g.scrollTop+=V/M,Y=(g.scrollTop-G)*M}if($){let G=g.scrollLeft;g.scrollLeft+=$/R,X=(g.scrollLeft-G)*R}e={left:e.left-X,top:e.top-Y,right:e.right-X,bottom:e.bottom-Y},X&&Math.abs(X-$)<1&&(r="nearest"),Y&&Math.abs(Y-V)<1&&(a="nearest")}if(E)break;(e.top<T.top||e.bottom>T.bottom||e.left<T.left||e.right>T.right)&&(e={left:Math.max(e.left,T.left),right:Math.min(e.right,T.right),top:Math.max(e.top,T.top),bottom:Math.min(e.bottom,T.bottom)}),g=g.assignedSlot||g.parentNode}else if(g.nodeType==11)g=g.host;else break}function scrollableParents(s){let e=s.ownerDocument,n,r;for(let a=s.parentNode;a&&!(a==e.body||n&&r);)if(a.nodeType==1)!r&&a.scrollHeight>a.clientHeight&&(r=a),!n&&a.scrollWidth>a.clientWidth&&(n=a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;return{x:n,y:r}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?maxOffset(n):0),r,Math.min(e.focusOffset,r?maxOffset(r):0))}set(e,n,r,a){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=a}}let preventScrollSupported=null;function focusPreventScroll(s){if(s.setActive)return s.setActive();if(preventScrollSupported)return s.focus(preventScrollSupported);let e=[];for(let n=s;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(s.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let n=0;n<e.length;){let r=e[n++],a=e[n++],c=e[n++];r.scrollTop!=a&&(r.scrollTop=a),r.scrollLeft!=c&&(r.scrollLeft=c)}}}let scratchRange;function textRange(s,e,n=e){let r=scratchRange||(scratchRange=document.createRange());return r.setEnd(s,n),r.setStart(s,e),r}function dispatchKey(s,e,n,r){let a={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey}=r);let c=new KeyboardEvent("keydown",a);c.synthetic=!0,s.dispatchEvent(c);let u=new KeyboardEvent("keyup",a);return u.synthetic=!0,s.dispatchEvent(u),c.defaultPrevented||u.defaultPrevented}function getRoot(s){for(;s;){if(s&&(s.nodeType==9||s.nodeType==11&&s.host))return s;s=s.assignedSlot||s.parentNode}return null}function clearAttributes(s){for(;s.attributes.length;)s.removeAttributeNode(s.attributes[0])}function atElementStart(s,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,maxOffset(n));;)if(r){if(n.nodeType!=1)return!1;let a=n.childNodes[r-1];a.contentEditable=="false"?r--:(n=a,r=maxOffset(n))}else{if(n==s)return!0;r=domIndex(n),n=n.parentNode}}function isScrolledToBottom(s){return s.scrollTop>Math.max(1,s.scrollHeight-s.clientHeight-4)}function textNodeBefore(s,e){for(let n=s,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=maxOffset(n)}else if(n.parentNode&&!isBlockElement(n))r=domIndex(n),n=n.parentNode;else return null}}function textNodeAfter(s,e){for(let n=s,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!isBlockElement(n))r=domIndex(n)+1,n=n.parentNode;else return null}}class DOMPos{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new DOMPos(e.parentNode,domIndex(e),n)}static after(e,n){return new DOMPos(e.parentNode,domIndex(e)+1,n)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,a=null,c;for(let u of this.children){if(u.flags&7){if(!u.dom&&(c=a?a.nextSibling:r.firstChild)){let f=ContentView.get(c);(!f||!f.parent&&f.canReuseDOM(u))&&u.reuseDOM(c)}u.sync(e,n),u.flags&=-8}if(c=a?a.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&c!=u.dom&&(n.written=!0),u.dom.parentNode==r)for(;c&&c!=u.dom;)c=rm$1(c);else r.insertBefore(u.dom,c);a=u.dom}for(c=a?a.nextSibling:r.firstChild,c&&n&&n.node==r&&(n.written=!0);c;)c=rm$1(c)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let a=maxOffset(e)==0?0:n==0?-1:1;for(;;){let c=e.parentNode;if(c==this.dom)break;a==0&&c.firstChild!=c.lastChild&&(e==c.firstChild?a=-1:a=1),e=c}a<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!ContentView.get(r);)r=r.nextSibling;if(!r)return this.length;for(let a=0,c=0;;a++){let u=this.children[a];if(u.dom==r)return c;c+=u.length+u.breakAfter}}domBoundsAround(e,n,r=0){let a=-1,c=-1,u=-1,f=-1;for(let d=0,O=r,g=r;d<this.children.length;d++){let x=this.children[d],T=O+x.length;if(O<e&&T>n)return x.domBoundsAround(e,n,O);if(T>=e&&a==-1&&(a=d,c=O),O>n&&x.dom.parentNode==this.dom){u=d,f=g;break}g=T,O=T+x.breakAfter}return{from:c,to:f<0?r+this.length:f,startDOM:(a?this.children[a-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:u<this.children.length&&u>=0?this.children[u].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=noChildren){this.markDirty();for(let a=e;a<n;a++){let c=this.children[a];c.parent==this&&r.indexOf(c)<0&&c.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let a=0;a<r.length;a++)r[a].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,a,c,u){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(s){let e=s.nextSibling;return s.parentNode.removeChild(s),e}class ChildCursor{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function replaceRange(s,e,n,r,a,c,u,f,d){let{children:O}=s,g=O.length?O[e]:null,x=c.length?c[c.length-1]:null,T=x?x.breakAfter:u;if(!(e==r&&g&&!u&&!T&&c.length<2&&g.merge(n,a,c.length?x:null,n==0,f,d))){if(r<O.length){let E=O[r];E&&(a<E.length||E.breakAfter&&(x!=null&&x.breakAfter))?(e==r&&(E=E.split(a),a=0),!T&&x&&E.merge(0,a,x,!0,0,d)?c[c.length-1]=E:((a||E.children.length&&!E.children[0].length)&&E.merge(0,a,null,!1,0,d),c.push(E))):E!=null&&E.breakAfter&&(x?x.breakAfter=1:u=1),r++}for(g&&(g.breakAfter=u,n>0&&(!u&&c.length&&g.merge(n,g.length,c[0],!1,f,0)?g.breakAfter=c.shift().breakAfter:(n<g.length||g.children.length&&g.children[g.children.length-1].length==0)&&g.merge(n,g.length,null,!1,f,0),e++));e<r&&c.length;)if(O[r-1].become(c[c.length-1]))r--,c.pop(),d=c.length?0:f;else if(O[e].become(c[0]))e++,c.shift(),f=c.length?0:d;else break;!c.length&&e&&r<O.length&&!O[e-1].breakAfter&&O[r].merge(0,0,O[e-1],!1,f,d)&&e--,(e<r||c.length)&&s.replaceChildren(e,r,c)}}function mergeChildrenInto(s,e,n,r,a,c){let u=s.childCursor(),{i:f,off:d}=u.findPos(n,1),{i:O,off:g}=u.findPos(e,-1),x=e-n;for(let T of r)x+=T.length;s.length+=x,replaceRange(s,O,g,f,d,r,0,a,c)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof TextView)||this.length-(n-e)+r.length>MaxJoinLen||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return textCoords(this.dom,e,n)}}class MarkView extends ContentView{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let a of n)a.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,a,c,u){return r&&(!(r instanceof MarkView&&r.mark.eq(this.mark))||e&&c<=0||n<this.length&&u<=0)?!1:(mergeChildrenInto(this,e,n,r?r.children.slice():[],c-1,u-1),this.markDirty(),!0)}split(e){let n=[],r=0,a=-1,c=0;for(let f of this.children){let d=r+f.length;d>e&&n.push(r<e?f.split(e-r):f),a<0&&r>=e&&(a=c),r=d,c++}let u=this.length-e;return this.length=e,a>-1&&(this.children.length=a,this.markDirty()),new MarkView(this.mark,n,u)}domAtPos(e){return inlineDOMAtPos(this,e)}coordsAt(e,n){return coordsInChildren(this,e,n)}}function textCoords(s,e,n){let r=s.nodeValue.length;e>r&&(e=r);let a=e,c=e,u=0;e==0&&n<0||e==r&&n>=0?browser.chrome||browser.gecko||(e?(a--,u=1):c<r&&(c++,u=-1)):n<0?a--:c<r&&c++;let f=textRange(s,a,c).getClientRects();if(!f.length)return null;let d=f[(u?u<0:n>=0)?0:f.length-1];return browser.safari&&!u&&d.width==0&&(d=Array.prototype.find.call(f,O=>O.width)||d),u?flattenRect(d,u<0):d||null}class WidgetView extends ContentView{static create(e,n,r){return new WidgetView(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,a,c,u){return r&&(!(r instanceof WidgetView)||!this.widget.compare(r.widget)||e>0&&c<=0||n<this.length&&u<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Text$1.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,a=this.posAtStart;return r?r.slice(a,a+this.length):Text$1.empty}domAtPos(e){return(this.length?e==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let a=this.dom.getClientRects(),c=null;if(!a.length)return null;let u=this.side?this.side<0:e>0;for(let f=u?a.length-1:0;c=a[f],!(e>0?f==0:f==a.length-1||c.top<c.bottom);f+=u?-1:1);return flattenRect(c,!u)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text$1.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(s,e){let n=s.dom,{children:r}=s,a=0;for(let c=0;a<r.length;a++){let u=r[a],f=c+u.length;if(!(f==c&&u.getSide()<=0)){if(e>c&&e<f&&u.dom.parentNode==n)return u.domAtPos(e-c);if(e<=c)break;c=f}}for(let c=a;c>0;c--){let u=r[c-1];if(u.dom.parentNode==n)return u.domAtPos(u.length)}for(let c=a;c<r.length;c++){let u=r[c];if(u.dom.parentNode==n)return u.domAtPos(0)}return new DOMPos(n,0)}function joinInlineInto(s,e,n){let r,{children:a}=s;n>0&&e instanceof MarkView&&a.length&&(r=a[a.length-1])instanceof MarkView&&r.mark.eq(e.mark)?joinInlineInto(r,e.children[0],n-1):(a.push(e),e.setParent(s)),s.length+=e.length}function coordsInChildren(s,e,n){let r=null,a=-1,c=null,u=-1;function f(O,g){for(let x=0,T=0;x<O.children.length&&T<=g;x++){let E=O.children[x],R=T+E.length;R>=g&&(E.children.length?f(E,g-T):(!c||c.isHidden&&(n>0||onSameLine(c,E)))&&(R>g||T==R&&E.getSide()>0)?(c=E,u=g-T):(T<g||T==R&&E.getSide()<0&&!E.isHidden)&&(r=E,a=g-T)),T=R}}f(s,e);let d=(n<0?r:c)||r||c;return d?d.coordsAt(Math.max(0,d==r?a:u),n):fallbackRect(s)}function fallbackRect(s){let e=s.dom.lastChild;if(!e)return s.dom.getBoundingClientRect();let n=clientRectsFor(e);return n[n.length-1]||null}function onSameLine(s,e){let n=s.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function combineAttrs(s,e){for(let n in s)n=="class"&&e.class?e.class+=" "+s.class:n=="style"&&e.style?e.style+=";"+s.style:e[n]=s[n];return e}const noAttrs$1=Object.create(null);function attrsEq(s,e,n){if(s==e)return!0;s||(s=noAttrs$1),e||(e=noAttrs$1);let r=Object.keys(s),a=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=a.length-(n&&a.indexOf(n)>-1?1:0))return!1;for(let c of r)if(c!=n&&(a.indexOf(c)==-1||s[c]!==e[c]))return!1;return!0}function updateAttrs(s,e,n){let r=!1;if(e)for(let a in e)n&&a in n||(r=!0,a=="style"?s.style.cssText="":s.removeAttribute(a));if(n)for(let a in n)e&&e[a]==n[a]||(r=!0,a=="style"?s.style.cssText=n[a]:s.setAttribute(a,n[a]));return r}function getAttrs$1(s){let e=Object.create(null);for(let n=0;n<s.attributes.length;n++){let r=s.attributes[n];e[r.name]=r.value}return e}class WidgetType{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var BlockType=function(s){return s[s.Text=0]="Text",s[s.WidgetBefore=1]="WidgetBefore",s[s.WidgetAfter=2]="WidgetAfter",s[s.WidgetRange=3]="WidgetRange",s}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,n,r,a){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=a}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new PointDecoration(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,a;if(e.isBlockGap)r=-5e8,a=4e8;else{let{start:c,end:u}=getInclusive(e,n);r=(c?n?-3e8:-1:5e8)-1,a=(u?n?2e8:1:-6e8)+1}return new PointDecoration(e,r,a,n,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,n=!1){return RangeSet.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:n,end:r}=getInclusive(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&attrsEq(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&this.spec.class==e.spec.class&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,n,r,a,c,u){super(n,r,c,e),this.block=a,this.isReplace=u,this.mapMode=a?n<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}PointDecoration.prototype.point=!0;function getInclusive(s,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=s;return n==null&&(n=s.inclusive),r==null&&(r=s.inclusive),{start:n??e,end:r??e}}function widgetsEq(s,e){return s==e||!!(s&&e&&s.compare(e))}function addRange(s,e,n,r=0){let a=n.length-1;a>=0&&n[a]+r>=s?n[a]=Math.max(n[a],e):n.push(s,e)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,a,c,u){if(r){if(!(r instanceof LineView))return!1;this.dom||r.transferDOM(this)}return a&&this.setDeco(r?r.attrs:null),mergeChildrenInto(this,e,n,r?r.children.slice():[],c,u),!0}split(e){let n=new LineView;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:a}=this.childPos(e);a&&(n.append(this.children[r].split(a),0),this.children[r].merge(a,this.children[r].length,null,!1,0,0),r++);for(let c=r;c<this.children.length;c++)n.append(this.children[c],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){joinInlineInto(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=combineAttrs(n,this.attrs||{})),r&&(this.attrs=combineAttrs({class:r},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let a=this.dom.lastChild;for(;a&&ContentView.get(a)instanceof MarkView;)a=a.lastChild;if(!a||!this.length||a.nodeName!="BR"&&((r=ContentView.get(a))===null||r===void 0?void 0:r.isEditable)==!1&&(!browser.ios||!this.children.some(c=>c instanceof TextView))){let c=document.createElement("BR");c.cmIgnore=!0,this.dom.appendChild(c)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof TextView)||/[^ -~]/.test(r.text))return null;let a=clientRectsFor(r.dom);if(a.length!=1)return null;e+=a[0].width,n=a[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=coordsInChildren(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:a}=this.parent.view.viewState,c=r.bottom-r.top;if(Math.abs(c-a.lineHeight)<2&&a.textHeight<c){let u=(c-a.textHeight)/2;return{top:r.top+u,bottom:r.bottom-u,left:r.left,right:r.left}}}return r}become(e){return e instanceof LineView&&this.children.length==0&&e.children.length==0&&attrsEq(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,a=0;r<e.children.length;r++){let c=e.children[r],u=a+c.length;if(u>=n){if(c instanceof LineView)return c;if(u>n)break}a=u+c.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,a,c,u){return r&&(!(r instanceof BlockWidgetView)||!this.widget.compare(r.widget)||e>0&&c<=0||n<this.length&&u<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new BlockWidgetView(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return noChildren}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text$1.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(e,n,r,a){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=a,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof BlockWidgetView&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:c,lineBreak:u,done:f}=this.cursor.next(this.skip);if(this.skip=0,f)throw new Error("Ran out of text content when drawing inline views");if(u){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=c,this.textOff=0}let a=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+a)),n),r),this.atCursorPos=!0,this.textOff+=a,e-=a,r=0}}span(e,n,r,a){this.buildText(n-e,r,a),this.pos=n,this.openStart<0&&(this.openStart=a)}point(e,n,r,a,c,u){if(this.disallowBlockEffectsFor[u]&&r instanceof PointDecoration){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let f=n-e;if(r instanceof PointDecoration)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(r.widget||NullWidget.block,f,r));else{let d=WidgetView.create(r.widget||NullWidget.inline,f,f?0:r.startSide),O=this.atCursorPos&&!d.isEditable&&c<=a.length&&(e<n||r.startSide>0),g=!d.isEditable&&(e<n||c>a.length||r.startSide<=0),x=this.getLine();this.pendingBuffer==2&&!O&&!d.isEditable&&(this.pendingBuffer=0),this.flushBuffer(a),O&&(x.append(wrapMarks(new WidgetBufferView(1),a),c),c=a.length+Math.max(0,c-a.length)),x.append(wrapMarks(d,a),c),this.atCursorPos=g,this.pendingBuffer=g?e<n||c>a.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=a.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);f&&(this.textOff+f<=this.text.length?this.textOff+=f:(this.skip+=f-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=c)}static build(e,n,r,a,c){let u=new ContentBuilder(e,n,r,c);return u.openEnd=RangeSet.spans(a,n,r,u),u.openStart<0&&(u.openStart=u.openEnd),u.finish(u.openEnd),u}}function wrapMarks(s,e){for(let n of e)s=new MarkView(n,[s],s.length);return s}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(s){return s[s.LTR=0]="LTR",s[s.RTL=1]="RTL",s}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(s){let e=[];for(let n=0;n<s.length;n++)e.push(1<<+s[n]);return e}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let s of["()","[]","{}"]){let e=s.charCodeAt(0),n=s.charCodeAt(1);Brackets[e]=n,Brackets[n]=-e}function charType(s){return s<=247?LowTypes[s]:1424<=s&&s<=1524?2:1536<=s&&s<=1785?ArabicTypes[s-1536]:1774<=s&&s<=2220?4:8192<=s&&s<=8204?256:64336<=s&&s<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,a){let c=-1;for(let u=0;u<e.length;u++){let f=e[u];if(f.from<=n&&f.to>=n){if(f.level==r)return u;(c<0||(a!=0?a<0?f.from<n:f.to>n:e[c].level>f.level))&&(c=u)}}if(c<0)throw new RangeError("Index out of range");return c}}function isolatesEq(s,e){if(s.length!=e.length)return!1;for(let n=0;n<s.length;n++){let r=s[n],a=e[n];if(r.from!=a.from||r.to!=a.to||r.direction!=a.direction||!isolatesEq(r.inner,a.inner))return!1}return!0}const types=[];function computeCharTypes(s,e,n,r,a){for(let c=0;c<=r.length;c++){let u=c?r[c-1].to:e,f=c<r.length?r[c].from:n,d=c?256:a;for(let O=u,g=d,x=d;O<f;O++){let T=charType(s.charCodeAt(O));T==512?T=g:T==8&&x==4&&(T=16),types[O]=T==4?2:T,T&7&&(x=T),g=T}for(let O=u,g=d,x=d;O<f;O++){let T=types[O];if(T==128)O<f-1&&g==types[O+1]&&g&24?T=types[O]=g:types[O]=256;else if(T==64){let E=O+1;for(;E<f&&types[E]==64;)E++;let R=O&&g==8||E<n&&types[E]==8?x==1?1:8:256;for(let M=O;M<E;M++)types[M]=R;O=E-1}else T==8&&x==1&&(types[O]=1);g=T,T&7&&(x=T)}}}function processBracketPairs(s,e,n,r,a){let c=a==1?2:1;for(let u=0,f=0,d=0;u<=r.length;u++){let O=u?r[u-1].to:e,g=u<r.length?r[u].from:n;for(let x=O,T,E,R;x<g;x++)if(E=Brackets[T=s.charCodeAt(x)])if(E<0){for(let M=f-3;M>=0;M-=3)if(BracketStack[M+1]==-E){let $=BracketStack[M+2],V=$&2?a:$&4?$&1?c:a:0;V&&(types[x]=types[BracketStack[M]]=V),f=M;break}}else{if(BracketStack.length==189)break;BracketStack[f++]=x,BracketStack[f++]=T,BracketStack[f++]=d}else if((R=types[x])==2||R==1){let M=R==a;d=M?0:1;for(let $=f-3;$>=0;$-=3){let V=BracketStack[$+2];if(V&2)break;if(M)BracketStack[$+2]|=2;else{if(V&4)break;BracketStack[$+2]|=4}}}}}function processNeutrals(s,e,n,r){for(let a=0,c=r;a<=n.length;a++){let u=a?n[a-1].to:s,f=a<n.length?n[a].from:e;for(let d=u;d<f;){let O=types[d];if(O==256){let g=d+1;for(;;)if(g==f){if(a==n.length)break;g=n[a++].to,f=a<n.length?n[a].from:e}else if(types[g]==256)g++;else break;let x=c==1,T=(g<e?types[g]:r)==1,E=x==T?x?1:2:r;for(let R=g,M=a,$=M?n[M-1].to:s;R>d;)R==$&&(R=n[--M].from,$=M?n[M-1].to:s),types[--R]=E;d=g}else c=O,d++}}}function emitSpans(s,e,n,r,a,c,u){let f=r%2?2:1;if(r%2==a%2)for(let d=e,O=0;d<n;){let g=!0,x=!1;if(O==c.length||d<c[O].from){let M=types[d];M!=f&&(g=!1,x=M==16)}let T=!g&&f==1?[]:null,E=g?r:r+1,R=d;e:for(;;)if(O<c.length&&R==c[O].from){if(x)break e;let M=c[O];if(!g)for(let $=M.to,V=O+1;;){if($==n)break e;if(V<c.length&&c[V].from==$)$=c[V++].to;else{if(types[$]==f)break e;break}}if(O++,T)T.push(M);else{M.from>d&&u.push(new BidiSpan(d,M.from,E));let $=M.direction==LTR!=!(E%2);computeSectionOrder(s,$?r+1:r,a,M.inner,M.from,M.to,u),d=M.to}R=M.to}else{if(R==n||(g?types[R]!=f:types[R]==f))break;R++}T?emitSpans(s,d,R,r+1,a,T,u):d<R&&u.push(new BidiSpan(d,R,E)),d=R}else for(let d=n,O=c.length;d>e;){let g=!0,x=!1;if(!O||d>c[O-1].to){let M=types[d-1];M!=f&&(g=!1,x=M==16)}let T=!g&&f==1?[]:null,E=g?r:r+1,R=d;e:for(;;)if(O&&R==c[O-1].to){if(x)break e;let M=c[--O];if(!g)for(let $=M.from,V=O;;){if($==e)break e;if(V&&c[V-1].to==$)$=c[--V].from;else{if(types[$-1]==f)break e;break}}if(T)T.push(M);else{M.to<d&&u.push(new BidiSpan(M.to,d,E));let $=M.direction==LTR!=!(E%2);computeSectionOrder(s,$?r+1:r,a,M.inner,M.from,M.to,u),d=M.from}R=M.from}else{if(R==e||(g?types[R-1]!=f:types[R-1]==f))break;R--}T?emitSpans(s,R,d,r+1,a,T,u):R<d&&u.push(new BidiSpan(R,d,E)),d=R}}function computeSectionOrder(s,e,n,r,a,c,u){let f=e%2?2:1;computeCharTypes(s,a,c,r,f),processBracketPairs(s,a,c,r,f),processNeutrals(a,c,r,f),emitSpans(s,a,c,e,n,r,u)}function computeOrder(s,e,n){if(!s)return[new BidiSpan(0,0,e==RTL?1:0)];if(e==LTR&&!n.length&&!BidiRE.test(s))return trivialOrder(s.length);if(n.length)for(;s.length>types.length;)types[types.length]=256;let r=[],a=e==LTR?0:1;return computeSectionOrder(s,a,a,n,0,s.length,r),r}function trivialOrder(s){return[new BidiSpan(0,s,0)]}let movedOver="";function moveVisually(s,e,n,r,a){var c;let u=r.head-s.from,f=BidiSpan.find(e,u,(c=r.bidiLevel)!==null&&c!==void 0?c:-1,r.assoc),d=e[f],O=d.side(a,n);if(u==O){let T=f+=a?1:-1;if(T<0||T>=e.length)return null;d=e[f=T],u=d.side(!a,n),O=d.side(a,n)}let g=findClusterBreak(s.text,u,d.forward(a,n));(g<d.from||g>d.to)&&(g=O),movedOver=s.text.slice(Math.min(u,g),Math.max(u,g));let x=f==(a?e.length-1:0)?null:e[f+(a?1:-1)];return x&&g==O&&x.level+(a?0:1)<d.level?EditorSelection.cursor(x.side(!a,n)+s.from,x.forward(a,n)?1:-1,x.level):EditorSelection.cursor(g+s.from,d.forward(a,n)?-1:1,d.level)}function autoDirection(s,e,n){for(let r=e;r<n;r++){let a=charType(s.charCodeAt(r));if(a==1)return LTR;if(a==2||a==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:s=>s.some(e=>e)}),nativeSelectionHidden=Facet.define({combine:s=>s.some(e=>e)}),scrollHandler=Facet.define();class ScrollTarget{constructor(e,n="nearest",r="nearest",a=5,c=5,u=!1){this.range=e,this.y=n,this.x=r,this.yMargin=a,this.xMargin=c,this.isSnapshot=u}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ScrollTarget(EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(s,e)=>s.map(e)}),setEditContextFormatting=StateEffect.define();function logException(s,e,n){let r=s.facet(exceptionSink);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const editable=Facet.define({combine:s=>s.length?s[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define({combine(s){return s.filter((e,n)=>{for(let r=0;r<n;r++)if(s[r].plugin==e.plugin)return!1;return!0})}});class ViewPlugin{constructor(e,n,r,a,c){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=a,this.baseExtensions=c(this),this.extension=this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:a,provide:c,decorations:u}=n||{};return new ViewPlugin(nextPluginID++,e,r,a,f=>{let d=[];return u&&d.push(decorations.of(O=>{let g=O.plugin(f);return g?u(g):Decoration.none})),c&&d.push(c(f)),d})}static fromClass(e,n){return ViewPlugin.define((r,a)=>new e(r,a),n)}}class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(logException(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){logException(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){logException(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(s,e){let n=s.state.facet(bidiIsolatedRanges);if(!n.length)return n;let r=n.map(c=>c instanceof Function?c(s):c),a=[];return RangeSet.spans(r,e.from,e.to,{point(){},span(c,u,f,d){let O=c-e.from,g=u-e.from,x=a;for(let T=f.length-1;T>=0;T--,d--){let E=f[T].spec.bidiIsolate,R;if(E==null&&(E=autoDirection(e.text,O,g)),d>0&&x.length&&(R=x[x.length-1]).to==O&&R.direction==E)R.to=g,x=R.inner;else{let M={from:O,to:g,direction:E,inner:[]};x.push(M),x=M.inner}}}}),a}const scrollMargins=Facet.define();function getScrollMargins(s){let e=0,n=0,r=0,a=0;for(let c of s.state.facet(scrollMargins)){let u=c(s);u&&(u.left!=null&&(e=Math.max(e,u.left)),u.right!=null&&(n=Math.max(n,u.right)),u.top!=null&&(r=Math.max(r,u.top)),u.bottom!=null&&(a=Math.max(a,u.bottom)))}return{left:e,right:n,top:r,bottom:a}}const styleModule=Facet.define();class ChangedRange{constructor(e,n,r,a){this.fromA=e,this.toA=n,this.fromB=r,this.toB=a}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let a=e[n-1];if(!(a.fromA>r.toA)){if(a.toA<r.fromA)break;r=r.join(a),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let a=0,c=0,u=0,f=0;;a++){let d=a==e.length?null:e[a],O=u-f,g=d?d.fromB:1e9;for(;c<n.length&&n[c]<g;){let x=n[c],T=n[c+1],E=Math.max(f,x),R=Math.min(g,T);if(E<=R&&new ChangedRange(E+O,R+O,E,R).addToSet(r),T>g)break;c+=2}if(!d)return r;new ChangedRange(d.fromA,d.toA,d.fromB,d.toB).addToSet(r),u=d.toA,f=d.toB}}}class ViewUpdate{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let c of r)this.changes=this.changes.compose(c.changes);let a=[];this.changes.iterChangedRanges((c,u,f,d)=>a.push(new ChangedRange(c,u,f,d))),this.changedRanges=a}static create(e,n,r){return new ViewUpdate(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:O,toA:g})=>g<this.minWidthFrom||O>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let a=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?a=this.domChanged.newSel.head:!touchesComposition(e.changes,this.hasComposition)&&!e.selectionSet&&(a=e.state.selection.main.head));let c=a>-1?findCompositionRange(this.view,e.changes,a):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:O,to:g}=this.hasComposition;r=new ChangedRange(O,g,e.changes.mapPos(O,-1),e.changes.mapPos(g,1)).addToSet(r.slice())}this.hasComposition=c?{from:c.range.fromB,to:c.range.toB}:null,(browser.ie||browser.chrome)&&!c&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let u=this.decorations,f=this.updateDeco(),d=findChangedDeco(u,f,e.changes);return r=ChangedRange.extendWithRanges(r,d),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,c),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:a}=this.view;a.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let u=browser.chrome||browser.ios?{node:a.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,u),this.flags&=-8,u&&(u.written||a.selectionRange.focusNode!=u.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(u=>u.flags&=-9);let c=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let u of this.children)u instanceof BlockWidgetView&&u.widget instanceof BlockGapWidget&&c.push(u.dom);a.updateGaps(c)}updateChildren(e,n,r){let a=r?r.range.addToSet(e.slice()):e,c=this.childCursor(n);for(let u=a.length-1;;u--){let f=u>=0?a[u]:null;if(!f)break;let{fromA:d,toA:O,fromB:g,toB:x}=f,T,E,R,M;if(r&&r.range.fromB<x&&r.range.toB>g){let G=ContentBuilder.build(this.view.state.doc,g,r.range.fromB,this.decorations,this.dynamicDecorationMap),L=ContentBuilder.build(this.view.state.doc,r.range.toB,x,this.decorations,this.dynamicDecorationMap);E=G.breakAtStart,R=G.openStart,M=L.openEnd;let I=this.compositionView(r);L.breakAtStart?I.breakAfter=1:L.content.length&&I.merge(I.length,I.length,L.content[0],!1,L.openStart,0)&&(I.breakAfter=L.content[0].breakAfter,L.content.shift()),G.content.length&&I.merge(0,0,G.content[G.content.length-1],!0,0,G.openEnd)&&G.content.pop(),T=G.content.concat(I).concat(L.content)}else({content:T,breakAtStart:E,openStart:R,openEnd:M}=ContentBuilder.build(this.view.state.doc,g,x,this.decorations,this.dynamicDecorationMap));let{i:$,off:V}=c.findPos(O,1),{i:X,off:Y}=c.findPos(d,-1);replaceRange(this,X,Y,$,V,T,E,R,M)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(setEditContextFormatting)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new TextView(e.text.nodeValue);n.flags|=8;for(let{deco:a}of e.marks)n=new MarkView(a,[n],n.length);let r=new LineView;return r.append(n,0),r}fixCompositionDOM(e){let n=(c,u)=>{u.flags|=8|(u.children.some(d=>d.flags&7)?1:0),this.markedForComposition.add(u);let f=ContentView.get(c);f&&f!=u&&(f.dom=null),u.setDOM(c)},r=this.childPos(e.range.fromB,1),a=this.children[r.i];n(e.line,a);for(let c=e.marks.length-1;c>=-1;c--)r=a.childPos(r.off,1),a=a.children[r.i],n(c>=0?e.marks[c].node:e.text,a)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,a=r==this.dom,c=!a&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(a||n||c))return;let u=this.forceSelection;this.forceSelection=!1;let f=this.view.state.selection.main,d=this.moveToLine(this.domAtPos(f.anchor)),O=f.empty?d:this.moveToLine(this.domAtPos(f.head));if(browser.gecko&&f.empty&&!this.hasComposition&&betweenUneditable(d)){let x=document.createTextNode("");this.view.observer.ignore(()=>d.node.insertBefore(x,d.node.childNodes[d.offset]||null)),d=O=new DOMPos(x,0),u=!0}let g=this.view.observer.selectionRange;(u||!g.focusNode||(!isEquivalentPosition(d.node,d.offset,g.anchorNode,g.anchorOffset)||!isEquivalentPosition(O.node,O.offset,g.focusNode,g.focusOffset))&&!this.suppressWidgetCursorChange(g,f))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(g.focusNode)&&inUneditable(g.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let x=getSelection(this.view.root);if(x)if(f.empty){if(browser.gecko){let T=nextToUneditable(d.node,d.offset);if(T&&T!=3){let E=(T==1?textNodeBefore:textNodeAfter)(d.node,d.offset);E&&(d=new DOMPos(E.node,E.offset))}}x.collapse(d.node,d.offset),f.bidiLevel!=null&&x.caretBidiLevel!==void 0&&(x.caretBidiLevel=f.bidiLevel)}else if(x.extend){x.collapse(d.node,d.offset);try{x.extend(O.node,O.offset)}catch{}}else{let T=document.createRange();f.anchor>f.head&&([d,O]=[O,d]),T.setEnd(O.node,O.offset),T.setStart(d.node,d.offset),x.removeAllRanges(),x.addRange(T)}c&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(d,O)),this.impreciseAnchor=d.precise?null:new DOMPos(g.anchorNode,g.anchorOffset),this.impreciseHead=O.precise?null:new DOMPos(g.focusNode,g.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=getSelection(e.root),{anchorNode:a,anchorOffset:c}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let u=LineView.find(this,n.head);if(!u)return;let f=u.posAtStart;if(n.head==f||n.head==f+u.length)return;let d=this.coordsAt(n.head,-1),O=this.coordsAt(n.head,1);if(!d||!O||d.bottom>O.top)return;let g=this.domAtPos(n.head+n.assoc);r.collapse(g.node,g.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let x=e.observer.selectionRange;e.docView.posFromDOM(x.anchorNode,x.anchorOffset)!=n.from&&r.collapse(a,c)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let a=e.offset;!r&&a<n.childNodes.length;a++){let c=ContentView.get(n.childNodes[a]);c instanceof LineView&&(r=c.domAtPos(0))}for(let a=e.offset-1;!r&&a>=0;a--){let c=ContentView.get(n.childNodes[a]);c instanceof LineView&&(r=c.domAtPos(c.length))}return r?new DOMPos(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=ContentView.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let a=this.children[n];if(r<a.length||a instanceof LineView)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,a=0;for(let c=this.length,u=this.children.length-1;u>=0;u--){let f=this.children[u],d=c-f.breakAfter,O=d-f.length;if(d<e)break;if(O<=e&&(O<e||f.covers(-1))&&(d>e||f.covers(1))&&(!r||f instanceof LineView&&!(r instanceof LineView&&n>=0)))r=f,a=O;else if(r&&O==e&&d==e&&f instanceof BlockWidgetView&&Math.abs(n)<2){if(f.deco.startSide<0)break;u&&(r=null)}c=O}return r?r.coordsAt(e-a,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),a=this.children[n];if(!(a instanceof LineView))return null;for(;a.children.length;){let{i:f,off:d}=a.childPos(r,1);for(;;f++){if(f==a.children.length)return null;if((a=a.children[f]).length)break}r=d}if(!(a instanceof TextView))return null;let c=findClusterBreak(a.text,r);if(c==r)return null;let u=textRange(a.dom,r,c).getClientRects();for(let f=0;f<u.length;f++){let d=u[f];if(f==u.length-1||d.top<d.bottom&&d.left<d.right)return d}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:a}=e,c=this.view.contentDOM.clientWidth,u=c>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,f=-1,d=this.view.textDirection==Direction.LTR;for(let O=0,g=0;g<this.children.length;g++){let x=this.children[g],T=O+x.length;if(T>a)break;if(O>=r){let E=x.dom.getBoundingClientRect();if(n.push(E.height),u){let R=x.dom.lastChild,M=R?clientRectsFor(R):[];if(M.length){let $=M[M.length-1],V=d?$.right-E.left:E.right-$.left;V>f&&(f=V,this.minWidth=c,this.minWidthFrom=O,this.minWidthTo=T)}}}O=T+x.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let c of this.children)if(c instanceof LineView){let u=c.measureTextSize();if(u)return u}let e=document.createElement("div"),n,r,a;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let c=clientRectsFor(e.firstChild)[0];n=e.getBoundingClientRect().height,r=c?c.width/27:7,a=c?c.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:a}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new ChildCursor(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,a=0;;a++){let c=a==n.viewports.length?null:n.viewports[a],u=c?c.from-1:this.length;if(u>r){let f=(n.lineBlockAt(u).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Decoration.replace({widget:new BlockGapWidget(f),block:!0,inclusive:!0,isBlockGap:!0}).range(r,u))}if(!c)break;r=c.to+1}return Decoration.set(e)}updateDeco(){let e=1,n=this.view.state.facet(decorations).map(c=>(this.dynamicDecorationMap[e++]=typeof c=="function")?c(this.view):c),r=!1,a=this.view.state.facet(outerDecorations).map((c,u)=>{let f=typeof c=="function";return f&&(r=!0),f?c(this.view):c});for(a.length&&(this.dynamicDecorationMap[e++]=r,n.push(RangeSet.join(a))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let O=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=O.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let O of this.view.state.facet(scrollHandler))try{if(O(this.view,e.range,e))return!0}catch(g){logException(this.view.state,g,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),a;if(!r)return;!n.empty&&(a=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,a.left),top:Math.min(r.top,a.top),right:Math.max(r.right,a.right),bottom:Math.max(r.bottom,a.bottom)});let c=getScrollMargins(this.view),u={left:r.left-c.left,top:r.top-c.top,right:r.right+c.right,bottom:r.bottom+c.bottom},{offsetWidth:f,offsetHeight:d}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,u,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,f),-f),Math.max(Math.min(e.yMargin,d),-d),this.view.textDirection==Direction.LTR)}}function betweenUneditable(s){return s.node.nodeType==1&&s.node.firstChild&&(s.offset==0||s.node.childNodes[s.offset-1].contentEditable=="false")&&(s.offset==s.node.childNodes.length||s.node.childNodes[s.offset].contentEditable=="false")}function findCompositionNode(s,e){let n=s.observer.selectionRange;if(!n.focusNode)return null;let r=textNodeBefore(n.focusNode,n.focusOffset),a=textNodeAfter(n.focusNode,n.focusOffset),c=r||a;if(a&&r&&a.node!=r.node){let f=ContentView.get(a.node);if(!f||f instanceof TextView&&f.text!=a.node.nodeValue)c=a;else if(s.docView.lastCompositionAfterCursor){let d=ContentView.get(r.node);!d||d instanceof TextView&&d.text!=r.node.nodeValue||(c=a)}}if(s.docView.lastCompositionAfterCursor=c!=r,!c)return null;let u=e-c.offset;return{from:u,to:u+c.node.nodeValue.length,node:c.node}}function findCompositionRange(s,e,n){let r=findCompositionNode(s,n);if(!r)return null;let{node:a,from:c,to:u}=r,f=a.nodeValue;if(/[\n\r]/.test(f)||s.state.doc.sliceString(r.from,r.to)!=f)return null;let d=e.invertedDesc,O=new ChangedRange(d.mapPos(c),d.mapPos(u),c,u),g=[];for(let x=a.parentNode;;x=x.parentNode){let T=ContentView.get(x);if(T instanceof MarkView)g.push({node:x,deco:T.mark});else{if(T instanceof LineView||x.nodeName=="DIV"&&x.parentNode==s.contentDOM)return{range:O,text:a,marks:g,line:x};if(x!=s.contentDOM)g.push({node:x,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs$1(x),tagName:x.tagName.toLowerCase()})});else return null}}}function nextToUneditable(s,e){return s.nodeType!=1?0:(e&&s.childNodes[e-1].contentEditable=="false"?1:0)|(e<s.childNodes.length&&s.childNodes[e].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(e,n){addRange(e,n,this.changes)}comparePoint(e,n){addRange(e,n,this.changes)}boundChange(e){addRange(e,e,this.changes)}};function findChangedDeco(s,e,n){let r=new DecorationComparator$1;return RangeSet.compare(s,e,n,r),r.changes}function inUneditable(s,e){for(let n=s;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function touchesComposition(s,e){let n=!1;return e&&s.iterChangedRanges((r,a)=>{r<e.to&&a>e.from&&(n=!0)}),n}function groupAt(s,e,n=1){let r=s.charCategorizer(e),a=s.doc.lineAt(e),c=e-a.from;if(a.length==0)return EditorSelection.cursor(e);c==0?n=1:c==a.length&&(n=-1);let u=c,f=c;n<0?u=findClusterBreak(a.text,c,!1):f=findClusterBreak(a.text,c);let d=r(a.text.slice(u,f));for(;u>0;){let O=findClusterBreak(a.text,u,!1);if(r(a.text.slice(O,u))!=d)break;u=O}for(;f<a.length;){let O=findClusterBreak(a.text,f);if(r(a.text.slice(f,O))!=d)break;f=O}return EditorSelection.range(u+a.from,f+a.from)}function getdx(s,e){return e.left>s?e.left-s:Math.max(0,s-e.right)}function getdy(s,e){return e.top>s?e.top-s:Math.max(0,s-e.bottom)}function yOverlap(s,e){return s.top<e.bottom-1&&s.bottom>e.top+1}function upTop(s,e){return e<s.top?{top:e,left:s.left,right:s.right,bottom:s.bottom}:s}function upBot(s,e){return e>s.bottom?{top:s.top,left:s.left,right:s.right,bottom:e}:s}function domPosAtCoords(s,e,n){let r,a,c,u,f=!1,d,O,g,x;for(let R=s.firstChild;R;R=R.nextSibling){let M=clientRectsFor(R);for(let $=0;$<M.length;$++){let V=M[$];a&&yOverlap(a,V)&&(V=upTop(upBot(V,a.bottom),a.top));let X=getdx(e,V),Y=getdy(n,V);if(X==0&&Y==0)return R.nodeType==3?domPosInText(R,e,n):domPosAtCoords(R,e,n);(!r||u>Y||u==Y&&c>X)&&(r=R,a=V,c=X,u=Y,f=X?e<V.left?$>0:$<M.length-1:!0),X==0?n>V.bottom&&(!g||g.bottom<V.bottom)?(d=R,g=V):n<V.top&&(!x||x.top>V.top)&&(O=R,x=V):g&&yOverlap(g,V)?g=upBot(g,V.bottom):x&&yOverlap(x,V)&&(x=upTop(x,V.top))}}if(g&&g.bottom>=n?(r=d,a=g):x&&x.top<=n&&(r=O,a=x),!r)return{node:s,offset:0};let T=Math.max(a.left,Math.min(a.right,e));if(r.nodeType==3)return domPosInText(r,T,n);if(f&&r.contentEditable!="false")return domPosAtCoords(r,T,n);let E=Array.prototype.indexOf.call(s.childNodes,r)+(e>=(a.left+a.right)/2?1:0);return{node:s,offset:E}}function domPosInText(s,e,n){let r=s.nodeValue.length,a=-1,c=1e9,u=0;for(let f=0;f<r;f++){let d=textRange(s,f,f+1).getClientRects();for(let O=0;O<d.length;O++){let g=d[O];if(g.top==g.bottom)continue;u||(u=e-g.left);let x=(g.top>n?g.top-n:n-g.bottom)-1;if(g.left-1<=e&&g.right+1>=e&&x<c){let T=e>=(g.left+g.right)/2,E=T;if((browser.chrome||browser.gecko)&&textRange(s,f).getBoundingClientRect().left==g.right&&(E=!T),x<=0)return{node:s,offset:f+(E?1:0)};a=f+(E?1:0),c=x}}}return{node:s,offset:a>-1?a:u>0?s.nodeValue.length:0}}function posAtCoords(s,e,n,r=-1){var a,c;let u=s.contentDOM.getBoundingClientRect(),f=u.top+s.viewState.paddingTop,d,{docHeight:O}=s.viewState,{x:g,y:x}=e,T=x-f;if(T<0)return 0;if(T>O)return s.state.doc.length;for(let G=s.viewState.heightOracle.textHeight/2,L=!1;d=s.elementAtHeight(T),d.type!=BlockType.Text;)for(;T=r>0?d.bottom+G:d.top-G,!(T>=0&&T<=O);){if(L)return n?null:0;L=!0,r=-r}x=f+T;let E=d.from;if(E<s.viewport.from)return s.viewport.from==0?0:n?null:posAtCoordsImprecise(s,u,d,g,x);if(E>s.viewport.to)return s.viewport.to==s.state.doc.length?s.state.doc.length:n?null:posAtCoordsImprecise(s,u,d,g,x);let R=s.dom.ownerDocument,M=s.root.elementFromPoint?s.root:R,$=M.elementFromPoint(g,x);$&&!s.contentDOM.contains($)&&($=null),$||(g=Math.max(u.left+1,Math.min(u.right-1,g)),$=M.elementFromPoint(g,x),$&&!s.contentDOM.contains($)&&($=null));let V,X=-1;if($&&((a=s.docView.nearest($))===null||a===void 0?void 0:a.isEditable)!=!1){if(R.caretPositionFromPoint){let G=R.caretPositionFromPoint(g,x);G&&({offsetNode:V,offset:X}=G)}else if(R.caretRangeFromPoint){let G=R.caretRangeFromPoint(g,x);G&&({startContainer:V,startOffset:X}=G,(!s.contentDOM.contains(V)||browser.safari&&isSuspiciousSafariCaretResult(V,X,g)||browser.chrome&&isSuspiciousChromeCaretResult(V,X,g))&&(V=void 0))}V&&(X=Math.min(maxOffset(V),X))}if(!V||!s.docView.dom.contains(V)){let G=LineView.find(s.docView,E);if(!G)return T>d.top+d.height/2?d.to:d.from;({node:V,offset:X}=domPosAtCoords(G.dom,g,x))}let Y=s.docView.nearest(V);if(!Y)return null;if(Y.isWidget&&((c=Y.dom)===null||c===void 0?void 0:c.nodeType)==1){let G=Y.dom.getBoundingClientRect();return e.y<G.top||e.y<=G.bottom&&e.x<=(G.left+G.right)/2?Y.posAtStart:Y.posAtEnd}else return Y.localPosFromDOM(V,X)+Y.posAtStart}function posAtCoordsImprecise(s,e,n,r,a){let c=Math.round((r-e.left)*s.defaultCharacterWidth);if(s.lineWrapping&&n.height>s.defaultLineHeight*1.5){let f=s.viewState.heightOracle.textHeight,d=Math.floor((a-n.top-(s.defaultLineHeight-f)*.5)/f);c+=d*s.viewState.heightOracle.lineLength}let u=s.state.sliceDoc(n.from,n.to);return n.from+findColumn(u,c,s.state.tabSize)}function isSuspiciousSafariCaretResult(s,e,n){let r,a=s;if(s.nodeType!=3||e!=(r=s.nodeValue.length))return!1;for(;;){let c=a.nextSibling;if(c){if(c.nodeName=="BR")break;return!1}else{let u=a.parentNode;if(!u||u.nodeName=="DIV")break;a=u}}return textRange(s,r-1,r).getBoundingClientRect().right>n}function isSuspiciousChromeCaretResult(s,e,n){if(e!=0)return!1;for(let a=s;;){let c=a.parentNode;if(!c||c.nodeType!=1||c.firstChild!=a)return!1;if(c.classList.contains("cm-line"))break;a=c}let r=s.nodeType==1?s.getBoundingClientRect():textRange(s,0,Math.max(s.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function blockAt(s,e,n){let r=s.lineBlockAt(e);if(Array.isArray(r.type)){let a;for(let c of r.type){if(c.from>e)break;if(!(c.to<e)){if(c.from<e&&c.to>e)return c;(!a||c.type==BlockType.Text&&(a.type!=c.type||(n<0?c.from<e:c.to>e)))&&(a=c)}}return a||r}return r}function moveToLineBoundary(s,e,n,r){let a=blockAt(s,e.head,e.assoc||-1),c=!r||a.type!=BlockType.Text||!(s.lineWrapping||a.widgetLineBreaks)?null:s.coordsAtPos(e.assoc<0&&e.head>a.from?e.head-1:e.head);if(c){let u=s.dom.getBoundingClientRect(),f=s.textDirectionAt(a.from),d=s.posAtCoords({x:n==(f==Direction.LTR)?u.right-1:u.left+1,y:(c.top+c.bottom)/2});if(d!=null)return EditorSelection.cursor(d,n?-1:1)}return EditorSelection.cursor(n?a.to:a.from,n?-1:1)}function moveByChar(s,e,n,r){let a=s.state.doc.lineAt(e.head),c=s.bidiSpans(a),u=s.textDirectionAt(a.from);for(let f=e,d=null;;){let O=moveVisually(a,c,u,f,n),g=movedOver;if(!O){if(a.number==(n?s.state.doc.lines:1))return f;g=`
`,a=s.state.doc.line(a.number+(n?1:-1)),c=s.bidiSpans(a),O=s.visualLineSide(a,!n)}if(d){if(!d(g))return f}else{if(!r)return O;d=r(g)}f=O}}function byGroup(s,e,n){let r=s.state.charCategorizer(e),a=r(n);return c=>{let u=r(c);return a==CharCategory.Space&&(a=u),a==u}}function moveVertically(s,e,n,r){let a=e.head,c=n?1:-1;if(a==(n?s.state.doc.length:0))return EditorSelection.cursor(a,e.assoc);let u=e.goalColumn,f,d=s.contentDOM.getBoundingClientRect(),O=s.coordsAtPos(a,e.assoc||-1),g=s.documentTop;if(O)u==null&&(u=O.left-d.left),f=c<0?O.top:O.bottom;else{let E=s.viewState.lineBlockAt(a);u==null&&(u=Math.min(d.right-d.left,s.defaultCharacterWidth*(a-E.from))),f=(c<0?E.top:E.bottom)+g}let x=d.left+u,T=r??s.viewState.heightOracle.textHeight>>1;for(let E=0;;E+=10){let R=f+(T+E)*c,M=posAtCoords(s,{x,y:R},!1,c);if(R<d.top||R>d.bottom||(c<0?M<a:M>a)){let $=s.docView.coordsForChar(M),V=!$||R<$.top?-1:1;return EditorSelection.cursor(M,V,void 0,u)}}}function skipAtomicRanges(s,e,n){for(;;){let r=0;for(let a of s)a.between(e-1,e+1,(c,u,f)=>{if(e>c&&e<u){let d=r||n||(e-c<u-e?-1:1);e=d<0?c:u,r=d}});if(!r)return e}}function skipAtoms(s,e,n){let r=skipAtomicRanges(s.state.facet(atomicRanges).map(a=>a(s)),n.from,e.head>n.from?-1:1);return r==n.from?n:EditorSelection.cursor(r,r<n.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let a=e;;){this.findPointBefore(r,a);let c=this.text.length;this.readNode(a);let u=a.nextSibling;if(u==n)break;let f=ContentView.get(a),d=ContentView.get(u);(f&&d?f.breakAfter:(f?f.breakAfter:isBlockElement(a))||isBlockElement(u)&&(a.nodeName!="BR"||a.cmIgnore)&&this.text.length>c)&&this.lineBreak(),a=u}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){let c=-1,u=1,f;if(this.lineSeparator?(c=n.indexOf(this.lineSeparator,r),u=this.lineSeparator.length):(f=a.exec(n))&&(c=f.index,u=f[0].length),this.append(n.slice(r,c<0?n.length:c)),c<0)break;if(this.lineBreak(),u>1)for(let d of this.points)d.node==e&&d.pos>this.text.length&&(d.pos-=u-1);r=c+u}}readNode(e){if(e.cmIgnore)return;let n=ContentView.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let a=r.iter();!a.next().done;)a.lineBreak?this.lineBreak():this.append(a.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(isAtEnd(e,r.node,r.offset)?n:0))}}function isAtEnd(s,e,n){for(;;){if(!e||n<maxOffset(e))return!1;if(e==s)return!0;n=domIndex(e)+1,e=e.parentNode}}class DOMPoint{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class DOMChange{constructor(e,n,r,a){this.typeOver=a,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:c,impreciseAnchor:u}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let f=c||u?[]:selectionPoints(e),d=new DOMReader(f,e.state);d.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=d.text,this.newSel=selectionFromPoints(f,this.bounds.from)}else{let f=e.observer.selectionRange,d=c&&c.node==f.focusNode&&c.offset==f.focusOffset||!contains(e.contentDOM,f.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(f.focusNode,f.focusOffset),O=u&&u.node==f.anchorNode&&u.offset==f.anchorOffset||!contains(e.contentDOM,f.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(f.anchorNode,f.anchorOffset),g=e.viewport;if((browser.ios||browser.chrome)&&e.state.selection.main.empty&&d!=O&&(g.from>0||g.to<e.state.doc.length)){let x=Math.min(d,O),T=Math.max(d,O),E=g.from-x,R=g.to-T;(E==0||E==1||x==0)&&(R==0||R==-1||T==e.state.doc.length)&&(d=0,O=e.state.doc.length)}this.newSel=EditorSelection.single(O,d)}}}function applyDOMChange(s,e){let n,{newSel:r}=e,a=s.state.selection.main,c=s.inputState.lastKeyTime>Date.now()-100?s.inputState.lastKeyCode:-1;if(e.bounds){let{from:u,to:f}=e.bounds,d=a.from,O=null;(c===8||browser.android&&e.text.length<f-u)&&(d=a.to,O="end");let g=findDiff(s.state.doc.sliceString(u,f,LineBreakPlaceholder),e.text,d-u,O);g&&(browser.chrome&&c==13&&g.toB==g.from+2&&e.text.slice(g.from,g.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&g.toB--,n={from:u+g.from,to:u+g.toA,insert:Text$1.of(e.text.slice(g.from,g.toB).split(LineBreakPlaceholder))})}else r&&(!s.hasFocus&&s.state.facet(editable)||r.main.eq(a))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!a.empty&&r&&r.main.empty?n={from:a.from,to:a.to,insert:s.state.doc.slice(a.from,a.to)}:(browser.mac||browser.android)&&n&&n.from==n.to&&n.from==a.head-1&&/^\. ?$/.test(n.insert.toString())&&s.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=EditorSelection.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Text$1.of([n.insert.toString().replace("."," ")])}):n&&n.from>=a.from&&n.to<=a.to&&(n.from!=a.from||n.to!=a.to)&&a.to-a.from-(n.to-n.from)<=4?n={from:a.from,to:a.to,insert:s.state.doc.slice(a.from,n.from).append(n.insert).append(s.state.doc.slice(n.to,a.to))}:browser.chrome&&n&&n.from==n.to&&n.from==a.head&&n.insert.toString()==`
 `&&s.lineWrapping&&(r&&(r=EditorSelection.single(r.main.anchor-1,r.main.head-1)),n={from:a.from,to:a.to,insert:Text$1.of([" "])}),n)return applyDOMChangeInner(s,n,r,c);if(r&&!r.main.eq(a)){let u=!1,f="select";return s.inputState.lastSelectionTime>Date.now()-50&&(s.inputState.lastSelectionOrigin=="select"&&(u=!0),f=s.inputState.lastSelectionOrigin),s.dispatch({selection:r,scrollIntoView:u,userEvent:f}),!0}else return!1}function applyDOMChangeInner(s,e,n,r=-1){if(browser.ios&&s.inputState.flushIOSKey(e))return!0;let a=s.state.selection.main;if(browser.android&&(e.to==a.to&&(e.from==a.from||e.from==a.from-1&&s.state.sliceDoc(e.from,a.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&dispatchKey(s.contentDOM,"Enter",13)||(e.from==a.from-1&&e.to==a.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>a.head)&&dispatchKey(s.contentDOM,"Backspace",8)||e.from==a.from&&e.to==a.to+1&&e.insert.length==0&&dispatchKey(s.contentDOM,"Delete",46)))return!0;let c=e.insert.toString();s.inputState.composing>=0&&s.inputState.composing++;let u,f=()=>u||(u=applyDefaultInsert(s,e,n));return s.state.facet(inputHandler$1).some(d=>d(s,e.from,e.to,c,f))||s.dispatch(f()),!0}function applyDefaultInsert(s,e,n){let r,a=s.state,c=a.selection.main;if(e.from>=c.from&&e.to<=c.to&&e.to-e.from>=(c.to-c.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&s.inputState.composing<0){let f=c.from<e.from?a.sliceDoc(c.from,e.from):"",d=c.to>e.to?a.sliceDoc(e.to,c.to):"";r=a.replaceSelection(s.state.toText(f+e.insert.sliceString(0,void 0,s.state.lineBreak)+d))}else{let f=a.changes(e),d=n&&n.main.to<=f.newLength?n.main:void 0;if(a.selection.ranges.length>1&&s.inputState.composing>=0&&e.to<=c.to&&e.to>=c.to-10){let O=s.state.sliceDoc(e.from,e.to),g,x=n&&findCompositionNode(s,n.main.head);if(x){let R=e.insert.length-(e.to-e.from);g={from:x.from,to:x.to-R}}else g=s.state.doc.lineAt(c.head);let T=c.to-e.to,E=c.to-c.from;r=a.changeByRange(R=>{if(R.from==c.from&&R.to==c.to)return{changes:f,range:d||R.map(f)};let M=R.to-T,$=M-O.length;if(R.to-R.from!=E||s.state.sliceDoc($,M)!=O||R.to>=g.from&&R.from<=g.to)return{range:R};let V=a.changes({from:$,to:M,insert:e.insert}),X=R.to-c.to;return{changes:V,range:d?EditorSelection.range(Math.max(0,d.anchor+X),Math.max(0,d.head+X)):R.map(V)}})}else r={changes:f,selection:d&&a.selection.replaceRange(d)}}let u="input.type";return(s.composing||s.inputState.compositionPendingChange&&s.inputState.compositionEndedAt>Date.now()-50)&&(s.inputState.compositionPendingChange=!1,u+=".compose",s.inputState.compositionFirstChange&&(u+=".start",s.inputState.compositionFirstChange=!1)),a.update(r,{userEvent:u,scrollIntoView:!0})}function findDiff(s,e,n,r){let a=Math.min(s.length,e.length),c=0;for(;c<a&&s.charCodeAt(c)==e.charCodeAt(c);)c++;if(c==a&&s.length==e.length)return null;let u=s.length,f=e.length;for(;u>0&&f>0&&s.charCodeAt(u-1)==e.charCodeAt(f-1);)u--,f--;if(r=="end"){let d=Math.max(0,c-Math.min(u,f));n-=u+d-c}if(u<c&&s.length<e.length){let d=n<=c&&n>=u?c-n:0;c-=d,f=c+(f-u),u=c}else if(f<c){let d=n<=c&&n>=f?c-n:0;c-=d,u=c+(u-f),f=c}return{from:c,toA:u,toB:f}}function selectionPoints(s){let e=[];if(s.root.activeElement!=s.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:c}=s.observer.selectionRange;return n&&(e.push(new DOMPoint(n,r)),(a!=n||c!=r)&&e.push(new DOMPoint(a,c))),e}function selectionFromPoints(s,e){if(s.length==0)return null;let n=s[0].pos,r=s.length==2?s[1].pos:n;return n>-1&&r>-1?EditorSelection.single(n+e,r+e):null}class InputState{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,browser.safari&&e.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(e.contentDOM.ownerDocument)}handleEvent(e){!eventBelongsToEditor(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let a of r.observers)a(this.view,n);for(let a of r.handlers){if(n.defaultPrevented)break;if(a(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=computeHandlers(e),r=this.handlers,a=this.view.contentDOM;for(let c in n)if(c!="scroll"){let u=!n[c].handlers.length,f=r[c];f&&u!=!f.handlers.length&&(a.removeEventListener(c,this.handleEvent),f=null),f||a.addEventListener(c,this.handleEvent,{passive:u})}for(let c in r)c!="scroll"&&!n[c]&&a.removeEventListener(c,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&modifierCodes.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return browser.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=PendingKeys.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||EmacsyPendingKeys.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(s,e){return(n,r)=>{try{return e.call(s,r,n)}catch(a){logException(n.state,a)}}}function computeHandlers(s){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of s){let a=r.spec,c=a&&a.plugin.domEventHandlers,u=a&&a.plugin.domEventObservers;if(c)for(let f in c){let d=c[f];d&&n(f).handlers.push(bindHandler(r.value,d))}if(u)for(let f in u){let d=u[f];d&&n(f).observers.push(bindHandler(r.value,d))}}for(let r in handlers)n(r).handlers.push(handlers[r]);for(let r in observers)n(r).observers.push(observers[r]);return e}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(s){return Math.max(0,s)*.7+8}function dist(s,e){return Math.max(Math.abs(s.clientX-e.clientX),Math.abs(s.clientY-e.clientY))}class MouseSelection{constructor(e,n,r,a){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=a,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=scrollableParents(e.contentDOM),this.atoms=e.state.facet(atomicRanges).map(u=>u(e));let c=e.contentDOM.ownerDocument;c.addEventListener("mousemove",this.move=this.move.bind(this)),c.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,n),this.dragging=isInPrimarySelection(e,n)&&getClickType(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,a=0,c=0,u=this.view.win.innerWidth,f=this.view.win.innerHeight;this.scrollParents.x&&({left:a,right:u}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:c,bottom:f}=this.scrollParents.y.getBoundingClientRect());let d=getScrollMargins(this.view);e.clientX-d.left<=a+dragScrollMargin?n=-dragScrollSpeed(a-e.clientX):e.clientX+d.right>=u-dragScrollMargin&&(n=dragScrollSpeed(e.clientX-u)),e.clientY-d.top<=c+dragScrollMargin?r=-dragScrollSpeed(c-e.clientY):e.clientY+d.bottom>=f-dragScrollMargin&&(r=dragScrollSpeed(e.clientY-f)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let a=e.ranges[r],c=null;if(a.empty){let u=skipAtomicRanges(this.atoms,a.from,0);u!=a.from&&(c=EditorSelection.cursor(u,-1))}else{let u=skipAtomicRanges(this.atoms,a.from,-1),f=skipAtomicRanges(this.atoms,a.to,1);(u!=a.from||f!=a.to)&&(c=EditorSelection.range(a.from==a.anchor?u:f,a.from==a.head?u:f))}c&&(n||(n=e.ranges.slice()),n[r]=c)}return n?EditorSelection.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(s,e){let n=s.state.facet(clickAddsSelectionRange);return n.length?n[0](e):browser.mac?e.metaKey:e.ctrlKey}function dragMovesSelection(s,e){let n=s.state.facet(dragMovesSelection$1);return n.length?n[0](e):browser.mac?!e.altKey:!e.ctrlKey}function isInPrimarySelection(s,e){let{main:n}=s.state.selection;if(n.empty)return!1;let r=getSelection(s.root);if(!r||r.rangeCount==0)return!0;let a=r.getRangeAt(0).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.left<=e.clientX&&u.right>=e.clientX&&u.top<=e.clientY&&u.bottom>=e.clientY)return!0}return!1}function eventBelongsToEditor(s,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=s.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=ContentView.get(n))&&r.ignoreEvent(e))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(s){let e=s.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{s.focus(),n.remove(),doPaste(s,n.value)},50)}function textFilter(s,e,n){for(let r of s.facet(e))n=r(n,s);return n}function doPaste(s,e){e=textFilter(s.state,clipboardInputFilter,e);let{state:n}=s,r,a=1,c=n.toText(e),u=c.lines==n.selection.ranges.length;if(lastLinewiseCopy!=null&&n.selection.ranges.every(d=>d.empty)&&lastLinewiseCopy==c.toString()){let d=-1;r=n.changeByRange(O=>{let g=n.doc.lineAt(O.from);if(g.from==d)return{range:O};d=g.from;let x=n.toText((u?c.line(a++).text:e)+n.lineBreak);return{changes:{from:g.from,insert:x},range:EditorSelection.cursor(O.from+x.length)}})}else u?r=n.changeByRange(d=>{let O=c.line(a++);return{changes:{from:d.from,to:d.to,insert:O.text},range:EditorSelection.cursor(d.from+O.length)}}):r=n.replaceSelection(c);s.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=s=>{s.inputState.lastScrollTop=s.scrollDOM.scrollTop,s.inputState.lastScrollLeft=s.scrollDOM.scrollLeft};handlers.keydown=(s,e)=>(s.inputState.setSelectionOrigin("select"),e.keyCode==27&&s.inputState.tabFocusMode!=0&&(s.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(s,e)=>{s.inputState.lastTouchTime=Date.now(),s.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=s=>{s.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(s,e)=>{if(s.observer.flush(),s.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of s.state.facet(mouseSelectionStyle))if(n=r(s,e),n)break;if(!n&&e.button==0&&(n=basicMouseSelection(s,e)),n){let r=!s.hasFocus;s.inputState.startMouseSelection(new MouseSelection(s,e,n,r)),r&&s.observer.ignore(()=>{focusPreventScroll(s.contentDOM);let c=s.root.activeElement;c&&!c.contains(s.contentDOM)&&c.blur()});let a=s.inputState.mouseSelection;if(a)return a.start(e),a.dragging===!1}return!1};function rangeForClick(s,e,n,r){if(r==1)return EditorSelection.cursor(e,n);if(r==2)return groupAt(s.state,e,n);{let a=LineView.find(s.docView,e),c=s.state.doc.lineAt(a?a.posAtEnd:e),u=a?a.posAtStart:c.from,f=a?a.posAtEnd:c.to;return f<s.state.doc.length&&f==c.to&&f++,EditorSelection.range(u,f)}}let inside=(s,e,n)=>e>=n.top&&e<=n.bottom&&s>=n.left&&s<=n.right;function findPositionSide(s,e,n,r){let a=LineView.find(s.docView,e);if(!a)return 1;let c=e-a.posAtStart;if(c==0)return 1;if(c==a.length)return-1;let u=a.coordsAt(c,-1);if(u&&inside(n,r,u))return-1;let f=a.coordsAt(c,1);return f&&inside(n,r,f)?1:u&&u.bottom>=r?-1:1}function queryPos(s,e){let n=s.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:findPositionSide(s,n,e.clientX,e.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(s){if(!BadMouseDetail)return s.detail;let e=lastMouseDown,n=lastMouseDownTime;return lastMouseDown=s,lastMouseDownTime=Date.now(),lastMouseDownCount=!e||n>Date.now()-400&&Math.abs(e.clientX-s.clientX)<2&&Math.abs(e.clientY-s.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(s,e){let n=queryPos(s,e),r=getClickType(e),a=s.state.selection;return{update(c){c.docChanged&&(n.pos=c.changes.mapPos(n.pos),a=a.map(c.changes))},get(c,u,f){let d=queryPos(s,c),O,g=rangeForClick(s,d.pos,d.bias,r);if(n.pos!=d.pos&&!u){let x=rangeForClick(s,n.pos,n.bias,r),T=Math.min(x.from,g.from),E=Math.max(x.to,g.to);g=T<g.from?EditorSelection.range(T,E):EditorSelection.range(E,T)}return u?a.replaceRange(a.main.extend(g.from,g.to)):f&&r==1&&a.ranges.length>1&&(O=removeRangeAround(a,d.pos))?O:f?a.addRange(g):EditorSelection.create([g])}}}function removeRangeAround(s,e){for(let n=0;n<s.ranges.length;n++){let{from:r,to:a}=s.ranges[n];if(r<=e&&a>=e)return EditorSelection.create(s.ranges.slice(0,n).concat(s.ranges.slice(n+1)),s.mainIndex==n?0:s.mainIndex-(s.mainIndex>n?1:0))}return null}handlers.dragstart=(s,e)=>{let{selection:{main:n}}=s.state;if(e.target.draggable){let a=s.docView.nearest(e.target);if(a&&a.isWidget){let c=a.posAtStart,u=c+a.length;(c>=n.to||u<=n.from)&&(n=EditorSelection.range(c,u))}}let{inputState:r}=s;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",textFilter(s.state,clipboardOutputFilter,s.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=s=>(s.inputState.draggedContent=null,!1);function dropText(s,e,n,r){if(n=textFilter(s.state,clipboardInputFilter,n),!n)return;let a=s.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:c}=s.inputState,u=r&&c&&dragMovesSelection(s,e)?{from:c.from,to:c.to}:null,f={from:a,insert:n},d=s.state.changes(u?[u,f]:f);s.focus(),s.dispatch({changes:d,selection:{anchor:d.mapPos(a,-1),head:d.mapPos(a,1)},userEvent:u?"move.drop":"input.drop"}),s.inputState.draggedContent=null}handlers.drop=(s,e)=>{if(!e.dataTransfer)return!1;if(s.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),a=0,c=()=>{++a==n.length&&dropText(s,e,r.filter(u=>u!=null).join(s.state.lineBreak),!1)};for(let u=0;u<n.length;u++){let f=new FileReader;f.onerror=c,f.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(f.result)||(r[u]=f.result),c()},f.readAsText(n[u])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return dropText(s,e,r,!0),!0}return!1};handlers.paste=(s,e)=>{if(s.state.readOnly)return!0;s.observer.flush();let n=brokenClipboardAPI?null:e.clipboardData;return n?(doPaste(s,n.getData("text/plain")||n.getData("text/uri-list")),!0):(capturePaste(s),!1)};function captureCopy(s,e){let n=s.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),s.focus()},50)}function copiedRange(s){let e=[],n=[],r=!1;for(let a of s.selection.ranges)a.empty||(e.push(s.sliceDoc(a.from,a.to)),n.push(a));if(!e.length){let a=-1;for(let{from:c}of s.selection.ranges){let u=s.doc.lineAt(c);u.number>a&&(e.push(u.text),n.push({from:u.from,to:Math.min(s.doc.length,u.to+1)})),a=u.number}r=!0}return{text:textFilter(s,clipboardOutputFilter,e.join(s.lineBreak)),ranges:n,linewise:r}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(s,e)=>{let{text:n,ranges:r,linewise:a}=copiedRange(s.state);if(!n&&!a)return!1;lastLinewiseCopy=a?n:null,e.type=="cut"&&!s.state.readOnly&&s.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let c=brokenClipboardAPI?null:e.clipboardData;return c?(c.clearData(),c.setData("text/plain",n),!0):(captureCopy(s,n),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(s,e){let n=[];for(let r of s.facet(focusChangeEffect)){let a=r(s,e);a&&n.push(a)}return n.length?s.update({effects:n,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(s){setTimeout(()=>{let e=s.hasFocus;if(e!=s.inputState.notifiedFocused){let n=focusChangeTransaction(s.state,e);n?s.dispatch(n):s.update([])}},10)}observers.focus=s=>{s.inputState.lastFocusTime=Date.now(),!s.scrollDOM.scrollTop&&(s.inputState.lastScrollTop||s.inputState.lastScrollLeft)&&(s.scrollDOM.scrollTop=s.inputState.lastScrollTop,s.scrollDOM.scrollLeft=s.inputState.lastScrollLeft),updateForFocusChange(s)};observers.blur=s=>{s.observer.clearSelectionRange(),updateForFocusChange(s)};observers.compositionstart=observers.compositionupdate=s=>{s.observer.editContext||(s.inputState.compositionFirstChange==null&&(s.inputState.compositionFirstChange=!0),s.inputState.composing<0&&(s.inputState.composing=0))};observers.compositionend=s=>{s.observer.editContext||(s.inputState.composing=-1,s.inputState.compositionEndedAt=Date.now(),s.inputState.compositionPendingKey=!0,s.inputState.compositionPendingChange=s.observer.pendingRecords().length>0,s.inputState.compositionFirstChange=null,browser.chrome&&browser.android?s.observer.flushSoon():s.inputState.compositionPendingChange?Promise.resolve().then(()=>s.observer.flush()):setTimeout(()=>{s.inputState.composing<0&&s.docView.hasComposition&&s.update([])},50))};observers.contextmenu=s=>{s.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(s,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&s.observer.editContext){let c=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),u=e.getTargetRanges();if(c&&u.length){let f=u[0],d=s.posAtDOM(f.startContainer,f.startOffset),O=s.posAtDOM(f.endContainer,f.endOffset);return applyDOMChangeInner(s,{from:d,to:O,insert:s.state.toText(c)},null),!0}}let a;if(browser.chrome&&browser.android&&(a=PendingKeys.find(c=>c.inputType==e.inputType))&&(s.observer.delayAndroidKey(a.key,a.keyCode),a.key=="Backspace"||a.key=="Delete")){let c=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var u;(((u=window.visualViewport)===null||u===void 0?void 0:u.height)||0)>c+10&&s.hasFocus&&(s.contentDOM.blur(),s.focus())},100)}return browser.ios&&e.inputType=="deleteContentForward"&&s.observer.flushSoon(),browser.safari&&e.inputType=="insertText"&&s.inputState.composing>=0&&setTimeout(()=>observers.compositionend(s,e),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(s){appliedFirefoxHack.has(s)||(appliedFirefoxHack.add(s),s.addEventListener("copy",()=>{}),s.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(e){this.lineWrapping=e,this.doc=Text$1.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let a=e[r];a<0?r++:this.heightSamples[Math.floor(a*10)]||(n=!0,this.heightSamples[Math.floor(a*10)]=!0)}return n}refresh(e,n,r,a,c,u){let f=wrappingWhiteSpace.indexOf(e)>-1,d=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=f;if(this.lineWrapping=f,this.lineHeight=n,this.charWidth=r,this.textHeight=a,this.lineLength=c,d){this.heightSamples={};for(let O=0;O<u.length;O++){let g=u[O];g<0?O++:this.heightSamples[Math.floor(g*10)]=!0}}return d}}class MeasuredHeights{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,n,r,a,c){this.from=e,this.length=n,this.top=r,this.height=a,this._content=c}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var QueryType$1=function(s){return s[s.ByPos=0]="ByPos",s[s.ByHeight=1]="ByHeight",s[s.ByPosNoHeight=2]="ByPosNoHeight",s}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Epsilon&&(heightChangeFlag=!0),this.height=e)}replace(e,n,r){return HeightMap.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,a){let c=this,u=r.doc;for(let f=a.length-1;f>=0;f--){let{fromA:d,toA:O,fromB:g,toB:x}=a[f],T=c.lineAt(d,QueryType$1.ByPosNoHeight,r.setDoc(n),0,0),E=T.to>=O?T:c.lineAt(O,QueryType$1.ByPosNoHeight,r,0,0);for(x+=E.to-O,O=E.to;f>0&&T.from<=a[f-1].toA;)d=a[f-1].fromA,g=a[f-1].fromB,f--,d<T.from&&(T=c.lineAt(d,QueryType$1.ByPosNoHeight,r,0,0));g+=T.from-d,d=T.from;let R=NodeBuilder.build(r.setDoc(u),e,g,x);c=replace(c,c.replace(d,O,R))}return c.updateHeight(r,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,a=0,c=0;for(;;)if(n==r)if(a>c*2){let f=e[n-1];f.break?e.splice(--n,1,f.left,null,f.right):e.splice(--n,1,f.left,f.right),r+=1+f.break,a-=f.size}else if(c>a*2){let f=e[r];f.break?e.splice(r,1,f.left,null,f.right):e.splice(r,1,f.left,f.right),r+=2+f.break,c-=f.size}else break;else if(a<c){let f=e[n++];f&&(a+=f.size)}else{let f=e[--r];f&&(c+=f.size)}let u=0;return e[n-1]==null?(u=1,n--):e[n]==null&&(u=1,r++),new HeightMapBranch(HeightMap.of(e.slice(0,n)),u,HeightMap.of(e.slice(r)))}}function replace(s,e){return s==e?s:(s.constructor!=e.constructor&&(heightChangeFlag=!0),e)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,a){return new BlockInfo(a,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,a,c){return this.blockAt(0,r,a,c)}forEachLine(e,n,r,a,c,u){e<=c+this.length&&n>=c&&u(this.blockAt(0,r,a,c))}updateHeight(e,n=0,r=!1,a){return a&&a.from<=n&&a.more&&this.setHeight(a.heights[a.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,a){return new BlockInfo(a,this.length,r,this.height,this.breaks)}replace(e,n,r){let a=r[0];return r.length==1&&(a instanceof HeightMapText||a instanceof HeightMapGap&&a.flags&4)&&Math.abs(this.length-a.length)<10?(a instanceof HeightMapGap?a=new HeightMapText(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):HeightMap.of(r)}updateHeight(e,n=0,r=!1,a){return a&&a.from<=n&&a.more?this.setHeight(a.heights[a.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,a=e.doc.lineAt(n+this.length).number,c=a-r+1,u,f=0;if(e.lineWrapping){let d=Math.min(this.height,e.lineHeight*c);u=d/c,this.length>c+1&&(f=(this.height-d)/(this.length-c-1))}else u=this.height/c;return{firstLine:r,lastLine:a,perLine:u,perChar:f}}blockAt(e,n,r,a){let{firstLine:c,lastLine:u,perLine:f,perChar:d}=this.heightMetrics(n,a);if(n.lineWrapping){let O=a+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),g=n.doc.lineAt(O),x=f+g.length*d,T=Math.max(r,e-x/2);return new BlockInfo(g.from,g.length,T,x,0)}else{let O=Math.max(0,Math.min(u-c,Math.floor((e-r)/f))),{from:g,length:x}=n.doc.line(c+O);return new BlockInfo(g,x,r+f*O,f,0)}}lineAt(e,n,r,a,c){if(n==QueryType$1.ByHeight)return this.blockAt(e,r,a,c);if(n==QueryType$1.ByPosNoHeight){let{from:E,to:R}=r.doc.lineAt(e);return new BlockInfo(E,R-E,0,0,0)}let{firstLine:u,perLine:f,perChar:d}=this.heightMetrics(r,c),O=r.doc.lineAt(e),g=f+O.length*d,x=O.number-u,T=a+f*x+d*(O.from-c-x);return new BlockInfo(O.from,O.length,Math.max(a,Math.min(T,a+this.height-g)),g,0)}forEachLine(e,n,r,a,c,u){e=Math.max(e,c),n=Math.min(n,c+this.length);let{firstLine:f,perLine:d,perChar:O}=this.heightMetrics(r,c);for(let g=e,x=a;g<=n;){let T=r.doc.lineAt(g);if(g==e){let R=T.number-f;x+=d*R+O*(e-c-R)}let E=d+O*T.length;u(new BlockInfo(T.from,T.length,x,E,0)),x+=E,g=T.to+1}}replace(e,n,r){let a=this.length-n;if(a>0){let c=r[r.length-1];c instanceof HeightMapGap?r[r.length-1]=new HeightMapGap(c.length+a):r.push(null,new HeightMapGap(a-1))}if(e>0){let c=r[0];c instanceof HeightMapGap?r[0]=new HeightMapGap(e+c.length):r.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(r)}decomposeLeft(e,n){n.push(new HeightMapGap(e-1),null)}decomposeRight(e,n){n.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,n=0,r=!1,a){let c=n+this.length;if(a&&a.from<=n+this.length&&a.more){let u=[],f=Math.max(n,a.from),d=-1;for(a.from>n&&u.push(new HeightMapGap(a.from-n-1).updateHeight(e,n));f<=c&&a.more;){let g=e.doc.lineAt(f).length;u.length&&u.push(null);let x=a.heights[a.index++];d==-1?d=x:Math.abs(x-d)>=Epsilon&&(d=-2);let T=new HeightMapText(g,x);T.outdated=!1,u.push(T),f+=g+1}f<=c&&u.push(null,new HeightMapGap(c-f).updateHeight(e,f));let O=HeightMap.of(u);return(d<0||Math.abs(O.height-this.height)>=Epsilon||Math.abs(d-this.heightMetrics(e,n).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,O)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,a){let c=r+this.left.height;return e<c?this.left.blockAt(e,n,r,a):this.right.blockAt(e,n,c,a+this.left.length+this.break)}lineAt(e,n,r,a,c){let u=a+this.left.height,f=c+this.left.length+this.break,d=n==QueryType$1.ByHeight?e<u:e<f,O=d?this.left.lineAt(e,n,r,a,c):this.right.lineAt(e,n,r,u,f);if(this.break||(d?O.to<f:O.from>f))return O;let g=n==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return d?O.join(this.right.lineAt(f,g,r,u,f)):this.left.lineAt(f,g,r,a,c).join(O)}forEachLine(e,n,r,a,c,u){let f=a+this.left.height,d=c+this.left.length+this.break;if(this.break)e<d&&this.left.forEachLine(e,n,r,a,c,u),n>=d&&this.right.forEachLine(e,n,r,f,d,u);else{let O=this.lineAt(d,QueryType$1.ByPos,r,a,c);e<O.from&&this.left.forEachLine(e,O.from-1,r,a,c,u),O.to>=e&&O.from<=n&&u(O),n>O.to&&this.right.forEachLine(O.to+1,n,r,f,d,u)}}replace(e,n,r){let a=this.left.length+this.break;if(n<a)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-a,n-a,r));let c=[];e>0&&this.decomposeLeft(e,c);let u=c.length;for(let f of r)c.push(f);if(e>0&&mergeGaps(c,u-1),n<this.length){let f=c.length;this.decomposeRight(n,c),mergeGaps(c,f)}return HeightMap.of(c)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,a=r+this.break;if(e>=a)return this.right.decomposeRight(e-a,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<a&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?HeightMap.of(this.break?[e,null,n]:[e,n]):(this.left=replace(this.left,e),this.right=replace(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,a){let{left:c,right:u}=this,f=n+c.length+this.break,d=null;return a&&a.from<=n+c.length&&a.more?d=c=c.updateHeight(e,n,r,a):c.updateHeight(e,n,r),a&&a.from<=f+u.length&&a.more?d=u=u.updateHeight(e,f,r,a):u.updateHeight(e,f,r),d?this.balanced(c,u):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(s,e){let n,r;s[e]==null&&(n=s[e-1])instanceof HeightMapGap&&(r=s[e+1])instanceof HeightMapGap&&s.splice(e-1,3,new HeightMapGap(n.length+1+r.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),a=this.nodes[this.nodes.length-1];a instanceof HeightMapText?a.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let a=r.widget?r.widget.estimatedHeight:0,c=r.widget?r.widget.lineBreaks:0;a<0&&(a=this.oracle.lineHeight);let u=n-e;r.block?this.addBlock(new HeightMapBlock(u,a,r)):(u||c||a>=relevantWidgetHeight)&&this.addLineDeco(a,c,u)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new HeightMapGap(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let n=new HeightMapText(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let a=this.ensureLine();a.length+=r,a.collapsed+=r,a.widgetHeight=Math.max(a.widgetHeight,e),a.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let a of this.nodes)a instanceof HeightMapText&&a.updateHeight(this.oracle,r),r+=a?a.length:1;return this.nodes}static build(e,n,r,a){let c=new NodeBuilder(r,e);return RangeSet.spans(n,r,a,c,0),c.finish(r)}}function heightRelevantDecoChanges(s,e,n){let r=new DecorationComparator;return RangeSet.compare(s,e,n,r,0),r.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,a){(e<n||r&&r.heightRelevant||a&&a.heightRelevant)&&addRange(e,n,this.changes,5)}}function visiblePixelRange(s,e){let n=s.getBoundingClientRect(),r=s.ownerDocument,a=r.defaultView||window,c=Math.max(0,n.left),u=Math.min(a.innerWidth,n.right),f=Math.max(0,n.top),d=Math.min(a.innerHeight,n.bottom);for(let O=s.parentNode;O&&O!=r.body;)if(O.nodeType==1){let g=O,x=window.getComputedStyle(g);if((g.scrollHeight>g.clientHeight||g.scrollWidth>g.clientWidth)&&x.overflow!="visible"){let T=g.getBoundingClientRect();c=Math.max(c,T.left),u=Math.min(u,T.right),f=Math.max(f,T.top),d=Math.min(O==s.parentNode?a.innerHeight:d,T.bottom)}O=x.position=="absolute"||x.position=="fixed"?g.offsetParent:g.parentNode}else if(O.nodeType==11)O=O.host;else break;return{left:c-n.left,right:Math.max(c,u)-n.left,top:f-(n.top+e),bottom:Math.max(f,d)-(n.top+e)}}function inWindow(s){let e=s.getBoundingClientRect(),n=s.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function fullPixelRange(s,e){let n=s.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class LineGap{constructor(e,n,r,a){this.from=e,this.to=n,this.size=r,this.displaySize=a}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],c=n[r];if(a.from!=c.from||a.to!=c.to||a.size!=c.size)return!1}return!0}draw(e,n){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(contentAttributes).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(n),this.stateDeco=e.facet(decorations).filter(r=>typeof r!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text$1.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let a=r?n.head:n.anchor;if(!e.some(({from:c,to:u})=>a>=c&&a<=u)){let{from:c,to:u}=this.lineBlockAt(a);e.push(new Viewport(c,u))}}return this.viewports=e.sort((r,a)=>r.from-a.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(scaleBlock(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(g=>typeof g!="function");let a=e.changedRanges,c=ChangedRange.extendWithRanges(a,heightRelevantDecoChanges(r,this.stateDeco,e?e.changes:ChangeSet.empty(this.state.doc.length))),u=this.heightMap.height,f=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),c),(this.heightMap.height!=u||heightChangeFlag)&&(e.flags|=2),f?(this.scrollAnchorPos=e.changes.mapPos(f.from,-1),this.scrollAnchorHeight=f.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=u);let d=c.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<d.from||n.range.head>d.to)||!this.viewportIsAppropriate(d))&&(d=this.getViewport(0,n));let O=d.from!=this.viewport.from||d.to!=this.viewport.to;this.viewport=d,e.flags|=this.updateForViewport(),(O||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),a=this.heightOracle,c=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Direction.RTL:Direction.LTR;let u=this.heightOracle.mustRefreshForWrapping(c),f=n.getBoundingClientRect(),d=u||this.mustMeasureContent||this.contentDOMHeight!=f.height;this.contentDOMHeight=f.height,this.mustMeasureContent=!1;let O=0,g=0;if(f.width&&f.height){let{scaleX:G,scaleY:L}=getScale(n,f);(G>.005&&Math.abs(this.scaleX-G)>.005||L>.005&&Math.abs(this.scaleY-L)>.005)&&(this.scaleX=G,this.scaleY=L,O|=16,u=d=!0)}let x=(parseInt(r.paddingTop)||0)*this.scaleY,T=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=x||this.paddingBottom!=T)&&(this.paddingTop=x,this.paddingBottom=T,O|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(a.lineWrapping&&(d=!0),this.editorWidth=e.scrollDOM.clientWidth,O|=16);let E=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=E&&(this.scrollAnchorHeight=-1,this.scrollTop=E),this.scrolledToBottom=isScrolledToBottom(e.scrollDOM);let R=(this.printing?fullPixelRange:visiblePixelRange)(n,this.paddingTop),M=R.top-this.pixelViewport.top,$=R.bottom-this.pixelViewport.bottom;this.pixelViewport=R;let V=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(V!=this.inView&&(this.inView=V,V&&(d=!0)),!this.inView&&!this.scrollTarget&&!inWindow(e.dom))return 0;let X=f.width;if((this.contentDOMWidth!=X||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=f.width,this.editorHeight=e.scrollDOM.clientHeight,O|=16),d){let G=e.docView.measureVisibleLineHeights(this.viewport);if(a.mustRefreshForHeights(G)&&(u=!0),u||a.lineWrapping&&Math.abs(X-this.contentDOMWidth)>a.charWidth){let{lineHeight:L,charWidth:I,textHeight:ee}=e.docView.measureTextSize();u=L>0&&a.refresh(c,L,I,ee,Math.max(5,X/I),G),u&&(e.docView.minWidth=0,O|=16)}M>0&&$>0?g=Math.max(M,$):M<0&&$<0&&(g=Math.min(M,$)),clearHeightChangeFlag();for(let L of this.viewports){let I=L.from==this.viewport.from?G:e.docView.measureVisibleLineHeights(L);this.heightMap=(u?HeightMap.empty().applyChanges(this.stateDeco,Text$1.empty,this.heightOracle,[new ChangedRange(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(a,0,u,new MeasuredHeights(L.from,I))}heightChangeFlag&&(O|=2)}let Y=!this.viewportIsAppropriate(this.viewport,g)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Y&&(O&2&&(O|=this.updateScaler()),this.viewport=this.getViewport(g,this.scrollTarget),O|=this.updateForViewport()),(O&2||Y)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(u?[]:this.lineGaps,e)),O|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),O}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),a=this.heightMap,c=this.heightOracle,{visibleTop:u,visibleBottom:f}=this,d=new Viewport(a.lineAt(u-r*1e3,QueryType$1.ByHeight,c,0,0).from,a.lineAt(f+(1-r)*1e3,QueryType$1.ByHeight,c,0,0).to);if(n){let{head:O}=n.range;if(O<d.from||O>d.to){let g=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),x=a.lineAt(O,QueryType$1.ByPos,c,0,0),T;n.y=="center"?T=(x.top+x.bottom)/2-g/2:n.y=="start"||n.y=="nearest"&&O<d.from?T=x.top:T=x.bottom-g,d=new Viewport(a.lineAt(T-1e3/2,QueryType$1.ByHeight,c,0,0).from,a.lineAt(T+g+1e3/2,QueryType$1.ByHeight,c,0,0).to)}}return d}mapViewport(e,n){let r=n.mapPos(e.from,-1),a=n.mapPos(e.to,1);return new Viewport(this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(a,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:a}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:c}=this.heightMap.lineAt(n,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:u,visibleBottom:f}=this;return(e==0||a<=u-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||c>=f+Math.max(10,Math.min(r,250)))&&a>u-2*1e3&&c<f+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let a of e)n.touchesRange(a.from,a.to)||r.push(new LineGap(n.mapPos(a.from),n.mapPos(a.to),a.size,a.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,a=r?1e4:2e3,c=a>>1,u=a<<1;if(this.defaultTextDirection!=Direction.LTR&&!r)return[];let f=[],d=(g,x,T,E)=>{if(x-g<c)return;let R=this.state.selection.main,M=[R.from];R.empty||M.push(R.to);for(let V of M)if(V>g&&V<x){d(g,V-10,T,E),d(V+10,x,T,E);return}let $=find(e,V=>V.from>=T.from&&V.to<=T.to&&Math.abs(V.from-g)<c&&Math.abs(V.to-x)<c&&!M.some(X=>V.from<X&&V.to>X));if(!$){if(x<T.to&&n&&r&&n.visibleRanges.some(Y=>Y.from<=x&&Y.to>=x)){let Y=n.moveToLineBoundary(EditorSelection.cursor(x),!1,!0).head;Y>g&&(x=Y)}let V=this.gapSize(T,g,x,E),X=r||V<2e6?V:2e6;$=new LineGap(g,x,V,X)}f.push($)},O=g=>{if(g.length<u||g.type!=BlockType.Text)return;let x=lineStructure(g.from,g.to,this.stateDeco);if(x.total<u)return;let T=this.scrollTarget?this.scrollTarget.range.head:null,E,R;if(r){let M=a/this.heightOracle.lineLength*this.heightOracle.lineHeight,$,V;if(T!=null){let X=findFraction(x,T),Y=((this.visibleBottom-this.visibleTop)/2+M)/g.height;$=X-Y,V=X+Y}else $=(this.visibleTop-g.top-M)/g.height,V=(this.visibleBottom-g.top+M)/g.height;E=findPosition(x,$),R=findPosition(x,V)}else{let M=x.total*this.heightOracle.charWidth,$=a*this.heightOracle.charWidth,V=0;if(M>2e6)for(let I of e)I.from>=g.from&&I.from<g.to&&I.size!=I.displaySize&&I.from*this.heightOracle.charWidth+V<this.pixelViewport.left&&(V=I.size-I.displaySize);let X=this.pixelViewport.left+V,Y=this.pixelViewport.right+V,G,L;if(T!=null){let I=findFraction(x,T),ee=((Y-X)/2+$)/M;G=I-ee,L=I+ee}else G=(X-$)/M,L=(Y+$)/M;E=findPosition(x,G),R=findPosition(x,L)}E>g.from&&d(g.from,E,g,x),R<g.to&&d(R,g.to,g,x)};for(let g of this.viewportLines)Array.isArray(g.type)?g.type.forEach(O):O(g);return f}gapSize(e,n,r,a){let c=findFraction(a,r)-findFraction(a,n);return this.heightOracle.lineWrapping?e.height*c:a.total*this.heightOracle.charWidth*c}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];RangeSet.spans(n,this.viewport.from,this.viewport.to,{span(c,u){r.push({from:c,to:u})},point(){}},20);let a=0;if(r.length!=this.visibleRanges.length)a=12;else for(let c=0;c<r.length&&!(a&8);c++){let u=this.visibleRanges[c],f=r[c];(u.from!=f.from||u.to!=f.to)&&(a|=4,e&&e.mapPos(u.from,-1)==f.from&&e.mapPos(u.to,1)==f.to||(a|=8))}return this.visibleRanges=r,a}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(e,n){this.from=e,this.to=n}}function lineStructure(s,e,n){let r=[],a=s,c=0;return RangeSet.spans(n,s,e,{span(){},point(u,f){u>a&&(r.push({from:a,to:u}),c+=u-a),a=f}},20),a<e&&(r.push({from:a,to:e}),c+=e-a),{total:c,ranges:r}}function findPosition({total:s,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(s*n);for(let a=0;;a++){let{from:c,to:u}=e[a],f=u-c;if(r<=f)return c+r;r-=f}}function findFraction(s,e){let n=0;for(let{from:r,to:a}of s.ranges){if(e<=a){n+=e-r;break}n+=a-r}return n/s.total}function find(s,e){for(let n of s)if(e(n))return n}const IdScaler={toDOM(s){return s},fromDOM(s){return s},scale:1,eq(s){return s==this}};class BigScaler{constructor(e,n,r){let a=0,c=0,u=0;this.viewports=r.map(({from:f,to:d})=>{let O=n.lineAt(f,QueryType$1.ByPos,e,0,0).top,g=n.lineAt(d,QueryType$1.ByPos,e,0,0).bottom;return a+=g-O,{from:f,to:d,top:O,bottom:g,domTop:0,domBottom:0}}),this.scale=(7e6-a)/(n.height-a);for(let f of this.viewports)f.domTop=u+(f.top-c)*this.scale,u=f.domBottom=f.domTop+(f.bottom-f.top),c=f.bottom}toDOM(e){for(let n=0,r=0,a=0;;n++){let c=n<this.viewports.length?this.viewports[n]:null;if(!c||e<c.top)return a+(e-r)*this.scale;if(e<=c.bottom)return c.domTop+(e-c.top);r=c.bottom,a=c.domBottom}}fromDOM(e){for(let n=0,r=0,a=0;;n++){let c=n<this.viewports.length?this.viewports[n]:null;if(!c||e<c.domTop)return r+(e-a)/this.scale;if(e<=c.domBottom)return c.top+(e-c.domTop);r=c.bottom,a=c.domBottom}}eq(e){return e instanceof BigScaler?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function scaleBlock(s,e){if(e.scale==1)return s;let n=e.toDOM(s.top),r=e.toDOM(s.bottom);return new BlockInfo(s.from,s.length,n,r-n,Array.isArray(s._content)?s._content.map(a=>scaleBlock(a,e)):s._content)}const theme=Facet.define({combine:s=>s.join(" ")}),darkTheme=Facet.define({combine:s=>s.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(s,e,n){return new StyleModule(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,a=>{if(a=="&")return s;if(!n||!n[a])throw new RangeError(`Unsupported selector: ${a}`);return n[a]}):s+" "+r}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(browser.ie&&browser.ie_version<=11||browser.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&browser.android&&e.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(e),e.state.facet(editable)&&(e.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,a=this.selectionRange;if(r.state.facet(editable)?r.root.activeElement!=this.dom:!hasSelection(this.dom,a))return;let c=a.anchorNode&&r.docView.nearest(a.anchorNode);if(c&&c.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!r.state.selection.main.empty&&a.focusNode&&isEquivalentPosition(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=getSelection(e.root);if(!n)return!1;let r=browser.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let a=hasSelection(this.dom,r);return a&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),a&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let a=()=>{let c=this.delayedAndroidKey;c&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=c.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&c.force&&dispatchKey(this.dom,c.key,c.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(a)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,a=!1;for(let c of e){let u=this.readMutation(c);u&&(u.typeOver&&(a=!0),n==-1?{from:n,to:r}=u:(n=Math.min(u.from,n),r=Math.max(u.to,r)))}return{from:n,to:r,typeOver:a}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),a=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(e<0&&!a)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let c=new DOMChange(this.view,e,n,r);return this.view.docView.domChanged={newSel:c.newSel?c.newSel.main:null},c}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,a=applyDOMChange(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),a}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=findChild(n,e.previousSibling||e.target.previousSibling,-1),a=findChild(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:a?n.posBefore(a):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(editable)!=e.state.facet(editable)&&(e.view.contentDOM.editContext=e.state.facet(editable)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(s,e,n){for(;e;){let r=ContentView.get(e);if(r&&r.parent==s)return r;let a=e.parentNode;e=a!=s.dom?a:n>0?e.nextSibling:e.previousSibling}return null}function buildSelectionRangeFromRange(s,e){let n=e.startContainer,r=e.startOffset,a=e.endContainer,c=e.endOffset,u=s.docView.domAtPos(s.state.selection.main.anchor);return isEquivalentPosition(u.node,u.offset,a,c)&&([n,r,a,c]=[a,c,n,r]),{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:c}}function safariSelectionRangeHack(s,e){if(e.getComposedRanges){let a=e.getComposedRanges(s.root)[0];if(a)return buildSelectionRangeFromRange(s,a)}let n=null;function r(a){a.preventDefault(),a.stopImmediatePropagation(),n=a.getTargetRanges()[0]}return s.contentDOM.addEventListener("beforeinput",r,!0),s.dom.ownerDocument.execCommand("indent"),s.contentDOM.removeEventListener("beforeinput",r,!0),n?buildSelectionRangeFromRange(s,n):null}class EditContextManager{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let a=e.state.selection.main,{anchor:c,head:u}=a,f=this.toEditorPos(r.updateRangeStart),d=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:f,drifted:!1});let O={from:f,to:d,insert:Text$1.of(r.text.split(`
`))};if(O.from==this.from&&c<this.from?O.from=c:O.to==this.to&&c>this.to&&(O.to=c),O.from==O.to&&!O.insert.length){let g=EditorSelection.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));g.main.eq(a)||e.dispatch({selection:g,userEvent:"select"});return}if((browser.mac||browser.android)&&O.from==u-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(O={from:f,to:d,insert:Text$1.of([r.text.replace("."," ")])}),this.pendingContextChange=O,!e.state.readOnly){let g=this.to-this.from+(O.to-O.from+O.insert.length);applyDOMChangeInner(e,O,EditorSelection.single(this.toEditorPos(r.selectionStart,g),this.toEditorPos(r.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let a=[],c=null;for(let u=this.toEditorPos(r.rangeStart),f=this.toEditorPos(r.rangeEnd);u<f;u++){let d=e.coordsForChar(u);c=d&&new DOMRect(d.left,d.top,d.right-d.left,d.bottom-d.top)||c||new DOMRect,a.push(c)}n.updateCharacterBounds(r.rangeStart,a)},this.handlers.textformatupdate=r=>{let a=[];for(let c of r.getTextFormats()){let u=c.underlineStyle,f=c.underlineThickness;if(u!="None"&&f!="None"){let d=this.toEditorPos(c.rangeStart),O=this.toEditorPos(c.rangeEnd);if(d<O){let g=`text-decoration: underline ${u=="Dashed"?"dashed ":u=="Squiggle"?"wavy ":""}${f=="Thin"?1:2}px`;a.push(Decoration.mark({attributes:{style:g}}).range(d,O))}}}e.dispatch({effects:setEditContextFormatting.of(Decoration.set(a))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let a=getSelection(r.root);a&&a.rangeCount&&this.editContext.updateSelectionBounds(a.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,a=this.pendingContextChange;return e.changes.iterChanges((c,u,f,d,O)=>{if(r)return;let g=O.length-(u-c);if(a&&u>=a.to)if(a.from==c&&a.to==u&&a.insert.eq(O)){a=this.pendingContextChange=null,n+=g,this.to+=g;return}else a=null,this.revertPending(e.state);if(c+=n,u+=n,u<=this.from)this.from+=g,this.to+=g;else if(c<this.to){if(c<this.from||u>this.to||this.to-this.from+O.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(c),this.toContextPos(u),O.toString()),this.to+=g}n+=g}),a&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(a=>!a.isUserEvent("input.type")&&a.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),a=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=a)&&this.editContext.updateSelection(r,a)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(a=>a.forEach(c=>r(c,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create(e)),e.scrollTo&&e.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(a=>new PluginInstance(a));for(let a of this.plugins)a.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Transaction?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,a,c=this.state;for(let T of e){if(T.startState!=c)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");c=T.state}if(this.destroyed){this.viewState.state=c;return}let u=this.hasFocus,f=0,d=null;e.some(T=>T.annotation(isFocusChange))?(this.inputState.notifiedFocused=u,f=1):u!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=u,d=focusChangeTransaction(c,u),d||(f=1));let O=this.observer.delayedAndroidKey,g=null;if(O?(this.observer.clearDelayedAndroidKey(),g=this.observer.readChange(),(g&&!this.state.doc.eq(c.doc)||!this.state.selection.eq(c.selection))&&(g=null)):this.observer.clear(),c.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(c);a=ViewUpdate.create(this,c,e),a.flags|=f;let x=this.viewState.scrollTarget;try{this.updateState=2;for(let T of e){if(x&&(x=x.map(T.changes)),T.scrollIntoView){let{main:E}=T.state.selection;x=new ScrollTarget(E.empty?E:EditorSelection.cursor(E.head,E.head>E.anchor?-1:1))}for(let E of T.effects)E.is(scrollIntoView$1)&&(x=E.value.clip(this.state))}this.viewState.update(a,x),this.bidiCache=CachedOrder.update(this.bidiCache,a.changes),a.empty||(this.updatePlugins(a),this.inputState.update(a)),n=this.docView.update(a),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(T=>T.isUserEvent("select.pointer")))}finally{this.updateState=0}if(a.startState.facet(theme)!=a.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(n||r||x||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!a.empty)for(let T of this.state.facet(updateListener))try{T(a)}catch(E){logException(this.state,E,"update listener")}(d||g)&&Promise.resolve().then(()=>{d&&this.state==d.startState&&this.dispatch(d),g&&!applyDOMChange(this,g)&&O.force&&dispatchKey(this.contentDOM,O.key,O.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map(r=>new PluginInstance(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(viewPlugin),r=e.state.facet(viewPlugin);if(n!=r){let a=[];for(let c of r){let u=n.indexOf(c);if(u<0)a.push(new PluginInstance(c));else{let f=this.plugins[u];f.mustUpdate=e,a.push(f)}}for(let c of this.plugins)c.mustUpdate!=e&&c.destroy(this);this.plugins=a,this.pluginMap.clear()}else for(let a of this.plugins)a.mustUpdate=e;for(let a=0;a<this.plugins.length;a++)this.plugins[a].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){logException(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,a=r.scrollTop*this.scaleY,{scrollAnchorPos:c,scrollAnchorHeight:u}=this.viewState;Math.abs(a-this.viewState.scrollTop)>1&&(u=-1),this.viewState.scrollAnchorHeight=-1;try{for(let f=0;;f++){if(u<0)if(isScrolledToBottom(r))c=-1,u=this.viewState.heightMap.height;else{let E=this.viewState.scrollAnchorAt(a);c=E.from,u=E.top}this.updateState=1;let d=this.viewState.measure(this);if(!d&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(f>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let O=[];d&4||([this.measureRequests,O]=[O,this.measureRequests]);let g=O.map(E=>{try{return E.read(this)}catch(R){return logException(this.state,R),BadMeasure}}),x=ViewUpdate.create(this,this.state,[]),T=!1;x.flags|=d,n?n.flags|=d:n=x,this.updateState=2,x.empty||(this.updatePlugins(x),this.inputState.update(x),this.updateAttrs(),T=this.docView.update(x),T&&this.docViewUpdate());for(let E=0;E<O.length;E++)if(g[E]!=BadMeasure)try{let R=O[E];R.write&&R.write(g[E],this)}catch(R){logException(this.state,R)}if(T&&this.docView.updateSelection(!0),!x.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=-1;continue}else{let R=(c<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(c).top)-u;if(R>1||R<-1){a=a+R,r.scrollTop=a/this.scaleY,u=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let f of this.state.facet(updateListener))f(n)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,n);let r=this.observer.ignore(()=>{let a=updateAttrs(this.contentDOM,this.contentAttrs,n),c=updateAttrs(this.dom,this.editorAttrs,e);return a||c});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let a of r.effects)if(a.is(EditorView.announce)){n&&(this.announceDOM.textContent=""),n=!1;let c=this.announceDOM.appendChild(document.createElement("div"));c.textContent=a.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let e=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return skipAtoms(this,e,moveByChar(this,e,n,r))}moveByGroup(e,n){return skipAtoms(this,e,moveByChar(this,e,n,r=>byGroup(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),a=this.textDirectionAt(e.from),c=r[n?r.length-1:0];return EditorSelection.cursor(c.side(n,a)+e.from,c.forward(!n,a)?1:-1)}moveToLineBoundary(e,n,r=!0){return moveToLineBoundary(this,e,n,r)}moveVertically(e,n,r){return skipAtoms(this,e,moveVertically(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),posAtCoords(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let a=this.state.doc.lineAt(e),c=this.bidiSpans(a),u=c[BidiSpan.find(c,e-a.from,-1,n)];return flattenRect(r,u.dir==Direction.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(perLineTextDirection)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let n=this.textDirectionAt(e.from),r;for(let c of this.bidiCache)if(c.from==e.from&&c.dir==n&&(c.fresh||isolatesEq(c.isolates,r=getIsolatedRanges(this,e))))return c.order;r||(r=getIsolatedRanges(this,e));let a=computeOrder(e.text,n,r);return this.bidiCache.push(new CachedOrder(e.from,e.to,n,r,!0,a)),a}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return scrollIntoView$1.of(new ScrollTarget(typeof e=="number"?EditorSelection.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ViewPlugin.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ViewPlugin.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=StyleModule.newName(),a=[theme.of(r),styleModule.of(buildTheme(`.${r}`,e))];return n&&n.dark&&a.push(darkTheme.of(!0)),a}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),a=r&&ContentView.get(r)||ContentView.get(e);return((n=a==null?void 0:a.rootView)===null||n===void 0?void 0:n.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:s=>s.length?s[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(e,n,r,a,c,u){this.from=e,this.to=n,this.dir=r,this.isolates=a,this.fresh=c,this.order=u}static update(e,n){if(n.empty&&!e.some(c=>c.fresh))return e;let r=[],a=e.length?e[e.length-1].dir:Direction.LTR;for(let c=Math.max(0,e.length-10);c<e.length;c++){let u=e[c];u.dir==a&&!n.touchesRange(u.from,u.to)&&r.push(new CachedOrder(n.mapPos(u.from,1),n.mapPos(u.to,-1),u.dir,u.isolates,!1,u.order))}return r}}function attrsFromFacet(s,e,n){for(let r=s.state.facet(e),a=r.length-1;a>=0;a--){let c=r[a],u=typeof c=="function"?c(s):c;u&&combineAttrs(u,n)}return n}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(s,e){const n=s.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let a,c,u,f;for(let d=0;d<n.length-1;++d){const O=n[d];if(/^(cmd|meta|m)$/i.test(O))f=!0;else if(/^a(lt)?$/i.test(O))a=!0;else if(/^(c|ctrl|control)$/i.test(O))c=!0;else if(/^s(hift)?$/i.test(O))u=!0;else if(/^mod$/i.test(O))e=="mac"?f=!0:c=!0;else throw new Error("Unrecognized modifier name: "+O)}return a&&(r="Alt-"+r),c&&(r="Ctrl-"+r),f&&(r="Meta-"+r),u&&(r="Shift-"+r),r}function modifiers(s,e,n){return e.altKey&&(s="Alt-"+s),e.ctrlKey&&(s="Ctrl-"+s),e.metaKey&&(s="Meta-"+s),n!==!1&&e.shiftKey&&(s="Shift-"+s),s}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(s,e){return runHandlers(getKeymap(e.state),s,e,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(s){let e=s.facet(keymap),n=Keymaps.get(e);return n||Keymaps.set(e,n=buildKeymap(e.reduce((r,a)=>r.concat(a),[]))),n}function runScopeHandlers(s,e,n){return runHandlers(getKeymap(s.state),e,s,n)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(s,e=currentPlatform){let n=Object.create(null),r=Object.create(null),a=(u,f)=>{let d=r[u];if(d==null)r[u]=f;else if(d!=f)throw new Error("Key binding "+u+" is used both as a regular binding and as a multi-stroke prefix")},c=(u,f,d,O,g)=>{var x,T;let E=n[u]||(n[u]=Object.create(null)),R=f.split(/ (?!$)/).map(V=>normalizeKeyName(V,e));for(let V=1;V<R.length;V++){let X=R.slice(0,V).join(" ");a(X,!0),E[X]||(E[X]={preventDefault:!0,stopPropagation:!1,run:[Y=>{let G=storedPrefix={view:Y,prefix:X,scope:u};return setTimeout(()=>{storedPrefix==G&&(storedPrefix=null)},PrefixTimeout),!0}]})}let M=R.join(" ");a(M,!1);let $=E[M]||(E[M]={preventDefault:!1,stopPropagation:!1,run:((T=(x=E._any)===null||x===void 0?void 0:x.run)===null||T===void 0?void 0:T.slice())||[]});d&&$.run.push(d),O&&($.preventDefault=!0),g&&($.stopPropagation=!0)};for(let u of s){let f=u.scope?u.scope.split(" "):["editor"];if(u.any)for(let O of f){let g=n[O]||(n[O]=Object.create(null));g._any||(g._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:x}=u;for(let T in g)g[T].run.push(E=>x(E,currentKeyEvent))}let d=u[e]||u.key;if(d)for(let O of f)c(O,d,u.run,u.preventDefault,u.stopPropagation),u.shift&&c(O,"Shift-"+d,u.shift,u.preventDefault,u.stopPropagation)}return n}let currentKeyEvent=null;function runHandlers(s,e,n,r){currentKeyEvent=e;let a=keyName(e),c=codePointAt(a,0),u=codePointSize(c)==a.length&&a!=" ",f="",d=!1,O=!1,g=!1;storedPrefix&&storedPrefix.view==n&&storedPrefix.scope==r&&(f=storedPrefix.prefix+" ",modifierCodes.indexOf(e.keyCode)<0&&(O=!0,storedPrefix=null));let x=new Set,T=$=>{if($){for(let V of $.run)if(!x.has(V)&&(x.add(V),V(n)))return $.stopPropagation&&(g=!0),!0;$.preventDefault&&($.stopPropagation&&(g=!0),O=!0)}return!1},E=s[r],R,M;return E&&(T(E[f+modifiers(a,e,!u)])?d=!0:u&&(e.altKey||e.metaKey||e.ctrlKey)&&!(browser.windows&&e.ctrlKey&&e.altKey)&&!(browser.mac&&e.altKey&&!e.ctrlKey)&&(R=base[e.keyCode])&&R!=a?(T(E[f+modifiers(R,e,!0)])||e.shiftKey&&(M=shift[e.keyCode])!=a&&M!=R&&T(E[f+modifiers(M,e,!1)]))&&(d=!0):u&&e.shiftKey&&T(E[f+modifiers(a,e,!0)])&&(d=!0),!d&&T(E._any)&&(d=!0)),O&&(d=!0),d&&g&&e.stopPropagation(),currentKeyEvent=null,d}class RectangleMarker{constructor(e,n,r,a,c){this.className=e,this.left=n,this.top=r,this.width=a,this.height=c}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let a=e.coordsAtPos(r.head,r.assoc||1);if(!a)return[];let c=getBase$1(e);return[new RectangleMarker(n,a.left-c.left,a.top-c.top,null,a.bottom-a.top)]}else return rectanglesForRange(e,n,r)}}function getBase$1(s){let e=s.scrollDOM.getBoundingClientRect();return{left:(s.textDirection==Direction.LTR?e.left:e.right-s.scrollDOM.clientWidth*s.scaleX)-s.scrollDOM.scrollLeft*s.scaleX,top:e.top-s.scrollDOM.scrollTop*s.scaleY}}function wrappedLine(s,e,n,r){let a=s.coordsAtPos(e,n*2);if(!a)return r;let c=s.dom.getBoundingClientRect(),u=(a.top+a.bottom)/2,f=s.posAtCoords({x:c.left+1,y:u}),d=s.posAtCoords({x:c.right-1,y:u});return f==null||d==null?r:{from:Math.max(r.from,Math.min(f,d)),to:Math.min(r.to,Math.max(f,d))}}function rectanglesForRange(s,e,n){if(n.to<=s.viewport.from||n.from>=s.viewport.to)return[];let r=Math.max(n.from,s.viewport.from),a=Math.min(n.to,s.viewport.to),c=s.textDirection==Direction.LTR,u=s.contentDOM,f=u.getBoundingClientRect(),d=getBase$1(s),O=u.querySelector(".cm-line"),g=O&&window.getComputedStyle(O),x=f.left+(g?parseInt(g.paddingLeft)+Math.min(0,parseInt(g.textIndent)):0),T=f.right-(g?parseInt(g.paddingRight):0),E=blockAt(s,r,1),R=blockAt(s,a,-1),M=E.type==BlockType.Text?E:null,$=R.type==BlockType.Text?R:null;if(M&&(s.lineWrapping||E.widgetLineBreaks)&&(M=wrappedLine(s,r,1,M)),$&&(s.lineWrapping||R.widgetLineBreaks)&&($=wrappedLine(s,a,-1,$)),M&&$&&M.from==$.from&&M.to==$.to)return X(Y(n.from,n.to,M));{let L=M?Y(n.from,null,M):G(E,!1),I=$?Y(null,n.to,$):G(R,!0),ee=[];return(M||E).to<($||R).from-(M&&$?1:0)||E.widgetLineBreaks>1&&L.bottom+s.defaultLineHeight/2<I.top?ee.push(V(x,L.bottom,T,I.top)):L.bottom<I.top&&s.elementAtHeight((L.bottom+I.top)/2).type==BlockType.Text&&(L.bottom=I.top=(L.bottom+I.top)/2),X(L).concat(ee).concat(X(I))}function V(L,I,ee,ne){return new RectangleMarker(e,L-d.left,I-d.top,ee-L,ne-I)}function X({top:L,bottom:I,horizontal:ee}){let ne=[];for(let z=0;z<ee.length;z+=2)ne.push(V(ee[z],L,ee[z+1],I));return ne}function Y(L,I,ee){let ne=1e9,z=-1e9,ae=[];function H(se,Se,Ae,Pe,de){let Fe=s.coordsAtPos(se,se==ee.to?-2:2),Ke=s.coordsAtPos(Ae,Ae==ee.from?2:-2);!Fe||!Ke||(ne=Math.min(Fe.top,Ke.top,ne),z=Math.max(Fe.bottom,Ke.bottom,z),de==Direction.LTR?ae.push(c&&Se?x:Fe.left,c&&Pe?T:Ke.right):ae.push(!c&&Pe?x:Ke.left,!c&&Se?T:Fe.right))}let fe=L??ee.from,me=I??ee.to;for(let se of s.visibleRanges)if(se.to>fe&&se.from<me)for(let Se=Math.max(se.from,fe),Ae=Math.min(se.to,me);;){let Pe=s.state.doc.lineAt(Se);for(let de of s.bidiSpans(Pe)){let Fe=de.from+Pe.from,Ke=de.to+Pe.from;if(Fe>=Ae)break;Ke>Se&&H(Math.max(Fe,Se),L==null&&Fe<=fe,Math.min(Ke,Ae),I==null&&Ke>=me,de.dir)}if(Se=Pe.to+1,Se>=Ae)break}return ae.length==0&&H(fe,L==null,me,I==null,s.textDirection),{top:ne,bottom:z,horizontal:ae}}function G(L,I){let ee=f.top+(I?L.top:L.bottom);return{top:ee,bottom:ee,horizontal:[]}}}function sameMarker(s,e){return s.constructor==e.constructor&&s.eq(e)}class LayerView{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(layerOrder)!=e.state.facet(layerOrder)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(layerOrder);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!sameMarker(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let a of e)a.update&&n&&a.constructor&&this.drawn[r].constructor&&a.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(a.draw(),n);for(;n;){let a=n.nextSibling;n.remove(),n=a}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(s){return[ViewPlugin.define(e=>new LayerView(e,s)),layerOrder.of(s)]}const selectionConfig=Facet.define({combine(s){return combineConfig(s,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function drawSelection(s={}){return[selectionConfig.of(s),cursorLayer,selectionLayer,hideNativeSelection$1,nativeSelectionHidden.of(!0)]}function getDrawSelectionConfig$1(s){return s.facet(selectionConfig)}function configChanged$1(s){return s.startState.facet(selectionConfig)!=s.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(s){let{state:e}=s,n=e.facet(selectionConfig),r=[];for(let a of e.selection.ranges){let c=a==e.selection.main;if(a.empty||n.drawRangeCursor){let u=c?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",f=a.empty?a:EditorSelection.cursor(a.head,a.head>a.anchor?-1:1);for(let d of RectangleMarker.forRange(s,u,f))r.push(d)}}return r},update(s,e){s.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=configChanged$1(s);return n&&setBlinkRate(s.state,e),s.docChanged||s.selectionSet||n},mount(s,e){setBlinkRate(e.state,s)},class:"cm-cursorLayer"});function setBlinkRate(s,e){e.style.animationDuration=s.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(s){return s.state.selection.ranges.map(e=>e.empty?[]:RectangleMarker.forRange(s,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(s,e){return s.docChanged||s.selectionSet||s.viewportChanged||configChanged$1(s)},class:"cm-selectionLayer"}),hideNativeSelection$1=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),setDropCursorPos=StateEffect.define({map(s,e){return s==null?null:e.mapPos(s)}}),dropCursorPos=StateField.define({create(){return null},update(s,e){return s!=null&&(s=e.changes.mapPos(s)),e.effects.reduce((n,r)=>r.is(setDropCursorPos)?r.value:n,s)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(s){var e;let n=s.state.field(dropCursorPos);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(s.startState.field(dropCursorPos)!=n||s.docChanged||s.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:s}=this,e=s.state.field(dropCursorPos),n=e!=null&&s.coordsAtPos(e);if(!n)return null;let r=s.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+s.scrollDOM.scrollLeft*s.scaleX,top:n.top-r.top+s.scrollDOM.scrollTop*s.scaleY,height:n.bottom-n.top}}drawCursor(s){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;s?(this.cursor.style.left=s.left/e+"px",this.cursor.style.top=s.top/n+"px",this.cursor.style.height=s.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(s){this.view.state.field(dropCursorPos)!=s&&this.view.dispatch({effects:setDropCursorPos.of(s)})}},{eventObservers:{dragover(s){this.setDropPos(this.view.posAtCoords({x:s.clientX,y:s.clientY}))},dragleave(s){(s.target==this.view.contentDOM||!this.view.contentDOM.contains(s.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(s,e,n,r,a){e.lastIndex=0;for(let c=s.iterRange(n,r),u=n,f;!c.next().done;u+=c.value.length)if(!c.lineBreak)for(;f=e.exec(c.value);)a(u+f.index,f)}function matchRanges(s,e){let n=s.visibleRanges;if(n.length==1&&n[0].from==s.viewport.from&&n[0].to==s.viewport.to)return n;let r=[];for(let{from:a,to:c}of n)a=Math.max(s.state.doc.lineAt(a).from,a-e),c=Math.min(s.state.doc.lineAt(c).to,c+e),r.length&&r[r.length-1].to>=a?r[r.length-1].to=c:r.push({from:a,to:c});return r}class MatchDecorator{constructor(e){const{regexp:n,decoration:r,decorate:a,boundary:c,maxLength:u=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,a)this.addMatch=(f,d,O,g)=>a(g,O,O+f[0].length,f,d);else if(typeof r=="function")this.addMatch=(f,d,O,g)=>{let x=r(f,d,O);x&&g(O,O+f[0].length,x)};else if(r)this.addMatch=(f,d,O,g)=>g(O,O+f[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=c,this.maxLength=u}createDeco(e){let n=new RangeSetBuilder,r=n.add.bind(n);for(let{from:a,to:c}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,a,c,(u,f)=>this.addMatch(f,e,u,r));return n.finish()}updateDeco(e,n){let r=1e9,a=-1;return e.docChanged&&e.changes.iterChanges((c,u,f,d)=>{d>=e.view.viewport.from&&f<=e.view.viewport.to&&(r=Math.min(f,r),a=Math.max(d,a))}),e.viewportMoved||a-r>1e3?this.createDeco(e.view):a>-1?this.updateRange(e.view,n.map(e.changes),r,a):n}updateRange(e,n,r,a){for(let c of e.visibleRanges){let u=Math.max(c.from,r),f=Math.min(c.to,a);if(f>=u){let d=e.state.doc.lineAt(u),O=d.to<f?e.state.doc.lineAt(f):d,g=Math.max(c.from,d.from),x=Math.min(c.to,O.to);if(this.boundary){for(;u>d.from;u--)if(this.boundary.test(d.text[u-1-d.from])){g=u;break}for(;f<O.to;f++)if(this.boundary.test(O.text[f-O.from])){x=f;break}}let T=[],E,R=(M,$,V)=>T.push(V.range(M,$));if(d==O)for(this.regexp.lastIndex=g-d.from;(E=this.regexp.exec(d.text))&&E.index<x-d.from;)this.addMatch(E,e,E.index+d.from,R);else iterMatches(e.state.doc,this.regexp,g,x,(M,$)=>this.addMatch($,e,M,R));n=n.update({filterFrom:g,filterTo:x,filter:(M,$)=>M<g||$>x,add:T})}}return n}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var s;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let e=document.body.style;_supportsTabSize=((s=e.tabSize)!==null&&s!==void 0?s:e.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(s){let e=combineConfig(s,{render:null,specialChars:Specials,addSpecialChars:null});return(e.replaceTabs=!supportsTabSize())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,UnicodeRegexpSupport)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,UnicodeRegexpSupport)),e}});function highlightSpecialChars(s={}){return[specialCharConfig.of(s),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(s.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(s)}makeDecorator(s){return new MatchDecorator({regexp:s.specialChars,decoration:(e,n,r)=>{let{doc:a}=n.state,c=codePointAt(e[0],0);if(c==9){let u=a.lineAt(r),f=n.state.tabSize,d=countColumn(u.text,f,r-u.from);return Decoration.replace({widget:new TabWidget((f-d%f)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[c]||(this.decorationCache[c]=Decoration.replace({widget:new SpecialCharWidget(s,c)}))},boundary:s.replaceTabs?void 0:/[^]/})}update(s){let e=s.state.facet(specialCharConfig);s.startState.facet(specialCharConfig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(s.view)):this.decorations=this.decorator.updateDeco(s,this.decorations)}},{decorations:s=>s.decorations}))}const DefaultPlaceholder="";function placeholder$1(s){return s>=32?DefaultPlaceholder:s==10?"":String.fromCharCode(9216+s)}class SpecialCharWidget extends WidgetType{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=placeholder$1(this.code),r=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),a=this.options.render&&this.options.render(this.code,r,n);if(a)return a;let c=document.createElement("span");return c.textContent=n,c.title=r,c.setAttribute("aria-label",r),c.className="cm-specialChar",c}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(s){this.decorations=this.getDeco(s)}update(s){(s.docChanged||s.selectionSet)&&(this.decorations=this.getDeco(s.view))}getDeco(s){let e=-1,n=[];for(let r of s.state.selection.ranges){let a=s.lineBlockAt(r.head);a.from>e&&(n.push(lineDeco.range(a.from)),e=a.from)}return Decoration.set(n)}},{decorations:s=>s.decorations}),MaxOff=2e3;function rectangleFor(s,e,n){let r=Math.min(e.line,n.line),a=Math.max(e.line,n.line),c=[];if(e.off>MaxOff||n.off>MaxOff||e.col<0||n.col<0){let u=Math.min(e.off,n.off),f=Math.max(e.off,n.off);for(let d=r;d<=a;d++){let O=s.doc.line(d);O.length<=f&&c.push(EditorSelection.range(O.from+u,O.to+f))}}else{let u=Math.min(e.col,n.col),f=Math.max(e.col,n.col);for(let d=r;d<=a;d++){let O=s.doc.line(d),g=findColumn(O.text,u,s.tabSize,!0);if(g<0)c.push(EditorSelection.cursor(O.to));else{let x=findColumn(O.text,f,s.tabSize);c.push(EditorSelection.range(O.from+g,O.from+x))}}}return c}function absoluteColumn(s,e){let n=s.coordsAtPos(s.viewport.from);return n?Math.round(Math.abs((n.left-e)/s.defaultCharacterWidth)):-1}function getPos(s,e){let n=s.posAtCoords({x:e.clientX,y:e.clientY},!1),r=s.state.doc.lineAt(n),a=n-r.from,c=a>MaxOff?-1:a==r.length?absoluteColumn(s,e.clientX):countColumn(r.text,s.state.tabSize,n-r.from);return{line:r.number,col:c,off:a}}function rectangleSelectionStyle(s,e){let n=getPos(s,e),r=s.state.selection;return n?{update(a){if(a.docChanged){let c=a.changes.mapPos(a.startState.doc.line(n.line).from),u=a.state.doc.lineAt(c);n={line:u.number,col:n.col,off:Math.min(n.off,u.length)},r=r.map(a.changes)}},get(a,c,u){let f=getPos(s,a);if(!f)return r;let d=rectangleFor(s.state,n,f);return d.length?u?EditorSelection.create(d.concat(r.ranges)):EditorSelection.create(d):r}}:null}function rectangularSelection(s){let e=(s==null?void 0:s.eventFilter)||(n=>n.altKey&&n.button==0);return EditorView.mouseSelectionStyle.of((n,r)=>e(r)?rectangleSelectionStyle(n,r):null)}const keys$1={Alt:[18,s=>!!s.altKey],Control:[17,s=>!!s.ctrlKey],Shift:[16,s=>!!s.shiftKey],Meta:[91,s=>!!s.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(s={}){let[e,n]=keys$1[s.key||"Alt"],r=ViewPlugin.fromClass(class{constructor(a){this.view=a,this.isDown=!1}set(a){this.isDown!=a&&(this.isDown=a,this.view.update([]))}},{eventObservers:{keydown(a){this.set(a.keyCode==e||n(a))},keyup(a){(a.keyCode==e||!n(a))&&this.set(!1)},mousemove(a){this.set(n(a))}}});return[r,EditorView.contentAttributes.of(a=>{var c;return!((c=a.plugin(r))===null||c===void 0)&&c.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(e,n,r,a){this.facet=n,this.createTooltipView=r,this.removeTooltipView=a,this.input=e.state.facet(n),this.tooltips=this.input.filter(u=>u);let c=null;this.tooltipViews=this.tooltips.map(u=>c=r(u,c))}update(e,n){var r;let a=e.state.facet(this.facet),c=a.filter(d=>d);if(a===this.input){for(let d of this.tooltipViews)d.update&&d.update(e);return!1}let u=[],f=n?[]:null;for(let d=0;d<c.length;d++){let O=c[d],g=-1;if(O){for(let x=0;x<this.tooltips.length;x++){let T=this.tooltips[x];T&&T.create==O.create&&(g=x)}if(g<0)u[d]=this.createTooltipView(O,d?u[d-1]:null),f&&(f[d]=!!O.above);else{let x=u[d]=this.tooltipViews[g];f&&(f[d]=n[g]),x.update&&x.update(e)}}}for(let d of this.tooltipViews)u.indexOf(d)<0&&(this.removeTooltipView(d),(r=d.destroy)===null||r===void 0||r.call(d));return n&&(f.forEach((d,O)=>n[O]=d),n.length=f.length),this.input=a,this.tooltips=c,this.tooltipViews=u,!0}}function windowSpace(s){let e=s.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const tooltipConfig=Facet.define({combine:s=>{var e,n,r;return{position:browser.ios?"absolute":((e=s.find(a=>a.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=s.find(a=>a.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=s.find(a=>a.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=s.state.facet(tooltipConfig);this.position=e.position,this.parent=e.parent,this.classes=s.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(s,showTooltip,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),s.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let s of this.manager.tooltipViews)this.intersectionObserver.observe(s.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(s){s.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(s,this.above);e&&this.observeIntersection();let n=e||s.geometryChanged,r=s.state.facet(tooltipConfig);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let a of this.manager.tooltipViews)a.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let a of this.manager.tooltipViews)this.container.appendChild(a.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(s,e){let n=s.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),s.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",n.dom.appendChild(a)}return n.dom.style.position=this.position,n.dom.style.top=Outside,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var s,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(s=r.destroy)===null||s===void 0||s.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let s=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:c}=this.manager.tooltipViews[0];if(browser.gecko)n=c.offsetParent!=this.container.ownerDocument.body;else if(c.style.top==Outside&&c.style.left=="0px"){let u=c.getBoundingClientRect();n=Math.abs(u.top+1e4)>1||Math.abs(u.left)>1}}if(n||this.position=="absolute")if(this.parent){let c=this.parent.getBoundingClientRect();c.width&&c.height&&(s=c.width/this.parent.offsetWidth,e=c.height/this.parent.offsetHeight)}else({scaleX:s,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),a=getScrollMargins(this.view);return{visible:{left:r.left+a.left,top:r.top+a.top,right:r.right-a.right,bottom:r.bottom-a.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((c,u)=>{let f=this.manager.tooltipViews[u];return f.getCoords?f.getCoords(c.pos):this.view.coordsAtPos(c.pos)}),size:this.manager.tooltipViews.map(({dom:c})=>c.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:s,scaleY:e,makeAbsolute:n}}writeMeasure(s){var e;if(s.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let f of this.manager.tooltipViews)f.dom.style.position="absolute"}let{visible:n,space:r,scaleX:a,scaleY:c}=s,u=[];for(let f=0;f<this.manager.tooltips.length;f++){let d=this.manager.tooltips[f],O=this.manager.tooltipViews[f],{dom:g}=O,x=s.pos[f],T=s.size[f];if(!x||d.clip!==!1&&(x.bottom<=Math.max(n.top,r.top)||x.top>=Math.min(n.bottom,r.bottom)||x.right<Math.max(n.left,r.left)-.1||x.left>Math.min(n.right,r.right)+.1)){g.style.top=Outside;continue}let E=d.arrow?O.dom.querySelector(".cm-tooltip-arrow"):null,R=E?7:0,M=T.right-T.left,$=(e=knownHeight.get(O))!==null&&e!==void 0?e:T.bottom-T.top,V=O.offset||noOffset,X=this.view.textDirection==Direction.LTR,Y=T.width>r.right-r.left?X?r.left:r.right-T.width:X?Math.max(r.left,Math.min(x.left-(E?14:0)+V.x,r.right-M)):Math.min(Math.max(r.left,x.left-M+(E?14:0)-V.x),r.right-M),G=this.above[f];!d.strictSide&&(G?x.top-$-R-V.y<r.top:x.bottom+$+R+V.y>r.bottom)&&G==r.bottom-x.bottom>x.top-r.top&&(G=this.above[f]=!G);let L=(G?x.top-r.top:r.bottom-x.bottom)-R;if(L<$&&O.resize!==!1){if(L<this.view.defaultLineHeight){g.style.top=Outside;continue}knownHeight.set(O,$),g.style.height=($=L)/c+"px"}else g.style.height&&(g.style.height="");let I=G?x.top-$-R-V.y:x.bottom+R+V.y,ee=Y+M;if(O.overlap!==!0)for(let ne of u)ne.left<ee&&ne.right>Y&&ne.top<I+$&&ne.bottom>I&&(I=G?ne.top-$-2-R:ne.bottom+R+2);if(this.position=="absolute"?(g.style.top=(I-s.parent.top)/c+"px",setLeftStyle(g,(Y-s.parent.left)/a)):(g.style.top=I/c+"px",setLeftStyle(g,Y/a)),E){let ne=x.left+(X?V.x:-V.x)-(Y+14-7);E.style.left=ne/a+"px"}O.overlap!==!0&&u.push({left:Y,top:I,right:ee,bottom:I+$}),g.classList.toggle("cm-tooltip-above",G),g.classList.toggle("cm-tooltip-below",!G),O.positioned&&O.positioned(s.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let s of this.manager.tooltipViews)s.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(s,e){let n=parseInt(s.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(s.style.left=e+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:s=>s.reduce((e,n)=>e.concat(n),[])});class HoverTooltipHost{static create(e){return new HoverTooltipHost(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let a=r[e];if(a!==void 0){if(n===void 0)n=a;else if(n!==a)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],s=>{let e=s.facet(showHoverTooltip);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:HoverTooltipHost.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class HoverPlugin{constructor(e,n,r,a,c){this.view=e,this.source=n,this.field=r,this.setHover=a,this.hoverTime=c,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let a,c=1;if(r instanceof WidgetView)a=r.posAtStart;else{if(a=e.posAtCoords(n),a==null)return;let f=e.coordsAtPos(a);if(!f||n.y<f.top||n.y>f.bottom||n.x<f.left-e.defaultCharacterWidth||n.x>f.right+e.defaultCharacterWidth)return;let d=e.bidiSpans(e.state.doc.lineAt(a)).find(g=>g.from<=a&&g.to>=a),O=d&&d.dir==Direction.RTL?-1:1;c=n.x<f.left?-O:O}let u=this.source(e,a,c);if(u!=null&&u.then){let f=this.pending={pos:a};u.then(d=>{this.pending==f&&(this.pending=null,d&&!(Array.isArray(d)&&!d.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(d)?d:[d])}))},d=>logException(e.state,d,"hover tooltip"))}else u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])})}get tooltip(){let e=this.view.plugin(tooltipPlugin),n=e?e.manager.tooltips.findIndex(r=>r.create==HoverTooltipHost.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:c}=this;if(a.length&&c&&!isInTooltip(c.dom,e)||this.pending){let{pos:u}=a[0]||this.pending,f=(r=(n=a[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:u;(u==f?this.view.posAtCoords(this.lastMove)!=u:!isOverRange(this.view,u,f,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(s,e){let{left:n,right:r,top:a,bottom:c}=s.getBoundingClientRect(),u;if(u=s.querySelector(".cm-tooltip-arrow")){let f=u.getBoundingClientRect();a=Math.min(f.top,a),c=Math.max(f.bottom,c)}return e.clientX>=n-tooltipMargin&&e.clientX<=r+tooltipMargin&&e.clientY>=a-tooltipMargin&&e.clientY<=c+tooltipMargin}function isOverRange(s,e,n,r,a,c){let u=s.scrollDOM.getBoundingClientRect(),f=s.documentTop+s.documentPadding.top+s.contentHeight;if(u.left>r||u.right<r||u.top>a||Math.min(u.bottom,f)<a)return!1;let d=s.posAtCoords({x:r,y:a},!1);return d>=e&&d<=n}function hoverTooltip(s,e={}){let n=StateEffect.define(),r=StateField.define({create(){return[]},update(a,c){if(a.length&&(e.hideOnChange&&(c.docChanged||c.selection)?a=[]:e.hideOn&&(a=a.filter(u=>!e.hideOn(c,u))),c.docChanged)){let u=[];for(let f of a){let d=c.changes.mapPos(f.pos,-1,MapMode.TrackDel);if(d!=null){let O=Object.assign(Object.create(null),f);O.pos=d,O.end!=null&&(O.end=c.changes.mapPos(O.end)),u.push(O)}}a=u}for(let u of c.effects)u.is(n)&&(a=u.value),u.is(closeHoverTooltipEffect)&&(a=[]);return a},provide:a=>showHoverTooltip.from(a)});return{active:r,extension:[r,ViewPlugin.define(a=>new HoverPlugin(a,s,r,n,e.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(s,e){let n=s.plugin(tooltipPlugin);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(s){let e,n;for(let r of s)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function getPanel(s,e){let n=s.plugin(panelPlugin),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(s){this.input=s.state.facet(showPanel),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(s));let e=s.state.facet(panelConfig);this.top=new PanelGroup(s,!0,e.topContainer),this.bottom=new PanelGroup(s,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(s){let e=s.state.facet(panelConfig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new PanelGroup(s.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(s.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=s.state.facet(showPanel);if(n!=this.input){let r=n.filter(d=>d),a=[],c=[],u=[],f=[];for(let d of r){let O=this.specs.indexOf(d),g;O<0?(g=d(s.view),f.push(g)):(g=this.panels[O],g.update&&g.update(s)),a.push(g),(g.top?c:u).push(g)}this.specs=r,this.panels=a,this.top.sync(c),this.bottom.sync(u);for(let d of f)d.dom.classList.add("cm-panel"),d.mount&&d.mount()}else for(let r of this.panels)r.update&&r.update(s)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:s=>EditorView.scrollMargins.of(e=>{let n=e.plugin(s);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class PanelGroup{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(s){let e=s.nextSibling;return s.remove(),e}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},activeGutters=Facet.define();function gutter(s){return[gutters(),activeGutters.of({...defaults$1,...s})]}const unfixGutters=Facet.define({combine:s=>s.some(e=>e)});function gutters(s){let e=[gutterView];return s&&s.fixed===!1&&e.push(unfixGutters.of(!0)),e}const gutterView=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.domAfter=null,this.prevViewport=s.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=s.state.facet(activeGutters).map(e=>new SingleGutterView(s,e)),this.fixed=!s.state.facet(unfixGutters);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),s.scrollDOM.insertBefore(this.dom,s.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(s){if(this.updateGutters(s)){let e=this.prevViewport,n=s.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(s.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=s.view.viewport}syncGutters(s){let e=this.dom.nextSibling;s&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),r=[],a=this.gutters.map(c=>new UpdateContext(c,this.view.viewport,-this.view.documentPadding.top));for(let c of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(c.type)){let u=!0;for(let f of c.type)if(f.type==BlockType.Text&&u){advanceCursor(n,r,f.from);for(let d of a)d.line(this.view,f,r);u=!1}else if(f.widget)for(let d of a)d.widget(this.view,f)}else if(c.type==BlockType.Text){advanceCursor(n,r,c.from);for(let u of a)u.line(this.view,c,r)}else if(c.widget)for(let u of a)u.widget(this.view,c);for(let c of a)c.finish();s&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(s){let e=s.startState.facet(activeGutters),n=s.state.facet(activeGutters),r=s.docChanged||s.heightChanged||s.viewportChanged||!RangeSet.eq(s.startState.facet(gutterLineClass),s.state.facet(gutterLineClass),s.view.viewport.from,s.view.viewport.to);if(e==n)for(let a of this.gutters)a.update(s)&&(r=!0);else{r=!0;let a=[];for(let c of n){let u=e.indexOf(c);u<0?a.push(new SingleGutterView(this.view,c)):(this.gutters[u].update(s),a.push(this.gutters[u]))}for(let c of this.gutters)c.dom.remove(),a.indexOf(c)<0&&c.destroy();for(let c of a)c.config.side=="after"?this.getDOMAfter().appendChild(c.dom):this.dom.appendChild(c.dom);this.gutters=a}return r}destroy(){for(let s of this.gutters)s.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:s=>EditorView.scrollMargins.of(e=>{let n=e.plugin(s);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,a=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Direction.LTR?{left:r,right:a}:{right:r,left:a}})});function asArray(s){return Array.isArray(s)?s:[s]}function advanceCursor(s,e,n){for(;s.value&&s.from<=n;)s.from==n&&e.push(s.value),s.next()}class UpdateContext{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=RangeSet.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:a}=this,c=(n.top-this.height)/e.scaleY,u=n.height/e.scaleY;if(this.i==a.elements.length){let f=new GutterElement(e,u,c,r);a.elements.push(f),a.dom.appendChild(f.dom)}else a.elements[this.i].update(e,u,c,r);this.height=n.bottom,this.i++}line(e,n,r){let a=[];advanceCursor(this.cursor,a,n.from),r.length&&(a=a.concat(r));let c=this.gutter.config.lineMarker(e,n,a);c&&a.unshift(c);let u=this.gutter;a.length==0&&!u.config.renderEmptyElements||this.addElement(e,n,a)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),a=r?[r]:null;for(let c of e.state.facet(gutterWidgetClass)){let u=c(e,n.widget,n);u&&(a||(a=[])).push(u)}a&&this.addElement(e,n,a)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class SingleGutterView{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,a=>{let c=a.target,u;if(c!=this.dom&&this.dom.contains(c)){for(;c.parentNode!=this.dom;)c=c.parentNode;let d=c.getBoundingClientRect();u=(d.top+d.bottom)/2}else u=a.clientY;let f=e.lineBlockAtHeight(u-e.documentTop);n.domEventHandlers[r](e,f,a)&&a.preventDefault()});this.markers=asArray(n.markers(e)),n.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let a=this.config.updateSpacer(this.spacer.markers[0],e);a!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[a])}let r=e.view.viewport;return!RangeSet.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,n,r,a){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,a)}update(e,n,r,a){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),sameMarkers(this.markers,a)||this.setMarkers(e,a)}setMarkers(e,n){let r="cm-gutterElement",a=this.dom.firstChild;for(let c=0,u=0;;){let f=u,d=c<n.length?n[c++]:null,O=!1;if(d){let g=d.elementClass;g&&(r+=" "+g);for(let x=u;x<this.markers.length;x++)if(this.markers[x].compare(d)){f=x,O=!0;break}}else f=this.markers.length;for(;u<f;){let g=this.markers[u++];if(g.toDOM){g.destroy(a);let x=a.nextSibling;a.remove(),a=x}}if(!d)break;d.toDOM&&(O?a=a.nextSibling:this.dom.insertBefore(d.toDOM(e),a)),O&&u++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function sameMarkers(s,e){if(s.length!=e.length)return!1;for(let n=0;n<s.length;n++)if(!s[n].compare(e[n]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(s){return combineConfig(s,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let a in n){let c=r[a],u=n[a];r[a]=c?(f,d,O)=>c(f,d,O)||u(f,d,O):u}return r}})}});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(s,e){return s.state.facet(lineNumberConfig).formatNumber(e,s.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],s=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lineNumberMarkers)},lineMarker(e,n,r){return r.some(a=>a.toDOM)?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let a of e.state.facet(lineNumberWidgetMarker)){let c=a(e,n,r);if(c)return c}return null},lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer(e){return new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines)))},updateSpacer(e,n){let r=formatNumber(n.view,maxLineNumber(n.view.state.doc.lines));return r==e.number?e:new NumberMarker(r)},domEventHandlers:s.facet(lineNumberConfig).domEventHandlers,side:"before"}));function lineNumbers(s={}){return[lineNumberConfig.of(s),gutters(),lineNumberGutter]}function maxLineNumber(s){let e=9;for(;e<s;)e=e*10+9;return e}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],s=>{let e=[],n=-1;for(let r of s.selection.ranges){let a=s.doc.lineAt(r.head).from;a>n&&(n=a,e.push(activeLineGutterMarker.range(a)))}return RangeSet.of(e)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(e,n){this.from=e,this.to=n}}class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=NodeType.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}NodeProp.closedBy=new NodeProp({deserialize:s=>s.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:s=>s.split(" ")});NodeProp.group=new NodeProp({deserialize:s=>s.split(" ")});NodeProp.isolate=new NodeProp({deserialize:s=>{if(s&&s!="rtl"&&s!="ltr"&&s!="auto")throw new RangeError("Invalid value for isolate: "+s);return s||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(e,n,r,a=0){this.name=e,this.props=n,this.id=r,this.flags=a}static define(e){let n=e.props&&e.props.length?Object.create(null):noProps,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),a=new NodeType(e.name||"",n,e.id,r);if(e.props){for(let c of e.props)if(Array.isArray(c)||(c=c(a)),c){if(c[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[c[0].id]=c[1]}}return a}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(NodeProp.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let a of r.split(" "))n[a]=e[r];return r=>{for(let a=r.prop(NodeProp.group),c=-1;c<(a?a.length:0);c++){let u=n[c<0?r.name:a[c]];if(u)return u}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let a=null;for(let c of e){let u=c(r);u&&(a||(a=Object.assign({},r.props)),a[u[0].id]=u[1])}n.push(a?new NodeType(r.name,a,r.id,r.flags):r)}return new NodeSet(n)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(s){s[s.ExcludeBuffers=1]="ExcludeBuffers",s[s.IncludeAnonymous=2]="IncludeAnonymous",s[s.IgnoreMounts=4]="IgnoreMounts",s[s.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(e,n,r,a,c){if(this.type=e,this.children=n,this.positions=r,this.length=a,this.props=null,c&&c.length){this.props=Object.create(null);for(let[u,f]of c)this.props[typeof u=="number"?u:u.id]=f}}toString(){let e=MountedTree.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let a=r.toString();a&&(n&&(n+=","),n+=a)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new TreeCursor(this.topNode,e)}cursorAt(e,n=0,r=0){let a=CachedNode.get(this)||this.topNode,c=new TreeCursor(a);return c.moveTo(e,n),CachedNode.set(this,c._tree),c}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,n=0){let r=resolveNode(CachedNode.get(this)||this.topNode,e,n,!1);return CachedNode.set(this,r),r}resolveInner(e,n=0){let r=resolveNode(CachedInnerNode.get(this)||this.topNode,e,n,!0);return CachedInnerNode.set(this,r),r}resolveStack(e,n=0){return stackIterator(this,e,n)}iterate(e){let{enter:n,leave:r,from:a=0,to:c=this.length}=e,u=e.mode||0,f=(u&IterMode.IncludeAnonymous)>0;for(let d=this.cursor(u|IterMode.IncludeAnonymous);;){let O=!1;if(d.from<=c&&d.to>=a&&(!f&&d.type.isAnonymous||n(d)!==!1)){if(d.firstChild())continue;O=!0}for(;O&&r&&(f||!d.type.isAnonymous)&&r(d),!d.nextSibling();){if(!d.parent())return;O=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,a)=>new Tree(this.type,n,r,a,this.propValues),e.makeTree||((n,r,a)=>new Tree(NodeType.none,n,r,a)))}static build(e){return buildTree(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return NodeType.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],a=this.set.types[n],c=a.name;if(/\W/.test(c)&&!a.isError&&(c=JSON.stringify(c)),e+=4,r==e)return c;let u=[];for(;e<r;)u.push(this.childString(e)),e=this.buffer[e+3];return c+"("+u.join(",")+")"}findChild(e,n,r,a,c){let{buffer:u}=this,f=-1;for(let d=e;d!=n&&!(checkSide(c,a,u[d+1],u[d+2])&&(f=d,r>0));d=u[d+3]);return f}slice(e,n,r){let a=this.buffer,c=new Uint16Array(n-e),u=0;for(let f=e,d=0;f<n;){c[d++]=a[f++],c[d++]=a[f++]-r;let O=c[d++]=a[f++]-r;c[d++]=a[f++]-e,u=Math.max(u,O)}return new TreeBuffer(c,u,this.set)}}function checkSide(s,e,n,r){switch(s){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function resolveNode(s,e,n,r){for(var a;s.from==s.to||(n<1?s.from>=e:s.from>e)||(n>-1?s.to<=e:s.to<e);){let u=!r&&s instanceof TreeNode&&s.index<0?null:s.parent;if(!u)return s;s=u}let c=r?0:IterMode.IgnoreOverlays;if(r)for(let u=s,f=u.parent;f;u=f,f=u.parent)u instanceof TreeNode&&u.index<0&&((a=f.enter(e,n,c))===null||a===void 0?void 0:a.from)!=u.from&&(s=f);for(;;){let u=s.enter(e,n,c);if(!u)return s;s=u}}class BaseNode{cursor(e=0){return new TreeCursor(this,e)}getChild(e,n=null,r=null){let a=getChildren(this,e,n,r);return a.length?a[0]:null}getChildren(e,n=null,r=null){return getChildren(this,e,n,r)}resolve(e,n=0){return resolveNode(this,e,n,!1)}resolveInner(e,n=0){return resolveNode(this,e,n,!0)}matchContext(e){return matchNodeContext(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let a=n.lastChild;if(!a||a.to!=n.to)break;a.type.isError&&a.from==a.to?(r=n,n=a.prevSibling):n=a}return r}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(e,n,r,a){super(),this._tree=e,this.from=n,this.index=r,this._parent=a}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,a,c=0){for(let u=this;;){for(let{children:f,positions:d}=u._tree,O=n>0?f.length:-1;e!=O;e+=n){let g=f[e],x=d[e]+u.from;if(checkSide(a,r,x,x+g.length)){if(g instanceof TreeBuffer){if(c&IterMode.ExcludeBuffers)continue;let T=g.findChild(0,g.buffer.length,n,r-x,a);if(T>-1)return new BufferNode(new BufferContext(u,g,e,x),null,T)}else if(c&IterMode.IncludeAnonymous||!g.type.isAnonymous||hasChild(g)){let T;if(!(c&IterMode.IgnoreMounts)&&(T=MountedTree.get(g))&&!T.overlay)return new TreeNode(T.tree,x,e,u);let E=new TreeNode(g,x,e,u);return c&IterMode.IncludeAnonymous||!E.type.isAnonymous?E:E.nextChild(n<0?g.children.length-1:0,n,r,a)}}}if(c&IterMode.IncludeAnonymous||!u.type.isAnonymous||(u.index>=0?e=u.index+n:e=n<0?-1:u._parent._tree.children.length,u=u._parent,!u))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let a;if(!(r&IterMode.IgnoreOverlays)&&(a=MountedTree.get(this._tree))&&a.overlay){let c=e-this.from;for(let{from:u,to:f}of a.overlay)if((n>0?u<=c:u<c)&&(n<0?f>=c:f>c))return new TreeNode(a.tree,a.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(s,e,n,r){let a=s.cursor(),c=[];if(!a.firstChild())return c;if(n!=null){for(let u=!1;!u;)if(u=a.type.is(n),!a.nextSibling())return c}for(;;){if(r!=null&&a.type.is(r))return c;if(a.type.is(e)&&c.push(a.node),!a.nextSibling())return r==null?c:[]}}function matchNodeContext(s,e,n=e.length-1){for(let r=s;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class BufferContext{constructor(e,n,r,a){this.parent=e,this.buffer=n,this.index=r,this.start=a}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:a}=this.context,c=a.findChild(this.index+4,a.buffer[this.index+3],e,n-this.context.start,r);return c<0?null:new BufferNode(this.context,this,c)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&IterMode.ExcludeBuffers)return null;let{buffer:a}=this.context,c=a.findChild(this.index+4,a.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return c<0?null:new BufferNode(this.context,this,c)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,a=this.index+4,c=r.buffer[this.index+3];if(c>a){let u=r.buffer[this.index+1];e.push(r.slice(a,c,u)),n.push(0)}return new Tree(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(s){if(!s.length)return null;let e=0,n=s[0];for(let c=1;c<s.length;c++){let u=s[c];(u.from>n.from||u.to<n.to)&&(n=u,e=c)}let r=n instanceof TreeNode&&n.index<0?null:n.parent,a=s.slice();return r?a[e]=r:a.splice(e,1),new StackIterator(a,n)}class StackIterator{constructor(e,n){this.heads=e,this.node=n}get next(){return iterStack(this.heads)}}function stackIterator(s,e,n){let r=s.resolveInner(e,n),a=null;for(let c=r instanceof TreeNode?r:r.context.parent;c;c=c.parent)if(c.index<0){let u=c.parent;(a||(a=[r])).push(u.resolve(e,n)),c=u}else{let u=MountedTree.get(c.tree);if(u&&u.overlay&&u.overlay[0].from<=e&&u.overlay[u.overlay.length-1].to>=e){let f=new TreeNode(u.tree,u.overlay[0].from+c.from,-1,c);(a||(a=[r])).push(resolveNode(f,e,n,!1))}}return a?iterStack(a):r}class TreeCursor{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:a}=this.buffer;return this.type=n||a.set.types[a.buffer[e]],this.from=r+a.buffer[e+1],this.to=r+a.buffer[e+2],!0}yield(e){return e?e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:a}=this.buffer,c=a.findChild(this.index+4,a.buffer[this.index+3],e,n-this.buffer.start,r);return c<0?!1:(this.stack.push(this.index),this.yieldBuf(c))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&IterMode.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let a=r<0?0:this.stack[r]+4;if(this.index!=a)return this.yieldBuf(n.findChild(a,this.index,-1,0,4))}else{let a=n.buffer[this.index+3];if(a<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(a)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:a}=this;if(a){if(e>0){if(this.index<a.buffer.buffer.length)return!1}else for(let c=0;c<this.index;c++)if(a.buffer.buffer[c+3]<this.index)return!1;({index:n,parent:r}=a)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let c=n+e,u=e<0?-1:r._tree.children.length;c!=u;c+=e){let f=r._tree.children[c];if(this.mode&IterMode.IncludeAnonymous||f instanceof TreeBuffer||!f.type.isAnonymous||hasChild(f))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let a=this.index,c=this.stack.length;c>=0;){for(let u=e;u;u=u._parent)if(u.index==a){if(a==this.index)return u;n=u,r=c+1;break e}a=this.stack[--c]}for(let a=r;a<this.stack.length;a++)n=new BufferNode(this.buffer,n,this.stack[a]);return this.bufferNode=new BufferNode(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let a=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(a=!0)}for(;;){if(a&&n&&n(this),a=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,a=!0}}}matchContext(e){if(!this.buffer)return matchNodeContext(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let a=e.length-1,c=this.stack.length-1;a>=0;c--){if(c<0)return matchNodeContext(this._tree,e,a);let u=r[n.buffer[this.stack[c]]];if(!u.isAnonymous){if(e[a]&&e[a]!=u.name)return!1;a--}}return!0}}function hasChild(s){return s.children.some(e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))}function buildTree(s){var e;let{buffer:n,nodeSet:r,maxBufferLength:a=DefaultBufferLength,reused:c=[],minRepeatType:u=r.types.length}=s,f=Array.isArray(n)?new FlatBufferCursor(n,n.length):n,d=r.types,O=0,g=0;function x(L,I,ee,ne,z,ae){let{id:H,start:fe,end:me,size:se}=f,Se=g,Ae=O;for(;se<0;)if(f.next(),se==-1){let ct=c[H];ee.push(ct),ne.push(fe-L);return}else if(se==-3){O=H;return}else if(se==-4){g=H;return}else throw new RangeError(`Unrecognized record size: ${se}`);let Pe=d[H],de,Fe,Ke=fe-L;if(me-fe<=a&&(Fe=$(f.pos-I,z))){let ct=new Uint16Array(Fe.size-Fe.skip),it=f.pos-Fe.size,te=ct.length;for(;f.pos>it;)te=V(Fe.start,ct,te);de=new TreeBuffer(ct,me-Fe.start,r),Ke=Fe.start-L}else{let ct=f.pos-se;f.next();let it=[],te=[],D=H>=u?H:-1,F=0,j=me;for(;f.pos>ct;)D>=0&&f.id==D&&f.size>=0?(f.end<=j-a&&(R(it,te,fe,F,f.end,j,D,Se,Ae),F=it.length,j=f.end),f.next()):ae>2500?T(fe,ct,it,te):x(fe,ct,it,te,D,ae+1);if(D>=0&&F>0&&F<it.length&&R(it,te,fe,F,fe,j,D,Se,Ae),it.reverse(),te.reverse(),D>-1&&F>0){let W=E(Pe,Ae);de=balanceRange(Pe,it,te,0,it.length,0,me-fe,W,W)}else de=M(Pe,it,te,me-fe,Se-me,Ae)}ee.push(de),ne.push(Ke)}function T(L,I,ee,ne){let z=[],ae=0,H=-1;for(;f.pos>I;){let{id:fe,start:me,end:se,size:Se}=f;if(Se>4)f.next();else{if(H>-1&&me<H)break;H<0&&(H=se-a),z.push(fe,me,se),ae++,f.next()}}if(ae){let fe=new Uint16Array(ae*4),me=z[z.length-2];for(let se=z.length-3,Se=0;se>=0;se-=3)fe[Se++]=z[se],fe[Se++]=z[se+1]-me,fe[Se++]=z[se+2]-me,fe[Se++]=Se;ee.push(new TreeBuffer(fe,z[2]-me,r)),ne.push(me-L)}}function E(L,I){return(ee,ne,z)=>{let ae=0,H=ee.length-1,fe,me;if(H>=0&&(fe=ee[H])instanceof Tree){if(!H&&fe.type==L&&fe.length==z)return fe;(me=fe.prop(NodeProp.lookAhead))&&(ae=ne[H]+fe.length+me)}return M(L,ee,ne,z,ae,I)}}function R(L,I,ee,ne,z,ae,H,fe,me){let se=[],Se=[];for(;L.length>ne;)se.push(L.pop()),Se.push(I.pop()+ee-z);L.push(M(r.types[H],se,Se,ae-z,fe-ae,me)),I.push(z-ee)}function M(L,I,ee,ne,z,ae,H){if(ae){let fe=[NodeProp.contextHash,ae];H=H?[fe].concat(H):[fe]}if(z>25){let fe=[NodeProp.lookAhead,z];H=H?[fe].concat(H):[fe]}return new Tree(L,I,ee,ne,H)}function $(L,I){let ee=f.fork(),ne=0,z=0,ae=0,H=ee.end-a,fe={size:0,start:0,skip:0};e:for(let me=ee.pos-L;ee.pos>me;){let se=ee.size;if(ee.id==I&&se>=0){fe.size=ne,fe.start=z,fe.skip=ae,ae+=4,ne+=4,ee.next();continue}let Se=ee.pos-se;if(se<0||Se<me||ee.start<H)break;let Ae=ee.id>=u?4:0,Pe=ee.start;for(ee.next();ee.pos>Se;){if(ee.size<0)if(ee.size==-3)Ae+=4;else break e;else ee.id>=u&&(Ae+=4);ee.next()}z=Pe,ne+=se,ae+=Ae}return(I<0||ne==L)&&(fe.size=ne,fe.start=z,fe.skip=ae),fe.size>4?fe:void 0}function V(L,I,ee){let{id:ne,start:z,end:ae,size:H}=f;if(f.next(),H>=0&&ne<u){let fe=ee;if(H>4){let me=f.pos-(H-4);for(;f.pos>me;)ee=V(L,I,ee)}I[--ee]=fe,I[--ee]=ae-L,I[--ee]=z-L,I[--ee]=ne}else H==-3?O=ne:H==-4&&(g=ne);return ee}let X=[],Y=[];for(;f.pos>0;)x(s.start||0,s.bufferStart||0,X,Y,-1,0);let G=(e=s.length)!==null&&e!==void 0?e:X.length?Y[0]+X[0].length:0;return new Tree(d[s.topID],X.reverse(),Y.reverse(),G)}const nodeSizeCache=new WeakMap;function nodeSize(s,e){if(!s.isAnonymous||e instanceof TreeBuffer||e.type!=s)return 1;let n=nodeSizeCache.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=s||!(r instanceof Tree)){n=1;break}n+=nodeSize(s,r)}nodeSizeCache.set(e,n)}return n}function balanceRange(s,e,n,r,a,c,u,f,d){let O=0;for(let R=r;R<a;R++)O+=nodeSize(s,e[R]);let g=Math.ceil(O*1.5/8),x=[],T=[];function E(R,M,$,V,X){for(let Y=$;Y<V;){let G=Y,L=M[Y],I=nodeSize(s,R[Y]);for(Y++;Y<V;Y++){let ee=nodeSize(s,R[Y]);if(I+ee>=g)break;I+=ee}if(Y==G+1){if(I>g){let ee=R[G];E(ee.children,ee.positions,0,ee.children.length,M[G]+X);continue}x.push(R[G])}else{let ee=M[Y-1]+R[Y-1].length-L;x.push(balanceRange(s,R,M,G,Y,L,ee,null,d))}T.push(L+X-c)}}return E(e,n,r,a,0),(f||d)(x,T,u)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let a=this.map.get(e);a||this.map.set(e,a=new Map),a.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof BufferNode?this.setBuffer(e.context.buffer,e.index,n):e instanceof TreeNode&&this.map.set(e.tree,n)}get(e){return e instanceof BufferNode?this.getBuffer(e.context.buffer,e.index):e instanceof TreeNode?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class TreeFragment{constructor(e,n,r,a,c=!1,u=!1){this.from=e,this.to=n,this.tree=r,this.offset=a,this.open=(c?1:0)|(u?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let a=[new TreeFragment(0,e.length,e,0,!1,r)];for(let c of n)c.to>e.length&&a.push(c);return a}static applyChanges(e,n,r=128){if(!n.length)return e;let a=[],c=1,u=e.length?e[0]:null;for(let f=0,d=0,O=0;;f++){let g=f<n.length?n[f]:null,x=g?g.fromA:1e9;if(x-d>=r)for(;u&&u.from<x;){let T=u;if(d>=T.from||x<=T.to||O){let E=Math.max(T.from,d)-O,R=Math.min(T.to,x)-O;T=E>=R?null:new TreeFragment(E,R,T.tree,T.offset+O,f>0,!!g)}if(T&&a.push(T),u.to>x)break;u=c<e.length?e[c++]:null}if(!g)break;d=g.toA,O=g.toA-g.toB}return a}}class Parser{startParse(e,n,r){return typeof e=="string"&&(e=new StringInput(e)),r=r?r.length?r.map(a=>new Range(a.from,a.to)):[new Range(0,0)]:[new Range(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let a=this.startParse(e,n,r);for(;;){let c=a.advance();if(c)return c}}}class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function parseMixed(s){return(e,n,r,a)=>new MixedParse(e,s,n,r,a)}class InnerParse{constructor(e,n,r,a,c){this.parser=e,this.parse=n,this.overlay=r,this.target=a,this.from=c}}function checkRanges(s){if(!s.length||s.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(s))}class ActiveOverlay{constructor(e,n,r,a,c,u,f){this.parser=e,this.predicate=n,this.mounts=r,this.index=a,this.start=c,this.target=u,this.prev=f,this.depth=0,this.ranges=[]}}const stoppedInner=new NodeProp({perNode:!0});class MixedParse{constructor(e,n,r,a,c){this.nest=n,this.input=r,this.fragments=a,this.ranges=c,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let a of this.inner)a.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Tree(r.type,r.children,r.positions,r.length,r.propValues.concat([[stoppedInner,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[NodeProp.mounted.id]=new MountedTree(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new FragmentCursor$2(this.fragments),n=null,r=null,a=new TreeCursor(new TreeNode(this.baseTree,this.ranges[0].from,0,null),IterMode.IncludeAnonymous|IterMode.IgnoreMounts);e:for(let c,u;;){let f=!0,d;if(this.stoppedAt!=null&&a.from>=this.stoppedAt)f=!1;else if(e.hasNode(a)){if(n){let O=n.mounts.find(g=>g.frag.from<=a.from&&g.frag.to>=a.to&&g.mount.overlay);if(O)for(let g of O.mount.overlay){let x=g.from+O.pos,T=g.to+O.pos;x>=a.from&&T<=a.to&&!n.ranges.some(E=>E.from<T&&E.to>x)&&n.ranges.push({from:x,to:T})}}f=!1}else if(r&&(u=checkCover(r.ranges,a.from,a.to)))f=u!=2;else if(!a.type.isAnonymous&&(c=this.nest(a,this.input))&&(a.from<a.to||!c.overlay)){a.tree||materialize(a);let O=e.findMounts(a.from,c.parser);if(typeof c.overlay=="function")n=new ActiveOverlay(c.parser,c.overlay,O,this.inner.length,a.from,a.tree,n);else{let g=punchRanges(this.ranges,c.overlay||(a.from<a.to?[new Range(a.from,a.to)]:[]));g.length&&checkRanges(g),(g.length||!c.overlay)&&this.inner.push(new InnerParse(c.parser,g.length?c.parser.startParse(this.input,enterFragments(O,g),g):c.parser.startParse(""),c.overlay?c.overlay.map(x=>new Range(x.from-a.from,x.to-a.from)):null,a.tree,g.length?g[0].from:a.from)),c.overlay?g.length&&(r={ranges:g,depth:0,prev:r}):f=!1}}else if(n&&(d=n.predicate(a))&&(d===!0&&(d=new Range(a.from,a.to)),d.from<d.to)){let O=n.ranges.length-1;O>=0&&n.ranges[O].to==d.from?n.ranges[O]={from:n.ranges[O].from,to:d.to}:n.ranges.push(d)}if(f&&a.firstChild())n&&n.depth++,r&&r.depth++;else for(;!a.nextSibling();){if(!a.parent())break e;if(n&&!--n.depth){let O=punchRanges(this.ranges,n.ranges);O.length&&(checkRanges(O),this.inner.splice(n.index,0,new InnerParse(n.parser,n.parser.startParse(this.input,enterFragments(n.mounts,O),O),n.ranges.map(g=>new Range(g.from-n.start,g.to-n.start)),n.target,O[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function checkCover(s,e,n){for(let r of s){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function sliceBuf(s,e,n,r,a,c){if(e<n){let u=s.buffer[e+1];r.push(s.slice(e,n,u)),a.push(u-c)}}function materialize(s){let{node:e}=s,n=[],r=e.context.buffer;do n.push(s.index),s.parent();while(!s.tree);let a=s.tree,c=a.children.indexOf(r),u=a.children[c],f=u.buffer,d=[c];function O(g,x,T,E,R,M){let $=n[M],V=[],X=[];sliceBuf(u,g,$,V,X,E);let Y=f[$+1],G=f[$+2];d.push(V.length);let L=M?O($+4,f[$+3],u.set.types[f[$]],Y,G-Y,M-1):e.toTree();return V.push(L),X.push(Y-E),sliceBuf(u,f[$+3],x,V,X,E),new Tree(T,V,X,R)}a.children[c]=O(0,f.length,NodeType.none,0,u.length,n.length-1);for(let g of d){let x=s.tree.children[g],T=s.tree.positions[g];s.yield(new TreeNode(x,T+s.from,g,s._tree))}}class StructureCursor{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(IterMode.IncludeAnonymous|IterMode.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,IterMode.IgnoreOverlays|IterMode.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Tree)n=n.children[0];else break}return!1}}let FragmentCursor$2=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(stoppedInner))!==null&&n!==void 0?n:r.to,this.inner=new StructureCursor(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(stoppedInner))!==null&&e!==void 0?e:n.to,this.inner=new StructureCursor(n.tree,-n.offset)}}findMounts(e,n){var r;let a=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let c=this.inner.cursor.node;c;c=c.parent){let u=(r=c.tree)===null||r===void 0?void 0:r.prop(NodeProp.mounted);if(u&&u.parser==n)for(let f=this.fragI;f<this.fragments.length;f++){let d=this.fragments[f];if(d.from>=c.to)break;d.tree==this.curFrag.tree&&a.push({frag:d,pos:c.from-d.offset,mount:u})}}}return a}};function punchRanges(s,e){let n=null,r=e;for(let a=1,c=0;a<s.length;a++){let u=s[a-1].to,f=s[a].from;for(;c<r.length;c++){let d=r[c];if(d.from>=f)break;d.to<=u||(n||(r=n=e.slice()),d.from<u?(n[c]=new Range(d.from,u),d.to>f&&n.splice(c+1,0,new Range(f,d.to))):d.to>f?n[c--]=new Range(f,d.to):n.splice(c--,1))}}return r}function findCoverChanges(s,e,n,r){let a=0,c=0,u=!1,f=!1,d=-1e9,O=[];for(;;){let g=a==s.length?1e9:u?s[a].to:s[a].from,x=c==e.length?1e9:f?e[c].to:e[c].from;if(u!=f){let T=Math.max(d,n),E=Math.min(g,x,r);T<E&&O.push(new Range(T,E))}if(d=Math.min(g,x),d==1e9)break;g==d&&(u?(u=!1,a++):u=!0),x==d&&(f?(f=!1,c++):f=!0)}return O}function enterFragments(s,e){let n=[];for(let{pos:r,mount:a,frag:c}of s){let u=r+(a.overlay?a.overlay[0].from:0),f=u+a.tree.length,d=Math.max(c.from,u),O=Math.min(c.to,f);if(a.overlay){let g=a.overlay.map(T=>new Range(T.from+r,T.to+r)),x=findCoverChanges(e,g,d,O);for(let T=0,E=d;;T++){let R=T==x.length,M=R?O:x[T].from;if(M>E&&n.push(new TreeFragment(E,M,a.tree,-u,c.from>=E||c.openStart,c.to<=M||c.openEnd)),R)break;E=x[T].to}}else n.push(new TreeFragment(d,O,a.tree,-u,c.from>=u||c.openStart,c.to<=f||c.openEnd))}return n}let nextTagID=0;class Tag{constructor(e,n,r,a){this.name=e,this.set=n,this.base=r,this.modified=a,this.id=nextTagID++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Tag&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let a=new Tag(r,[],null,[]);if(a.set.push(a),n)for(let c of n.set)a.set.push(c);return a}static defineModifier(e){let n=new Modifier(e);return r=>r.modified.indexOf(n)>-1?r:Modifier.get(r.base||r,r.modified.concat(n).sort((a,c)=>a.id-c.id))}}let nextModifierID=0;class Modifier{constructor(e){this.name=e,this.instances=[],this.id=nextModifierID++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(f=>f.base==e&&sameArray(n,f.modified));if(r)return r;let a=[],c=new Tag(e.name,a,e,n);for(let f of n)f.instances.push(c);let u=powerSet(n);for(let f of e.set)if(!f.modified.length)for(let d of u)a.push(Modifier.get(f,d));return c}}function sameArray(s,e){return s.length==e.length&&s.every((n,r)=>n==e[r])}function powerSet(s){let e=[[]];for(let n=0;n<s.length;n++)for(let r=0,a=e.length;r<a;r++)e.push(e[r].concat(s[n]));return e.sort((n,r)=>r.length-n.length)}function styleTags(s){let e=Object.create(null);for(let n in s){let r=s[n];Array.isArray(r)||(r=[r]);for(let a of n.split(" "))if(a){let c=[],u=2,f=a;for(let x=0;;){if(f=="..."&&x>0&&x+3==a.length){u=1;break}let T=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(f);if(!T)throw new RangeError("Invalid path: "+a);if(c.push(T[0]=="*"?"":T[0][0]=='"'?JSON.parse(T[0]):T[0]),x+=T[0].length,x==a.length)break;let E=a[x++];if(x==a.length&&E=="!"){u=0;break}if(E!="/")throw new RangeError("Invalid path: "+a);f=a.slice(x)}let d=c.length-1,O=c[d];if(!O)throw new RangeError("Invalid path: "+a);let g=new Rule(r,u,d>0?c.slice(0,d):null);e[O]=g.sort(e[O])}}return ruleNodeProp.add(e)}const ruleNodeProp=new NodeProp;class Rule{constructor(e,n,r,a){this.tags=e,this.mode=n,this.context=r,this.next=a}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(s,e){let n=Object.create(null);for(let c of s)if(!Array.isArray(c.tag))n[c.tag.id]=c.class;else for(let u of c.tag)n[u.id]=c.class;let{scope:r,all:a=null}=e||{};return{style:c=>{let u=a;for(let f of c)for(let d of f.set){let O=n[d.id];if(O){u=u?u+" "+O:O;break}}return u},scope:r}}function highlightTags(s,e){let n=null;for(let r of s){let a=r.style(e);a&&(n=n?n+" "+a:a)}return n}function highlightTree(s,e,n,r=0,a=s.length){let c=new HighlightBuilder(r,Array.isArray(e)?e:[e],n);c.highlightRange(s.cursor(),r,a,"",c.highlighters),c.flush(a)}class HighlightBuilder{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,a,c){let{type:u,from:f,to:d}=e;if(f>=r||d<=n)return;u.isTop&&(c=this.highlighters.filter(E=>!E.scope||E.scope(u)));let O=a,g=getStyleTags(e)||Rule.empty,x=highlightTags(c,g.tags);if(x&&(O&&(O+=" "),O+=x,g.mode==1&&(a+=(a?" ":"")+x)),this.startSpan(Math.max(n,f),O),g.opaque)return;let T=e.tree&&e.tree.prop(NodeProp.mounted);if(T&&T.overlay){let E=e.node.enter(T.overlay[0].from+f,1),R=this.highlighters.filter($=>!$.scope||$.scope(T.tree.type)),M=e.firstChild();for(let $=0,V=f;;$++){let X=$<T.overlay.length?T.overlay[$]:null,Y=X?X.from+f:d,G=Math.max(n,V),L=Math.min(r,Y);if(G<L&&M)for(;e.from<L&&(this.highlightRange(e,G,L,a,c),this.startSpan(Math.min(L,e.to),O),!(e.to>=Y||!e.nextSibling())););if(!X||Y>r)break;V=X.to+f,V>n&&(this.highlightRange(E.cursor(),Math.max(n,X.from+f),Math.min(r,V),"",R),this.startSpan(Math.min(r,V),O))}M&&e.parent()}else if(e.firstChild()){T&&(a="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,a,c),this.startSpan(Math.min(r,e.to),O)}while(e.nextSibling());e.parent()}}}function getStyleTags(s){let e=s.type.prop(ruleNodeProp);for(;e&&e.context&&!s.matchContext(e.context);)e=e.next;return e||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags$1={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let s in tags$1){let e=tags$1[s];e instanceof Tag&&(e.name=s)}tagHighlighter([{tag:tags$1.link,class:"tok-link"},{tag:tags$1.heading,class:"tok-heading"},{tag:tags$1.emphasis,class:"tok-emphasis"},{tag:tags$1.strong,class:"tok-strong"},{tag:tags$1.keyword,class:"tok-keyword"},{tag:tags$1.atom,class:"tok-atom"},{tag:tags$1.bool,class:"tok-bool"},{tag:tags$1.url,class:"tok-url"},{tag:tags$1.labelName,class:"tok-labelName"},{tag:tags$1.inserted,class:"tok-inserted"},{tag:tags$1.deleted,class:"tok-deleted"},{tag:tags$1.literal,class:"tok-literal"},{tag:tags$1.string,class:"tok-string"},{tag:tags$1.number,class:"tok-number"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],class:"tok-string2"},{tag:tags$1.variableName,class:"tok-variableName"},{tag:tags$1.local(tags$1.variableName),class:"tok-variableName tok-local"},{tag:tags$1.definition(tags$1.variableName),class:"tok-variableName tok-definition"},{tag:tags$1.special(tags$1.variableName),class:"tok-variableName2"},{tag:tags$1.definition(tags$1.propertyName),class:"tok-propertyName tok-definition"},{tag:tags$1.typeName,class:"tok-typeName"},{tag:tags$1.namespace,class:"tok-namespace"},{tag:tags$1.className,class:"tok-className"},{tag:tags$1.macroName,class:"tok-macroName"},{tag:tags$1.propertyName,class:"tok-propertyName"},{tag:tags$1.operator,class:"tok-operator"},{tag:tags$1.comment,class:"tok-comment"},{tag:tags$1.meta,class:"tok-meta"},{tag:tags$1.invalid,class:"tok-invalid"},{tag:tags$1.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(s){return Facet.define({combine:s?e=>e.concat(s):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(e,n,r=[],a=""){this.data=e,this.name=a,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=n,this.extension=[language.of(this),EditorState.languageData.of((c,u,f)=>{let d=topNodeAt(c,u,f),O=d.type.prop(languageDataProp);if(!O)return[];let g=c.facet(O),x=d.type.prop(sublanguageProp);if(x){let T=d.resolve(u-d.from,f);for(let E of x)if(E.test(T,c)){let R=c.facet(E.facet);return E.type=="replace"?R:R.concat(g)}}return g})].concat(r)}isActiveAt(e,n,r=-1){return topNodeAt(e,n,r).type.prop(languageDataProp)==this.data}findRegions(e){let n=e.facet(language);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],a=(c,u)=>{if(c.prop(languageDataProp)==this.data){r.push({from:u,to:u+c.length});return}let f=c.prop(NodeProp.mounted);if(f){if(f.tree.prop(languageDataProp)==this.data){if(f.overlay)for(let d of f.overlay)r.push({from:d.from+u,to:d.to+u});else r.push({from:u,to:u+c.length});return}else if(f.overlay){let d=r.length;if(a(f.tree,f.overlay[0].from+u),r.length>d)return}}for(let d=0;d<c.children.length;d++){let O=c.children[d];O instanceof Tree&&a(O,c.positions[d]+u)}};return a(syntaxTree(e),0),r}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(s,e,n){let r=s.facet(language),a=syntaxTree(s).topNode;if(!r||r.allowsNesting)for(let c=a;c;c=c.enter(e,n,IterMode.ExcludeBuffers))c.type.isTop&&(a=c);return a}class LRLanguage extends Language{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=defineLanguageFacet(e.languageData);return new LRLanguage(n,e.parser.configure({props:[languageDataProp.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new LRLanguage(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(s){let e=s.field(Language.state,!1);return e?e.tree:Tree.empty}function ensureSyntaxTree(s,e,n=50){var r;let a=(r=s.field(Language.state,!1))===null||r===void 0?void 0:r.context;if(!a)return null;let c=a.viewport;a.updateViewport({from:0,to:e});let u=a.isDone(e)||a.work(n,e)?a.tree:null;return a.updateViewport(c),u}class DocInput{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let currentContext=null;class ParseContext{constructor(e,n,r=[],a,c,u,f,d){this.parser=e,this.state=n,this.fragments=r,this.tree=a,this.treeLen=c,this.viewport=u,this.skipped=f,this.scheduleOn=d,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new ParseContext(e,n,[],Tree.empty,0,r,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Tree.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let a=Date.now()+e;e=()=>Date.now()>a}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let a=this.parse.advance();if(a)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(a,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=a,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=currentContext;currentContext=this;try{return e()}finally{currentContext=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=cutFragments(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:a,treeLen:c,viewport:u,skipped:f}=this;if(this.takeTree(),!e.empty){let d=[];if(e.iterChangedRanges((O,g,x,T)=>d.push({fromA:O,toA:g,fromB:x,toB:T})),r=TreeFragment.applyChanges(r,d),a=Tree.empty,c=0,u={from:e.mapPos(u.from,-1),to:e.mapPos(u.to,1)},this.skipped.length){f=[];for(let O of this.skipped){let g=e.mapPos(O.from,1),x=e.mapPos(O.to,-1);g<x&&f.push({from:g,to:x})}}}return new ParseContext(this.parser,n,r,a,c,u,f,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:a,to:c}=this.skipped[r];a<e.to&&c>e.from&&(this.fragments=cutFragments(this.fragments,a,c),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Parser{createParse(n,r,a){let c=a[0].from,u=a[a.length-1].to;return{parsedPos:c,advance(){let d=currentContext;if(d){for(let O of a)d.tempSkipped.push(O);e&&(d.scheduleOn=d.scheduleOn?Promise.all([d.scheduleOn,e]):e)}return this.parsedPos=u,new Tree(NodeType.none,[],[],u-c)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return currentContext}}function cutFragments(s,e,n){return TreeFragment.applyChanges(s,[{fromA:e,toA:n,fromB:e,toB:n}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new LanguageState(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=ParseContext.create(e.facet(language).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new LanguageState(r)}}Language.state=StateField.define({create:LanguageState.init,update(s,e){for(let n of e.effects)if(n.is(Language.setState))return n.value;return e.startState.facet(language)!=e.state.facet(language)?LanguageState.init(e.state):s.apply(e)}});let requestIdle=s=>{let e=setTimeout(()=>s(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(requestIdle=s=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(s,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Language.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Language.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=requestIdle(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:a}}=this.view,c=r.field(Language.state);if(c.tree==c.context.tree&&c.context.isDone(a+1e5))return;let u=Date.now()+Math.min(this.chunkBudget,100,e&&!isInputPending?Math.max(25,e.timeRemaining()-5):1e9),f=c.context.treeLen<a&&r.doc.length>a+1e3,d=c.context.work(()=>isInputPending&&isInputPending()||Date.now()>u,a+(f?0:1e5));this.chunkBudget-=Date.now()-n,(d||this.chunkBudget<=0)&&(c.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(c.context))})),this.chunkBudget>0&&!(d&&!f)&&this.scheduleWork(),this.checkAsyncSchedule(c.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>logException(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(s){return s.length?s[0]:null},enables:s=>[Language.state,parseWorker,EditorView.contentAttributes.compute([s],e=>{let n=e.facet(s);return n&&n.name?{"data-language":n.name}:{}})]});class LanguageSupport{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class LanguageDescription{constructor(e,n,r,a,c,u=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=a,this.loadFunc=c,this.support=u,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new LanguageDescription(e.name,(e.alias||[]).concat(e.name).map(a=>a.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let a of e)if(a.filename&&a.filename.test(n))return a;let r=/\.([^.]+)$/.exec(n);if(r){for(let a of e)if(a.extensions.indexOf(r[1])>-1)return a}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let a of e)if(a.alias.some(c=>c==n))return a;if(r)for(let a of e)for(let c of a.alias){let u=n.indexOf(c);if(u>-1&&(c.length>2||!/\w/.test(n[u-1])&&!/\w/.test(n[u+c.length])))return a}return null}}const indentService=Facet.define(),indentUnit=Facet.define({combine:s=>{if(!s.length)return"  ";let e=s[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(s[0]));return e}});function getIndentUnit(s){let e=s.facet(indentUnit);return e.charCodeAt(0)==9?s.tabSize*e.length:e.length}function indentString(s,e){let n="",r=s.tabSize,a=s.facet(indentUnit)[0];if(a=="	"){for(;e>=r;)n+="	",e-=r;a=" "}for(let c=0;c<e;c++)n+=a;return n}function getIndentation(s,e){s instanceof EditorState&&(s=new IndentContext(s));for(let r of s.state.facet(indentService)){let a=r(s,e);if(a!==void 0)return a}let n=syntaxTree(s.state);return n.length>=e?syntaxIndentation(s,n,e):null}class IndentContext{constructor(e,n={}){this.state=e,this.options=n,this.unit=getIndentUnit(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:a,simulateDoubleBreak:c}=this.options;return a!=null&&a>=r.from&&a<=r.to?c&&a==e?{text:"",from:e}:(n<0?a<e:a<=e)?{text:r.text.slice(a-r.from),from:a}:{text:r.text.slice(0,a-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:a}=this.lineAt(e,n);return r.slice(e-a,Math.min(r.length,e+100-a))}column(e,n=1){let{text:r,from:a}=this.lineAt(e,n),c=this.countColumn(r,e-a),u=this.options.overrideIndentation?this.options.overrideIndentation(a):-1;return u>-1&&(c+=u-this.countColumn(r,r.search(/\S|$/))),c}countColumn(e,n=e.length){return countColumn(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:a}=this.lineAt(e,n),c=this.options.overrideIndentation;if(c){let u=c(a);if(u>-1)return u}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(s,e,n){let r=e.resolveStack(n),a=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(a!=r.node){let c=[];for(let u=a;u&&!(u.from<r.node.from||u.to>r.node.to||u.from==r.node.from&&u.type==r.node.type);u=u.parent)c.push(u);for(let u=c.length-1;u>=0;u--)r={node:c[u],next:r}}return indentFor(r,s,n)}function indentFor(s,e,n){for(let r=s;r;r=r.next){let a=indentStrategy(r.node);if(a)return a(TreeIndentContext.create(e,n,r))}return 0}function ignoreClosed(s){return s.pos==s.options.simulateBreak&&s.options.simulateDoubleBreak}function indentStrategy(s){let e=s.type.prop(indentNodeProp);if(e)return e;let n=s.firstChild,r;if(n&&(r=n.type.prop(NodeProp.closedBy))){let a=s.lastChild,c=a&&r.indexOf(a.name)>-1;return u=>delimitedStrategy(u,!0,1,void 0,c&&!ignoreClosed(u)?a.from:void 0)}return s.parent==null?topIndent$1:null}function topIndent$1(){return 0}class TreeIndentContext extends IndentContext{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new TreeIndentContext(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(isParent(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(s,e){for(let n=e;n;n=n.parent)if(s==n)return!0;return!1}function bracketedAligned(s){let e=s.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let a=s.options.simulateBreak,c=s.state.doc.lineAt(n.from),u=a==null||a<=c.from?c.to:Math.min(c.to,a);for(let f=n.to;;){let d=e.childAfter(f);if(!d||d==r)return null;if(!d.type.isSkipped){if(d.from>=u)return null;let O=/^ */.exec(c.text.slice(n.to-c.from))[0].length;return{from:n.from,to:n.to+O}}f=d.to}}function delimitedIndent({closing:s,align:e=!0,units:n=1}){return r=>delimitedStrategy(r,e,n,s)}function delimitedStrategy(s,e,n,r,a){let c=s.textAfter,u=c.match(/^\s*/)[0].length,f=r&&c.slice(u,u+r.length)==r||a==s.pos+u,d=e?bracketedAligned(s):null;return d?f?s.column(d.from):s.column(d.to):s.baseIndent+(f?0:s.unit*n)}const flatIndent=s=>s.baseIndent;function continuedIndent({except:s,units:e=1}={}){return n=>{let r=s&&s.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(s=>{if(!s.docChanged||!s.isUserEvent("input.type")&&!s.isUserEvent("input.complete"))return s;let e=s.startState.languageDataAt("indentOnInput",s.startState.selection.main.head);if(!e.length)return s;let n=s.newDoc,{head:r}=s.newSelection.main,a=n.lineAt(r);if(r>a.from+DontIndentBeyond)return s;let c=n.sliceString(a.from,r);if(!e.some(O=>O.test(c)))return s;let{state:u}=s,f=-1,d=[];for(let{head:O}of u.selection.ranges){let g=u.doc.lineAt(O);if(g.from==f)continue;f=g.from;let x=getIndentation(u,g.from);if(x==null)continue;let T=/^\s*/.exec(g.text)[0],E=indentString(u,x);T!=E&&d.push({from:g.from,to:g.from+T.length,insert:E})}return d.length?[s,{changes:d,sequential:!0}]:s})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(s){let e=s.firstChild,n=s.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?s.to:n.from}:null}function syntaxFolding(s,e,n){let r=syntaxTree(s);if(r.length<n)return null;let a=r.resolveStack(n,1),c=null;for(let u=a;u;u=u.next){let f=u.node;if(f.to<=n||f.from>n)continue;if(c&&f.from<e)break;let d=f.type.prop(foldNodeProp);if(d&&(f.to<r.length-50||r.length==s.doc.length||!isUnfinished(f))){let O=d(f,s);O&&O.from<=n&&O.from>=e&&O.to>n&&(c=O)}}return c}function isUnfinished(s){let e=s.lastChild;return e&&e.to==s.to&&e.type.isError}function foldable(s,e,n){for(let r of s.facet(foldService)){let a=r(s,e,n);if(a)return a}return syntaxFolding(s,e,n)}function mapRange(s,e){let n=e.mapPos(s.from,1),r=e.mapPos(s.to,-1);return n>=r?void 0:{from:n,to:r}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(s){let e=[];for(let{head:n}of s.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(s.lineBlockAt(n));return e}const foldState=StateField.define({create(){return Decoration.none},update(s,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>s=clearTouchedFolds(s,n,r)),s=s.map(e.changes);for(let n of e.effects)if(n.is(foldEffect)&&!foldExists(s,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(foldConfig),a=r?Decoration.replace({widget:new PreparedFoldWidget(r(e.state,n.value))}):foldWidget;s=s.update({add:[a.range(n.value.from,n.value.to)]})}else n.is(unfoldEffect)&&(s=s.update({filter:(r,a)=>n.value.from!=r||n.value.to!=a,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(s=clearTouchedFolds(s,e.selection.main.head)),s},provide:s=>EditorView.decorations.from(s),toJSON(s,e){let n=[];return s.between(0,e.doc.length,(r,a)=>{n.push(r,a)}),n},fromJSON(s){if(!Array.isArray(s)||s.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<s.length;){let r=s[n++],a=s[n++];if(typeof r!="number"||typeof a!="number")throw new RangeError("Invalid JSON for fold state");e.push(foldWidget.range(r,a))}return Decoration.set(e,!0)}});function clearTouchedFolds(s,e,n=e){let r=!1;return s.between(e,n,(a,c)=>{a<n&&c>e&&(r=!0)}),r?s.update({filterFrom:e,filterTo:n,filter:(a,c)=>a>=n||c<=e}):s}function findFold(s,e,n){var r;let a=null;return(r=s.field(foldState,!1))===null||r===void 0||r.between(e,n,(c,u)=>{(!a||a.from>c)&&(a={from:c,to:u})}),a}function foldExists(s,e,n){let r=!1;return s.between(e,e,(a,c)=>{a==e&&c==n&&(r=!0)}),r}function maybeEnable(s,e){return s.field(foldState,!1)?e:e.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=s=>{for(let e of selectedLines(s)){let n=foldable(s.state,e.from,e.to);if(n)return s.dispatch({effects:maybeEnable(s.state,[foldEffect.of(n),announceFold(s,n)])}),!0}return!1},unfoldCode=s=>{if(!s.state.field(foldState,!1))return!1;let e=[];for(let n of selectedLines(s)){let r=findFold(s.state,n.from,n.to);r&&e.push(unfoldEffect.of(r),announceFold(s,r,!1))}return e.length&&s.dispatch({effects:e}),e.length>0};function announceFold(s,e,n=!0){let r=s.state.doc.lineAt(e.from).number,a=s.state.doc.lineAt(e.to).number;return EditorView.announce.of(`${s.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${s.state.phrase("to")} ${a}.`)}const foldAll=s=>{let{state:e}=s,n=[];for(let r=0;r<e.doc.length;){let a=s.lineBlockAt(r),c=foldable(e,a.from,a.to);c&&n.push(foldEffect.of(c)),r=(c?s.lineBlockAt(c.to):a).to+1}return n.length&&s.dispatch({effects:maybeEnable(s.state,n)}),!!n.length},unfoldAll=s=>{let e=s.state.field(foldState,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,s.state.doc.length,(r,a)=>{n.push(unfoldEffect.of({from:r,to:a}))}),s.dispatch({effects:n}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(s){return combineConfig(s,defaultConfig)}});function codeFolding(s){let e=[foldState,baseTheme$1$2];return s&&e.push(foldConfig.of(s)),e}function widgetToDOM(s,e){let{state:n}=s,r=n.facet(foldConfig),a=u=>{let f=s.lineBlockAt(s.posAtDOM(u.target)),d=findFold(s.state,f.from,f.to);d&&s.dispatch({effects:unfoldEffect.of(d)}),u.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(s,a,e);let c=document.createElement("span");return c.textContent=r.placeholderText,c.setAttribute("aria-label",n.phrase("folded code")),c.title=n.phrase("unfold"),c.className="cm-foldPlaceholder",c.onclick=a,c}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(s){return widgetToDOM(s,null)}}});class PreparedFoldWidget extends WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return widgetToDOM(e,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function foldGutter(s={}){let e={...foldGutterDefaults,...s},n=new FoldMarker(e,!0),r=new FoldMarker(e,!1),a=ViewPlugin.fromClass(class{constructor(u){this.from=u.viewport.from,this.markers=this.buildMarkers(u)}update(u){(u.docChanged||u.viewportChanged||u.startState.facet(language)!=u.state.facet(language)||u.startState.field(foldState,!1)!=u.state.field(foldState,!1)||syntaxTree(u.startState)!=syntaxTree(u.state)||e.foldingChanged(u))&&(this.markers=this.buildMarkers(u.view))}buildMarkers(u){let f=new RangeSetBuilder;for(let d of u.viewportLineBlocks){let O=findFold(u.state,d.from,d.to)?r:foldable(u.state,d.from,d.to)?n:null;O&&f.add(d.from,d.from,O)}return f.finish()}}),{domEventHandlers:c}=e;return[a,gutter({class:"cm-foldGutter",markers(u){var f;return((f=u.plugin(a))===null||f===void 0?void 0:f.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(e,!1)},domEventHandlers:{...c,click:(u,f,d)=>{if(c.click&&c.click(u,f,d))return!0;let O=findFold(u.state,f.from,f.to);if(O)return u.dispatch({effects:unfoldEffect.of(O)}),!0;let g=foldable(u.state,f.from,f.to);return g?(u.dispatch({effects:foldEffect.of(g)}),!0):!1}}}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(e,n){this.specs=e;let r;function a(f){let d=StyleModule.newName();return(r||(r=Object.create(null)))["."+d]=f,d}const c=typeof n.all=="string"?n.all:n.all?a(n.all):void 0,u=n.scope;this.scope=u instanceof Language?f=>f.prop(languageDataProp)==u.data:u?f=>f==u:void 0,this.style=tagHighlighter(e.map(f=>({tag:f.tag,class:f.class||a(Object.assign({},f,{tag:null}))})),{all:c}).style,this.module=r?new StyleModule(r):null,this.themeType=n.themeType}static define(e,n){return new HighlightStyle(e,n||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(s){return s.length?[s[0]]:null}});function getHighlighters(s){let e=s.facet(highlighterFacet);return e.length?e:s.facet(fallbackHighlighter)}function syntaxHighlighting(s,e){let n=[treeHighlighter],r;return s instanceof HighlightStyle&&(s.module&&n.push(EditorView.styleModule.of(s.module)),r=s.themeType),e!=null&&e.fallback?n.push(fallbackHighlighter.of(s)):r?n.push(highlighterFacet.computeN([EditorView.darkTheme],a=>a.facet(EditorView.darkTheme)==(r=="dark")?[s]:[])):n.push(highlighterFacet.of(s)),n}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlighters(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=syntaxTree(e.state),r=getHighlighters(e.state),a=r!=getHighlighters(e.startState),{viewport:c}=e.view,u=e.changes.mapPos(this.decoratedTo,1);n.length<c.to&&!a&&n.type==this.tree.type&&u>=c.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=u):(n!=this.tree||e.viewportChanged||a)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=c.to)}buildDeco(e,n){if(!n||!this.tree.length)return Decoration.none;let r=new RangeSetBuilder;for(let{from:a,to:c}of e.visibleRanges)highlightTree(this.tree,n,(u,f,d)=>{r.add(u,f,this.markCache[d]||(this.markCache[d]=Decoration.mark({class:d})))},a,c);return r.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:s=>s.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags$1.meta,color:"#404740"},{tag:tags$1.link,textDecoration:"underline"},{tag:tags$1.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.keyword,color:"#708"},{tag:[tags$1.atom,tags$1.bool,tags$1.url,tags$1.contentSeparator,tags$1.labelName],color:"#219"},{tag:[tags$1.literal,tags$1.inserted],color:"#164"},{tag:[tags$1.string,tags$1.deleted],color:"#a11"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],color:"#e40"},{tag:tags$1.definition(tags$1.variableName),color:"#00f"},{tag:tags$1.local(tags$1.variableName),color:"#30a"},{tag:[tags$1.typeName,tags$1.namespace],color:"#085"},{tag:tags$1.className,color:"#167"},{tag:[tags$1.special(tags$1.variableName),tags$1.macroName],color:"#256"},{tag:tags$1.definition(tags$1.propertyName),color:"#00c"},{tag:tags$1.comment,color:"#940"},{tag:tags$1.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(s){return combineConfig(s,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(s){let e=[],n=s.matched?matchingMark:nonmatchingMark;return e.push(n.range(s.start.from,s.start.to)),s.end&&e.push(n.range(s.end.from,s.end.to)),e}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(s,e){if(!e.docChanged&&!e.selection)return s;let n=[],r=e.state.facet(bracketMatchingConfig);for(let a of e.state.selection.ranges){if(!a.empty)continue;let c=matchBrackets(e.state,a.head,-1,r)||a.head>0&&matchBrackets(e.state,a.head-1,1,r)||r.afterCursor&&(matchBrackets(e.state,a.head,1,r)||a.head<e.state.doc.length&&matchBrackets(e.state,a.head+1,-1,r));c&&(n=n.concat(r.renderMatch(c,e.state)))}return Decoration.set(n,!0)},provide:s=>EditorView.decorations.from(s)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(s={}){return[bracketMatchingConfig.of(s),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(s,e,n){let r=s.prop(e<0?NodeProp.openedBy:NodeProp.closedBy);if(r)return r;if(s.name.length==1){let a=n.indexOf(s.name);if(a>-1&&a%2==(e<0?1:0))return[n[a+e]]}return null}function findHandle(s){let e=s.type.prop(bracketMatchingHandle);return e?e(s.node):s}function matchBrackets(s,e,n,r={}){let a=r.maxScanDistance||DefaultScanDist,c=r.brackets||DefaultBrackets,u=syntaxTree(s),f=u.resolveInner(e,n);for(let d=f;d;d=d.parent){let O=matchingNodes(d.type,n,c);if(O&&d.from<d.to){let g=findHandle(d);if(g&&(n>0?e>=g.from&&e<g.to:e>g.from&&e<=g.to))return matchMarkedBrackets(s,e,n,d,g,O,c)}}return matchPlainBrackets(s,e,n,u,f.type,a,c)}function matchMarkedBrackets(s,e,n,r,a,c,u){let f=r.parent,d={from:a.from,to:a.to},O=0,g=f==null?void 0:f.cursor();if(g&&(n<0?g.childBefore(r.from):g.childAfter(r.to)))do if(n<0?g.to<=r.from:g.from>=r.to){if(O==0&&c.indexOf(g.type.name)>-1&&g.from<g.to){let x=findHandle(g);return{start:d,end:x?{from:x.from,to:x.to}:void 0,matched:!0}}else if(matchingNodes(g.type,n,u))O++;else if(matchingNodes(g.type,-n,u)){if(O==0){let x=findHandle(g);return{start:d,end:x&&x.from<x.to?{from:x.from,to:x.to}:void 0,matched:!1}}O--}}while(n<0?g.prevSibling():g.nextSibling());return{start:d,matched:!1}}function matchPlainBrackets(s,e,n,r,a,c,u){let f=n<0?s.sliceDoc(e-1,e):s.sliceDoc(e,e+1),d=u.indexOf(f);if(d<0||d%2==0!=n>0)return null;let O={from:n<0?e-1:e,to:n>0?e+1:e},g=s.doc.iterRange(e,n>0?s.doc.length:0),x=0;for(let T=0;!g.next().done&&T<=c;){let E=g.value;n<0&&(T+=E.length);let R=e+T*n;for(let M=n>0?0:E.length-1,$=n>0?E.length:-1;M!=$;M+=n){let V=u.indexOf(E[M]);if(!(V<0||r.resolveInner(R+M,1).type!=a))if(V%2==0==n>0)x++;else{if(x==1)return{start:O,end:{from:R+M,to:R+M+1},matched:V>>1==d>>1};x--}}n>0&&(T+=E.length)}return g.done?{start:O,matched:!1}:null}function countCol(s,e,n,r=0,a=0){e==null&&(e=s.search(/[^\s\u00a0]/),e==-1&&(e=s.length));let c=a;for(let u=r;u<e;u++)s.charCodeAt(u)==9?c+=n-c%n:c++;return c}class StringStream{constructor(e,n,r,a){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=a,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countCol(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:countCol(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let a=u=>r?u.toLowerCase():u,c=this.string.substr(this.pos,e.length);return a(c)==a(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let a=this.string.slice(this.pos).match(e);return a&&a.index>0?null:(a&&n!==!1&&(this.pos+=a[0].length),a)}}current(){return this.string.slice(this.start,this.pos)}}function fullParser(s){return{name:s.name||"",token:s.token,blankLine:s.blankLine||(()=>{}),startState:s.startState||(()=>!0),copyState:s.copyState||defaultCopyState,indent:s.indent||(()=>null),languageData:s.languageData||{},tokenTable:s.tokenTable||noTokens,mergeTokens:s.mergeTokens!==!1}}function defaultCopyState(s){if(typeof s!="object")return s;let e={};for(let n in s){let r=s[n];e[n]=r instanceof Array?r.slice():r}return e}const IndentedFrom=new WeakMap;class StreamLanguage extends Language{constructor(e){let n=defineLanguageFacet(e.languageData),r=fullParser(e),a,c=new class extends Parser{createParse(u,f,d){return new Parse$1(a,u,f,d)}};super(n,c,[],e.name),this.topNode=docID(n,this),a=this,this.streamParser=r,this.stateAfter=new NodeProp({perNode:!0}),this.tokenTable=e.tokenTable?new TokenTable(r.tokenTable):defaultTokenTable}static define(e){return new StreamLanguage(e)}getIndent(e){let n,{overrideIndentation:r}=e.options;r&&(n=IndentedFrom.get(e.state),n!=null&&n<e.pos-1e4&&(n=void 0));let a=findState(this,e.node.tree,e.node.from,e.node.from,n??e.pos),c,u;if(a?(u=a.state,c=a.pos+1):(u=this.streamParser.startState(e.unit),c=e.node.from),e.pos-c>1e4)return null;for(;c<e.pos;){let d=e.state.doc.lineAt(c),O=Math.min(e.pos,d.to);if(d.length){let g=r?r(d.from):-1,x=new StringStream(d.text,e.state.tabSize,e.unit,g<0?void 0:g);for(;x.pos<O-d.from;)readToken$1(this.streamParser.token,x,u)}else this.streamParser.blankLine(u,e.unit);if(O==e.pos)break;c=d.to+1}let f=e.lineAt(e.pos);return r&&n==null&&IndentedFrom.set(e.state,f.from),this.streamParser.indent(u,/^\s*(.*)/.exec(f.text)[1],e)}get allowsNesting(){return!1}}function findState(s,e,n,r,a){let c=n>=r&&n+e.length<=a&&e.prop(s.stateAfter);if(c)return{state:s.streamParser.copyState(c),pos:n+e.length};for(let u=e.children.length-1;u>=0;u--){let f=e.children[u],d=n+e.positions[u],O=f instanceof Tree&&d<a&&findState(s,f,d,r,a);if(O)return O}return null}function cutTree(s,e,n,r,a){if(a&&n<=0&&r>=e.length)return e;!a&&n==0&&e.type==s.topNode&&(a=!0);for(let c=e.children.length-1;c>=0;c--){let u=e.positions[c],f=e.children[c],d;if(u<r&&f instanceof Tree){if(!(d=cutTree(s,f,n-u,r-u,a)))break;return a?new Tree(e.type,e.children.slice(0,c).concat(d),e.positions.slice(0,c+1),u+d.length):d}}return null}function findStartInFragments(s,e,n,r,a){for(let c of e){let u=c.from+(c.openStart?25:0),f=c.to-(c.openEnd?25:0),d=u<=n&&f>n&&findState(s,c.tree,0-c.offset,n,f),O;if(d&&d.pos<=r&&(O=cutTree(s,c.tree,n+c.offset,d.pos+c.offset,!1)))return{state:d.state,tree:O}}return{state:s.streamParser.startState(a?getIndentUnit(a):4),tree:Tree.empty}}let Parse$1=class{constructor(e,n,r,a){this.lang=e,this.input=n,this.fragments=r,this.ranges=a,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=a[a.length-1].to;let c=ParseContext.get(),u=a[0].from,{state:f,tree:d}=findStartInFragments(e,r,u,this.to,c==null?void 0:c.state);this.state=f,this.parsedPos=this.chunkStart=u+d.length;for(let O=0;O<d.children.length;O++)this.chunks.push(d.children[O]),this.chunkPos.push(d.positions[O]);c&&this.parsedPos<c.viewport.from-1e5&&a.some(O=>O.from<=c.viewport.from&&O.to>=c.viewport.from)&&(this.state=this.lang.streamParser.startState(getIndentUnit(c.state)),c.skipUntilInView(this.parsedPos,c.viewport.from),this.parsedPos=c.viewport.from),this.moveRangeIndex()}advance(){let e=ParseContext.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+512);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let a=this.rangeIndex;;){let c=this.ranges[a].to;if(c>=r||(n=n.slice(0,c-(r-n.length)),a++,a==this.ranges.length))break;let u=this.ranges[a].from,f=this.lineAfter(u);n+=f,r=u+f.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let a=this.ranges[this.rangeIndex].to,c=e+n;if(r>0?a>c:a>=c)break;let u=this.ranges[++this.rangeIndex].from;n+=u-a}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,a){let c=4;if(this.ranges.length>1){a=this.skipGapsTo(n,a,1),n+=a;let f=this.chunk.length;a=this.skipGapsTo(r,a,-1),r+=a,c+=this.chunk.length-f}let u=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&c==4&&u>=0&&this.chunk[u]==e&&this.chunk[u+2]==n?this.chunk[u+2]=r:this.chunk.push(e,n,r,c),a}parseLine(e){let{line:n,end:r}=this.nextLine(),a=0,{streamParser:c}=this.lang,u=new StringStream(n,e?e.state.tabSize:4,e?getIndentUnit(e.state):2);if(u.eol())c.blankLine(this.state,u.indentUnit);else for(;!u.eol();){let f=readToken$1(c.token,u,this.state);if(f&&(a=this.emitToken(this.lang.tokenTable.resolve(f),this.parsedPos+u.start,this.parsedPos+u.pos,a)),u.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet,topID:0,maxBufferLength:512,reused:this.chunkReused});e=new Tree(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function readToken$1(s,e,n){e.start=e.pos;for(let r=0;r<10;r++){let a=s(e,n);if(e.pos>e.start)return a}throw new Error("Stream parser failed to advance stream.")}const noTokens=Object.create(null),typeArray=[NodeType.none],nodeSet=new NodeSet(typeArray),warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[s,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[s]=createTokenType(noTokens,e);class TokenTable{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),defaultTable)}resolve(e){return e?this.table[e]||(this.table[e]=createTokenType(this.extra,e)):0}}const defaultTokenTable=new TokenTable(noTokens);function warnForPart(s,e){warned.indexOf(s)>-1||(warned.push(s),console.warn(e))}function createTokenType(s,e){let n=[];for(let f of e.split(" ")){let d=[];for(let O of f.split(".")){let g=s[O]||tags$1[O];g?typeof g=="function"?d.length?d=d.map(g):warnForPart(O,`Modifier ${O} used at start of tag`):d.length?warnForPart(O,`Tag ${O} used as modifier`):d=Array.isArray(g)?g:[g]:warnForPart(O,`Unknown highlighting tag ${O}`)}for(let O of d)n.push(O)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),a=r+" "+n.map(f=>f.id),c=byTag[a];if(c)return c.id;let u=byTag[a]=NodeType.define({id:typeArray.length,name:r,props:[styleTags({[r]:n})]});return typeArray.push(u),u.id}function docID(s,e){let n=NodeType.define({id:typeArray.length,name:"Document",props:[languageDataProp.add(()=>s),indentNodeProp.add(()=>r=>e.getIndent(r))],top:!0});return typeArray.push(n),n}Direction.RTL,Direction.LTR;const toggleComment=s=>{let{state:e}=s,n=e.doc.lineAt(e.selection.main.from),r=getConfig(s.state,n.from);return r.line?toggleLineComment(s):r.block?toggleBlockCommentByLine(s):!1};function command(s,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let a=s(e,n);return a?(r(n.update(a)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((s,e)=>changeBlockComment(s,e,selectedLineRanges(e)),0);function getConfig(s,e){let n=s.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const SearchMargin=50;function findBlockComment(s,{open:e,close:n},r,a){let c=s.sliceDoc(r-SearchMargin,r),u=s.sliceDoc(a,a+SearchMargin),f=/\s*$/.exec(c)[0].length,d=/^\s*/.exec(u)[0].length,O=c.length-f;if(c.slice(O-e.length,O)==e&&u.slice(d,d+n.length)==n)return{open:{pos:r-f,margin:f&&1},close:{pos:a+d,margin:d&&1}};let g,x;a-r<=2*SearchMargin?g=x=s.sliceDoc(r,a):(g=s.sliceDoc(r,r+SearchMargin),x=s.sliceDoc(a-SearchMargin,a));let T=/^\s*/.exec(g)[0].length,E=/\s*$/.exec(x)[0].length,R=x.length-E-n.length;return g.slice(T,T+e.length)==e&&x.slice(R,R+n.length)==n?{open:{pos:r+T+e.length,margin:/\s/.test(g.charAt(T+e.length))?1:0},close:{pos:a-E-n.length,margin:/\s/.test(x.charAt(R-1))?1:0}}:null}function selectedLineRanges(s){let e=[];for(let n of s.selection.ranges){let r=s.doc.lineAt(n.from),a=n.to<=r.to?r:s.doc.lineAt(n.to);a.from>r.from&&a.from==n.to&&(a=n.to==r.to+1?r:s.doc.lineAt(n.to-1));let c=e.length-1;c>=0&&e[c].to>r.from?e[c].to=a.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:a.to})}return e}function changeBlockComment(s,e,n=e.selection.ranges){let r=n.map(c=>getConfig(e,c.from).block);if(!r.every(c=>c))return null;let a=n.map((c,u)=>findBlockComment(e,r[u],c.from,c.to));if(s!=2&&!a.every(c=>c))return{changes:e.changes(n.map((c,u)=>a[u]?[]:[{from:c.from,insert:r[u].open+" "},{from:c.to,insert:" "+r[u].close}]))};if(s!=1&&a.some(c=>c)){let c=[];for(let u=0,f;u<a.length;u++)if(f=a[u]){let d=r[u],{open:O,close:g}=f;c.push({from:O.pos-d.open.length,to:O.pos+O.margin},{from:g.pos-g.margin,to:g.pos+d.close.length})}return{changes:c}}return null}function changeLineComment(s,e,n=e.selection.ranges){let r=[],a=-1;for(let{from:c,to:u}of n){let f=r.length,d=1e9,O=getConfig(e,c).line;if(O){for(let g=c;g<=u;){let x=e.doc.lineAt(g);if(x.from>a&&(c==u||u>x.from)){a=x.from;let T=/^\s*/.exec(x.text)[0].length,E=T==x.length,R=x.text.slice(T,T+O.length)==O?T:-1;T<x.text.length&&T<d&&(d=T),r.push({line:x,comment:R,token:O,indent:T,empty:E,single:!1})}g=x.to+1}if(d<1e9)for(let g=f;g<r.length;g++)r[g].indent<r[g].line.text.length&&(r[g].indent=d);r.length==f+1&&(r[f].single=!0)}}if(s!=2&&r.some(c=>c.comment<0&&(!c.empty||c.single))){let c=[];for(let{line:f,token:d,indent:O,empty:g,single:x}of r)(x||!g)&&c.push({from:f.from+O,insert:d+" "});let u=e.changes(c);return{changes:u,selection:e.selection.map(u,1)}}else if(s!=1&&r.some(c=>c.comment>=0)){let c=[];for(let{line:u,comment:f,token:d}of r)if(f>=0){let O=u.from+f,g=O+d.length;u.text[g-u.from]==" "&&g++,c.push({from:O,to:g})}return{changes:c}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(s){return combineConfig(s,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,a)=>e(r,a)||n(r,a)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(s,e){let n=e.state.facet(historyConfig),r=e.annotation(fromHistory);if(r){let d=HistEvent.fromTransaction(e,r.selection),O=r.side,g=O==0?s.undone:s.done;return d?g=updateBranch(g,g.length,n.minDepth,d):g=addSelection(g,e.startState.selection),new HistoryState(O==0?r.rest:g,O==0?g:r.rest)}let a=e.annotation(isolateHistory);if((a=="full"||a=="before")&&(s=s.isolate()),e.annotation(Transaction.addToHistory)===!1)return e.changes.empty?s:s.addMapping(e.changes.desc);let c=HistEvent.fromTransaction(e),u=e.annotation(Transaction.time),f=e.annotation(Transaction.userEvent);return c?s=s.addChanges(c,u,f,n,e):e.selection&&(s=s.addSelection(e.startState.selection,u,f,n.newGroupDelay)),(a=="full"||a=="after")&&(s=s.isolate()),s},toJSON(s){return{done:s.done.map(e=>e.toJSON()),undone:s.undone.map(e=>e.toJSON())}},fromJSON(s){return new HistoryState(s.done.map(HistEvent.fromJSON),s.undone.map(HistEvent.fromJSON))}});function history(s={}){return[historyField_,historyConfig.of(s),EditorView.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?undo:e.inputType=="historyRedo"?redo:null;return r?(e.preventDefault(),r(n)):!1}})]}function cmd(s,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let a=n.field(historyField_,!1);if(!a)return!1;let c=a.pop(s,n,e);return c?(r(c),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,n,r,a,c){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=a,this.selectionsAfter=c}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(a=>a.toJSON())}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,n){let r=none$2;for(let a of e.startState.facet(invertedEffects)){let c=a(e);c.length&&(r=r.concat(c))}return!r.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,none$2)}static selection(e){return new HistEvent(void 0,none$2,void 0,void 0,e)}}function updateBranch(s,e,n,r){let a=e+1>n+20?e-n-1:0,c=s.slice(a,e);return c.push(r),c}function isAdjacent(s,e){let n=[],r=!1;return s.iterChangedRanges((a,c)=>n.push(a,c)),e.iterChangedRanges((a,c,u,f)=>{for(let d=0;d<n.length;){let O=n[d++],g=n[d++];f>=O&&u<=g&&(r=!0)}}),r}function eqSelectionShape(s,e){return s.ranges.length==e.ranges.length&&s.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function conc(s,e){return s.length?e.length?s.concat(e):s:e}const none$2=[],MaxSelectionsPerEvent=200;function addSelection(s,e){if(s.length){let n=s[s.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-MaxSelectionsPerEvent));return r.length&&r[r.length-1].eq(e)?s:(r.push(e),updateBranch(s,s.length-1,1e9,n.setSelAfter(r)))}else return[HistEvent.selection([e])]}function popSelection(s){let e=s[s.length-1],n=s.slice();return n[s.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function addMappingToBranch(s,e){if(!s.length)return s;let n=s.length,r=none$2;for(;n;){let a=mapEvent(s[n-1],e,r);if(a.changes&&!a.changes.empty||a.effects.length){let c=s.slice(0,n);return c[n-1]=a,c}else e=a.mapped,n--,r=a.selectionsAfter}return r.length?[HistEvent.selection(r)]:none$2}function mapEvent(s,e,n){let r=conc(s.selectionsAfter.length?s.selectionsAfter.map(f=>f.map(e)):none$2,n);if(!s.changes)return HistEvent.selection(r);let a=s.changes.map(e),c=e.mapDesc(s.changes,!0),u=s.mapped?s.mapped.composeDesc(c):c;return new HistEvent(a,StateEffect.mapEffects(s.effects,e),u,s.startSelection.map(c),r)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,n,r=0,a=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=a}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,n,r,a,c){let u=this.done,f=u[u.length-1];return f&&f.changes&&!f.changes.empty&&e.changes&&(!r||joinableUserEvent.test(r))&&(!f.selectionsAfter.length&&n-this.prevTime<a.newGroupDelay&&a.joinToEvent(c,isAdjacent(f.changes,e.changes))||r=="input.type.compose")?u=updateBranch(u,u.length-1,a.minDepth,new HistEvent(e.changes.compose(f.changes),conc(StateEffect.mapEffects(e.effects,f.changes),f.effects),f.mapped,f.startSelection,none$2)):u=updateBranch(u,u.length,a.minDepth,e),new HistoryState(u,none$2,n,r)}addSelection(e,n,r,a){let c=this.done.length?this.done[this.done.length-1].selectionsAfter:none$2;return c.length>0&&n-this.prevTime<a&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&eqSelectionShape(c[c.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,n,r)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let a=e==0?this.done:this.undone;if(a.length==0)return null;let c=a[a.length-1],u=c.selectionsAfter[0]||n.selection;if(r&&c.selectionsAfter.length)return n.update({selection:c.selectionsAfter[c.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(a),selection:u}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(c.changes){let f=a.length==1?none$2:a.slice(0,a.length-1);return c.mapped&&(f=addMappingToBranch(f,c.mapped)),n.update({changes:c.changes,selection:c.startSelection,effects:c.effects,annotations:fromHistory.of({side:e,rest:f,selection:u}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$2,none$2);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(s,e){return EditorSelection.create(s.ranges.map(e),s.mainIndex)}function setSel(s,e){return s.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:s,dispatch:e},n){let r=updateSel(s.selection,n);return r.eq(s.selection,!0)?!1:(e(setSel(s,r)),!0)}function rangeEnd(s,e){return EditorSelection.cursor(e?s.to:s.from)}function cursorByChar(s,e){return moveSel(s,n=>n.empty?s.moveByChar(n,e):rangeEnd(n,e))}function ltrAtCursor(s){return s.textDirectionAt(s.state.selection.main.head)==Direction.LTR}const cursorCharLeft=s=>cursorByChar(s,!ltrAtCursor(s)),cursorCharRight=s=>cursorByChar(s,ltrAtCursor(s)),cursorCharBackward=s=>cursorByChar(s,!1);function cursorByGroup(s,e){return moveSel(s,n=>n.empty?s.moveByGroup(n,e):rangeEnd(n,e))}const cursorGroupLeft=s=>cursorByGroup(s,!ltrAtCursor(s)),cursorGroupRight=s=>cursorByGroup(s,ltrAtCursor(s));function interestingNode(s,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(s.sliceDoc(e.from,e.to)))||e.firstChild}function moveBySyntax(s,e,n){let r=syntaxTree(s).resolveInner(e.head),a=n?NodeProp.closedBy:NodeProp.openedBy;for(let d=e.head;;){let O=n?r.childAfter(d):r.childBefore(d);if(!O)break;interestingNode(s,O,a)?r=O:d=n?O.to:O.from}let c=r.type.prop(a),u,f;return c&&(u=n?matchBrackets(s,r.from,1):matchBrackets(s,r.to,-1))&&u.matched?f=n?u.end.to:u.end.from:f=n?r.to:r.from,EditorSelection.cursor(f,n?-1:1)}const cursorSyntaxLeft=s=>moveSel(s,e=>moveBySyntax(s.state,e,!ltrAtCursor(s))),cursorSyntaxRight=s=>moveSel(s,e=>moveBySyntax(s.state,e,ltrAtCursor(s)));function cursorByLine(s,e){return moveSel(s,n=>{if(!n.empty)return rangeEnd(n,e);let r=s.moveVertically(n,e);return r.head!=n.head?r:s.moveToLineBoundary(n,e)})}const cursorLineUp=s=>cursorByLine(s,!1),cursorLineDown=s=>cursorByLine(s,!0);function pageInfo(s){let e=s.scrollDOM.clientHeight<s.scrollDOM.scrollHeight-2,n=0,r=0,a;if(e){for(let c of s.state.facet(EditorView.scrollMargins)){let u=c(s);u!=null&&u.top&&(n=Math.max(u==null?void 0:u.top,n)),u!=null&&u.bottom&&(r=Math.max(u==null?void 0:u.bottom,r))}a=s.scrollDOM.clientHeight-n-r}else a=(s.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(s.defaultLineHeight,a-5)}}function cursorByPage(s,e){let n=pageInfo(s),{state:r}=s,a=updateSel(r.selection,u=>u.empty?s.moveVertically(u,e,n.height):rangeEnd(u,e));if(a.eq(r.selection))return!1;let c;if(n.selfScroll){let u=s.coordsAtPos(r.selection.main.head),f=s.scrollDOM.getBoundingClientRect(),d=f.top+n.marginTop,O=f.bottom-n.marginBottom;u&&u.top>d&&u.bottom<O&&(c=EditorView.scrollIntoView(a.main.head,{y:"start",yMargin:u.top-d}))}return s.dispatch(setSel(r,a),{effects:c}),!0}const cursorPageUp=s=>cursorByPage(s,!1),cursorPageDown=s=>cursorByPage(s,!0);function moveByLineBoundary(s,e,n){let r=s.lineBlockAt(e.head),a=s.moveToLineBoundary(e,n);if(a.head==e.head&&a.head!=(n?r.to:r.from)&&(a=s.moveToLineBoundary(e,n,!1)),!n&&a.head==r.from&&r.length){let c=/^\s*/.exec(s.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;c&&e.head!=r.from+c&&(a=EditorSelection.cursor(r.from+c))}return a}const cursorLineBoundaryForward=s=>moveSel(s,e=>moveByLineBoundary(s,e,!0)),cursorLineBoundaryBackward=s=>moveSel(s,e=>moveByLineBoundary(s,e,!1)),cursorLineBoundaryLeft=s=>moveSel(s,e=>moveByLineBoundary(s,e,!ltrAtCursor(s))),cursorLineBoundaryRight=s=>moveSel(s,e=>moveByLineBoundary(s,e,ltrAtCursor(s))),cursorLineStart=s=>moveSel(s,e=>EditorSelection.cursor(s.lineBlockAt(e.head).from,1)),cursorLineEnd=s=>moveSel(s,e=>EditorSelection.cursor(s.lineBlockAt(e.head).to,-1));function toMatchingBracket(s,e,n){let r=!1,a=updateSel(s.selection,c=>{let u=matchBrackets(s,c.head,-1)||matchBrackets(s,c.head,1)||c.head>0&&matchBrackets(s,c.head-1,1)||c.head<s.doc.length&&matchBrackets(s,c.head+1,-1);if(!u||!u.end)return c;r=!0;let f=u.start.from==c.head?u.end.to:u.end.from;return n?EditorSelection.range(c.anchor,f):EditorSelection.cursor(f)});return r?(e(setSel(s,a)),!0):!1}const cursorMatchingBracket=({state:s,dispatch:e})=>toMatchingBracket(s,e,!1);function extendSel(s,e){let n=updateSel(s.state.selection,r=>{let a=e(r);return EditorSelection.range(r.anchor,a.head,a.goalColumn,a.bidiLevel||void 0)});return n.eq(s.state.selection)?!1:(s.dispatch(setSel(s.state,n)),!0)}function selectByChar(s,e){return extendSel(s,n=>s.moveByChar(n,e))}const selectCharLeft=s=>selectByChar(s,!ltrAtCursor(s)),selectCharRight=s=>selectByChar(s,ltrAtCursor(s));function selectByGroup(s,e){return extendSel(s,n=>s.moveByGroup(n,e))}const selectGroupLeft=s=>selectByGroup(s,!ltrAtCursor(s)),selectGroupRight=s=>selectByGroup(s,ltrAtCursor(s)),selectSyntaxLeft=s=>extendSel(s,e=>moveBySyntax(s.state,e,!ltrAtCursor(s))),selectSyntaxRight=s=>extendSel(s,e=>moveBySyntax(s.state,e,ltrAtCursor(s)));function selectByLine(s,e){return extendSel(s,n=>s.moveVertically(n,e))}const selectLineUp=s=>selectByLine(s,!1),selectLineDown=s=>selectByLine(s,!0);function selectByPage(s,e){return extendSel(s,n=>s.moveVertically(n,e,pageInfo(s).height))}const selectPageUp=s=>selectByPage(s,!1),selectPageDown=s=>selectByPage(s,!0),selectLineBoundaryForward=s=>extendSel(s,e=>moveByLineBoundary(s,e,!0)),selectLineBoundaryBackward=s=>extendSel(s,e=>moveByLineBoundary(s,e,!1)),selectLineBoundaryLeft=s=>extendSel(s,e=>moveByLineBoundary(s,e,!ltrAtCursor(s))),selectLineBoundaryRight=s=>extendSel(s,e=>moveByLineBoundary(s,e,ltrAtCursor(s))),selectLineStart=s=>extendSel(s,e=>EditorSelection.cursor(s.lineBlockAt(e.head).from)),selectLineEnd=s=>extendSel(s,e=>EditorSelection.cursor(s.lineBlockAt(e.head).to)),cursorDocStart=({state:s,dispatch:e})=>(e(setSel(s,{anchor:0})),!0),cursorDocEnd=({state:s,dispatch:e})=>(e(setSel(s,{anchor:s.doc.length})),!0),selectDocStart=({state:s,dispatch:e})=>(e(setSel(s,{anchor:s.selection.main.anchor,head:0})),!0),selectDocEnd=({state:s,dispatch:e})=>(e(setSel(s,{anchor:s.selection.main.anchor,head:s.doc.length})),!0),selectAll=({state:s,dispatch:e})=>(e(s.update({selection:{anchor:0,head:s.doc.length},userEvent:"select"})),!0),selectLine=({state:s,dispatch:e})=>{let n=selectedLineBlocks(s).map(({from:r,to:a})=>EditorSelection.range(r,Math.min(a+1,s.doc.length)));return e(s.update({selection:EditorSelection.create(n),userEvent:"select"})),!0},selectParentSyntax=({state:s,dispatch:e})=>{let n=updateSel(s.selection,r=>{let a=syntaxTree(s),c=a.resolveStack(r.from,1);if(r.empty){let u=a.resolveStack(r.from,-1);u.node.from>=c.node.from&&u.node.to<=c.node.to&&(c=u)}for(let u=c;u;u=u.next){let{node:f}=u;if((f.from<r.from&&f.to>=r.to||f.to>r.to&&f.from<=r.from)&&u.next)return EditorSelection.range(f.to,f.from)}return r});return n.eq(s.selection)?!1:(e(setSel(s,n)),!0)},simplifySelection=({state:s,dispatch:e})=>{let n=s.selection,r=null;return n.ranges.length>1?r=EditorSelection.create([n.main]):n.main.empty||(r=EditorSelection.create([EditorSelection.cursor(n.main.head)])),r?(e(setSel(s,r)),!0):!1};function deleteBy(s,e){if(s.state.readOnly)return!1;let n="delete.selection",{state:r}=s,a=r.changeByRange(c=>{let{from:u,to:f}=c;if(u==f){let d=e(c);d<u?(n="delete.backward",d=skipAtomic(s,d,!1)):d>u&&(n="delete.forward",d=skipAtomic(s,d,!0)),u=Math.min(u,d),f=Math.max(f,d)}else u=skipAtomic(s,u,!1),f=skipAtomic(s,f,!0);return u==f?{range:c}:{changes:{from:u,to:f},range:EditorSelection.cursor(u,u<c.head?-1:1)}});return a.changes.empty?!1:(s.dispatch(r.update(a,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?EditorView.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(s,e,n){if(s instanceof EditorView)for(let r of s.state.facet(EditorView.atomicRanges).map(a=>a(s)))r.between(e,e,(a,c)=>{a<e&&c>e&&(e=n?c:a)});return e}const deleteByChar=(s,e,n)=>deleteBy(s,r=>{let a=r.from,{state:c}=s,u=c.doc.lineAt(a),f,d;if(n&&!e&&a>u.from&&a<u.from+200&&!/[^ \t]/.test(f=u.text.slice(0,a-u.from))){if(f[f.length-1]=="	")return a-1;let O=countColumn(f,c.tabSize),g=O%getIndentUnit(c)||getIndentUnit(c);for(let x=0;x<g&&f[f.length-1-x]==" ";x++)a--;d=a}else d=findClusterBreak(u.text,a-u.from,e,e)+u.from,d==a&&u.number!=(e?c.doc.lines:1)?d+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(u.text.slice(d-u.from,a-u.from))&&(d=findClusterBreak(u.text,d-u.from,!1,!1)+u.from);return d}),deleteCharBackward=s=>deleteByChar(s,!1,!0),deleteCharForward=s=>deleteByChar(s,!0,!1),deleteByGroup=(s,e)=>deleteBy(s,n=>{let r=n.head,{state:a}=s,c=a.doc.lineAt(r),u=a.charCategorizer(r);for(let f=null;;){if(r==(e?c.to:c.from)){r==n.head&&c.number!=(e?a.doc.lines:1)&&(r+=e?1:-1);break}let d=findClusterBreak(c.text,r-c.from,e)+c.from,O=c.text.slice(Math.min(r,d)-c.from,Math.max(r,d)-c.from),g=u(O);if(f!=null&&g!=f)break;(O!=" "||r!=n.head)&&(f=g),r=d}return r}),deleteGroupBackward=s=>deleteByGroup(s,!1),deleteGroupForward=s=>deleteByGroup(s,!0),deleteToLineEnd=s=>deleteBy(s,e=>{let n=s.lineBlockAt(e.head).to;return e.head<n?n:Math.min(s.state.doc.length,e.head+1)}),deleteLineBoundaryBackward=s=>deleteBy(s,e=>{let n=s.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),deleteLineBoundaryForward=s=>deleteBy(s,e=>{let n=s.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(s.state.doc.length,e.head+1)}),splitLine=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let n=s.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Text$1.of(["",""])},range:EditorSelection.cursor(r.from)}));return e(s.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let n=s.changeByRange(r=>{if(!r.empty||r.from==0||r.from==s.doc.length)return{range:r};let a=r.from,c=s.doc.lineAt(a),u=a==c.from?a-1:findClusterBreak(c.text,a-c.from,!1)+c.from,f=a==c.to?a+1:findClusterBreak(c.text,a-c.from,!0)+c.from;return{changes:{from:u,to:f,insert:s.doc.slice(a,f).append(s.doc.slice(u,a))},range:EditorSelection.cursor(f)}});return n.changes.empty?!1:(e(s.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(s){let e=[],n=-1;for(let r of s.selection.ranges){let a=s.doc.lineAt(r.from),c=s.doc.lineAt(r.to);if(!r.empty&&r.to==c.from&&(c=s.doc.lineAt(r.to-1)),n>=a.number){let u=e[e.length-1];u.to=c.to,u.ranges.push(r)}else e.push({from:a.from,to:c.to,ranges:[r]});n=c.number+1}return e}function moveLine(s,e,n){if(s.readOnly)return!1;let r=[],a=[];for(let c of selectedLineBlocks(s)){if(n?c.to==s.doc.length:c.from==0)continue;let u=s.doc.lineAt(n?c.to+1:c.from-1),f=u.length+1;if(n){r.push({from:c.to,to:u.to},{from:c.from,insert:u.text+s.lineBreak});for(let d of c.ranges)a.push(EditorSelection.range(Math.min(s.doc.length,d.anchor+f),Math.min(s.doc.length,d.head+f)))}else{r.push({from:u.from,to:c.from},{from:c.to,insert:s.lineBreak+u.text});for(let d of c.ranges)a.push(EditorSelection.range(d.anchor-f,d.head-f))}}return r.length?(e(s.update({changes:r,scrollIntoView:!0,selection:EditorSelection.create(a,s.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:s,dispatch:e})=>moveLine(s,e,!1),moveLineDown=({state:s,dispatch:e})=>moveLine(s,e,!0);function copyLine(s,e,n){if(s.readOnly)return!1;let r=[];for(let a of selectedLineBlocks(s))n?r.push({from:a.from,insert:s.doc.slice(a.from,a.to)+s.lineBreak}):r.push({from:a.to,insert:s.lineBreak+s.doc.slice(a.from,a.to)});return e(s.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:s,dispatch:e})=>copyLine(s,e,!1),copyLineDown=({state:s,dispatch:e})=>copyLine(s,e,!0),deleteLine=s=>{if(s.state.readOnly)return!1;let{state:e}=s,n=e.changes(selectedLineBlocks(e).map(({from:a,to:c})=>(a>0?a--:c<e.doc.length&&c++,{from:a,to:c}))),r=updateSel(e.selection,a=>{let c;if(s.lineWrapping){let u=s.lineBlockAt(a.head),f=s.coordsAtPos(a.head,a.assoc||1);f&&(c=u.bottom+s.documentTop-f.bottom+s.defaultLineHeight/2)}return s.moveVertically(a,!0,c)}).map(n);return s.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(s,e){if(/\(\)|\[\]|\{\}/.test(s.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=syntaxTree(s).resolveInner(e),r=n.childBefore(e),a=n.childAfter(e),c;return r&&a&&r.to<=e&&a.from>=e&&(c=r.type.prop(NodeProp.closedBy))&&c.indexOf(a.name)>-1&&s.doc.lineAt(r.to).from==s.doc.lineAt(a.from).from&&!/\S/.test(s.sliceDoc(r.to,a.from))?{from:r.to,to:a.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(s){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(a=>{let{from:c,to:u}=a,f=e.doc.lineAt(c),d=!s&&c==u&&isBetweenBrackets(e,c);s&&(c=u=(u<=f.to?f:e.doc.lineAt(u)).to);let O=new IndentContext(e,{simulateBreak:c,simulateDoubleBreak:!!d}),g=getIndentation(O,c);for(g==null&&(g=countColumn(/^\s*/.exec(e.doc.lineAt(c).text)[0],e.tabSize));u<f.to&&/\s/.test(f.text[u-f.from]);)u++;d?{from:c,to:u}=d:c>f.from&&c<f.from+100&&!/\S/.test(f.text.slice(0,c))&&(c=f.from);let x=["",indentString(e,g)];return d&&x.push(indentString(e,O.lineIndent(f.from,-1))),{changes:{from:c,to:u,insert:Text$1.of(x)},range:EditorSelection.cursor(c+1+x[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(s,e){let n=-1;return s.changeByRange(r=>{let a=[];for(let u=r.from;u<=r.to;){let f=s.doc.lineAt(u);f.number>n&&(r.empty||r.to>f.from)&&(e(f,a,r),n=f.number),u=f.to+1}let c=s.changes(a);return{changes:a,range:EditorSelection.range(c.mapPos(r.anchor,1),c.mapPos(r.head,1))}})}const indentSelection=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let n=Object.create(null),r=new IndentContext(s,{overrideIndentation:c=>{let u=n[c];return u??-1}}),a=changeBySelectedLine(s,(c,u,f)=>{let d=getIndentation(r,c.from);if(d==null)return;/\S/.test(c.text)||(d=0);let O=/^\s*/.exec(c.text)[0],g=indentString(s,d);(O!=g||f.from<c.from+O.length)&&(n[c.from]=d,u.push({from:c.from,to:c.from+O.length,insert:g}))});return a.changes.empty||e(s.update(a,{userEvent:"indent"})),!0},indentMore=({state:s,dispatch:e})=>s.readOnly?!1:(e(s.update(changeBySelectedLine(s,(n,r)=>{r.push({from:n.from,insert:s.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:s,dispatch:e})=>s.readOnly?!1:(e(s.update(changeBySelectedLine(s,(n,r)=>{let a=/^\s*/.exec(n.text)[0];if(!a)return;let c=countColumn(a,s.tabSize),u=0,f=indentString(s,Math.max(0,c-getIndentUnit(s)));for(;u<a.length&&u<f.length&&a.charCodeAt(u)==f.charCodeAt(u);)u++;r.push({from:n.from+u,to:n.from+a.length,insert:f.slice(u)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=s=>(s.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(s=>({mac:s.key,run:s.run,shift:s.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess},basicNormalize=typeof String.prototype.normalize=="function"?s=>s.normalize("NFKD"):s=>s;class SearchCursor{constructor(e,n,r=0,a=e.length,c,u){this.test=u,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,a),this.bufferStart=r,this.normalize=c?f=>c(basicNormalize(f)):basicNormalize,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=fromCodePoint(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let a=this.normalize(n);if(a.length)for(let c=0,u=r;;c++){let f=a.charCodeAt(c),d=this.match(f,u,this.bufferPos+this.bufferStart);if(c==a.length-1){if(d)return this.value=d,this;break}u==r&&c<n.length&&n.charCodeAt(c)==f&&u++}}}match(e,n,r){let a=null;for(let c=0;c<this.matches.length;c+=2){let u=this.matches[c],f=!1;this.query.charCodeAt(u)==e&&(u==this.query.length-1?a={from:this.matches[c+1],to:r}:(this.matches[c]++,f=!0)),f||(this.matches.splice(c,2),c-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?a={from:n,to:r}:this.matches.push(1,n)),a&&this.test&&!this.test(a.from,a.to,this.buffer,this.bufferStart)&&(a=null),a}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(e,n,r,a=0,c=e.length){if(this.text=e,this.to=c,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new MultilineRegExpCursor(e,n,r,a,c);this.re=new RegExp(n,baseFlags+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let u=e.lineAt(a);this.curLineStart=u.from,this.matchPos=toCharEnd(e,a),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,a=r+n[0].length;if(this.matchPos=toCharEnd(this.text,a+(r==a?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<a||r>this.value.to)&&(!this.test||this.test(r,a,n)))return this.value={from:r,to:a,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let a=flattened.get(e);if(!a||a.from>=r||a.to<=n){let f=new FlattenedDoc(n,e.sliceString(n,r));return flattened.set(e,f),f}if(a.from==n&&a.to==r)return a;let{text:c,from:u}=a;return u>n&&(c=e.sliceString(n,u)+c,u=n),a.to<r&&(c+=e.sliceString(a.to,r)),flattened.set(e,new FlattenedDoc(u,c)),new FlattenedDoc(n,c.slice(n-u,r-u))}}class MultilineRegExpCursor{constructor(e,n,r,a,c){this.text=e,this.to=c,this.done=!1,this.value=empty,this.matchPos=toCharEnd(e,a),this.re=new RegExp(n,baseFlags+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=FlattenedDoc.get(e,a,this.chunkEnd(a+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,a=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,a,n)))return this.value={from:r,to:a,match:n},this.matchPos=toCharEnd(this.text,a+(r==a?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(s){try{return new RegExp(s,baseFlags),!0}catch{return!1}}function toCharEnd(s,e){if(e>=s.length)return e;let n=s.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function createLineDialog(s){let e=String(s.state.doc.lineAt(s.state.selection.main.head).number),n=crelt("input",{class:"cm-textfield",name:"line",value:e}),r=crelt("form",{class:"cm-gotoLine",onkeydown:c=>{c.keyCode==27?(c.preventDefault(),s.dispatch({effects:dialogEffect.of(!1)}),s.focus()):c.keyCode==13&&(c.preventDefault(),a())},onsubmit:c=>{c.preventDefault(),a()}},crelt("label",s.state.phrase("Go to line"),": ",n)," ",crelt("button",{class:"cm-button",type:"submit"},s.state.phrase("go")),crelt("button",{name:"close",onclick:()=>{s.dispatch({effects:dialogEffect.of(!1)}),s.focus()},"aria-label":s.state.phrase("close"),type:"button"},[""]));function a(){let c=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!c)return;let{state:u}=s,f=u.doc.lineAt(u.selection.main.head),[,d,O,g,x]=c,T=g?+g.slice(1):0,E=O?+O:f.number;if(O&&x){let $=E/100;d&&($=$*(d=="-"?-1:1)+f.number/u.doc.lines),E=Math.round(u.doc.lines*$)}else O&&d&&(E=E*(d=="-"?-1:1)+f.number);let R=u.doc.line(Math.max(1,Math.min(u.doc.lines,E))),M=EditorSelection.cursor(R.from+Math.max(0,Math.min(T,R.length)));s.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(M.from,{y:"center"})],selection:M}),s.focus()}return{dom:r}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(s,e){for(let n of e.effects)n.is(dialogEffect)&&(s=n.value);return s},provide:s=>showPanel.from(s,e=>e?createLineDialog:null)}),gotoLine=s=>{let e=getPanel(s,createLineDialog);if(!e){let n=[dialogEffect.of(!0)];s.state.field(dialogField,!1)==null&&n.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),s.dispatch({effects:n}),e=getPanel(s,createLineDialog)}return e&&e.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(s){return combineConfig(s,defaultHighlightOptions,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(s){let e=[defaultTheme,matchHighlighter];return s&&e.push(highlightConfig.of(s)),e}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(s,e,n,r){return(n==0||s(e.sliceDoc(n-1,n))!=CharCategory.Word)&&(r==e.doc.length||s(e.sliceDoc(r,r+1))!=CharCategory.Word)}function insideWord(s,e,n,r){return s(e.sliceDoc(n,n+1))==CharCategory.Word&&s(e.sliceDoc(r-1,r))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(s){this.decorations=this.getDeco(s)}update(s){(s.selectionSet||s.docChanged||s.viewportChanged)&&(this.decorations=this.getDeco(s.view))}getDeco(s){let e=s.state.facet(highlightConfig),{state:n}=s,r=n.selection;if(r.ranges.length>1)return Decoration.none;let a=r.main,c,u=null;if(a.empty){if(!e.highlightWordAroundCursor)return Decoration.none;let d=n.wordAt(a.head);if(!d)return Decoration.none;u=n.charCategorizer(a.head),c=n.sliceDoc(d.from,d.to)}else{let d=a.to-a.from;if(d<e.minSelectionLength||d>200)return Decoration.none;if(e.wholeWords){if(c=n.sliceDoc(a.from,a.to),u=n.charCategorizer(a.head),!(insideWordBoundaries(u,n,a.from,a.to)&&insideWord(u,n,a.from,a.to)))return Decoration.none}else if(c=n.sliceDoc(a.from,a.to),!c)return Decoration.none}let f=[];for(let d of s.visibleRanges){let O=new SearchCursor(n.doc,c,d.from,d.to);for(;!O.next().done;){let{from:g,to:x}=O.value;if((!u||insideWordBoundaries(u,n,g,x))&&(a.empty&&g<=a.from&&x>=a.to?f.push(mainMatchDeco.range(g,x)):(g>=a.to||x<=a.from)&&f.push(matchDeco.range(g,x)),f.length>e.maxMatches))return Decoration.none}}return Decoration.set(f)}},{decorations:s=>s.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:s,dispatch:e})=>{let{selection:n}=s,r=EditorSelection.create(n.ranges.map(a=>s.wordAt(a.head)||EditorSelection.cursor(a.head)),n.mainIndex);return r.eq(n)?!1:(e(s.update({selection:r})),!0)};function findNextOccurrence(s,e){let{main:n,ranges:r}=s.selection,a=s.wordAt(n.head),c=a&&a.from==n.from&&a.to==n.to;for(let u=!1,f=new SearchCursor(s.doc,e,r[r.length-1].to);;)if(f.next(),f.done){if(u)return null;f=new SearchCursor(s.doc,e,0,Math.max(0,r[r.length-1].from-1)),u=!0}else{if(u&&r.some(d=>d.from==f.value.from))continue;if(c){let d=s.wordAt(f.value.from);if(!d||d.from!=f.value.from||d.to!=f.value.to)continue}return f.value}}const selectNextOccurrence=({state:s,dispatch:e})=>{let{ranges:n}=s.selection;if(n.some(c=>c.from===c.to))return selectWord({state:s,dispatch:e});let r=s.sliceDoc(n[0].from,n[0].to);if(s.selection.ranges.some(c=>s.sliceDoc(c.from,c.to)!=r))return!1;let a=findNextOccurrence(s,r);return a?(e(s.update({selection:s.selection.addRange(EditorSelection.range(a.from,a.to),!1),effects:EditorView.scrollIntoView(a.to)})),!0):!1},searchConfigFacet=Facet.define({combine(s){return combineConfig(s,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SearchPanel(e),scrollToMatch:e=>EditorView.scrollIntoView(e)})}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,n=0,r){let a=e.doc?e:EditorState.create({doc:e});return r==null&&(r=a.doc.length),this.regexp?regexpCursor(this,a,n,r):stringCursor(this,a,n,r)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(s,e,n,r){return new SearchCursor(e.doc,s.unquoted,n,r,s.caseSensitive?void 0:a=>a.toLowerCase(),s.wholeWord?stringWordTest(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function stringWordTest(s,e){return(n,r,a,c)=>((c>n||c+a.length<r)&&(c=Math.max(0,n-2),a=s.sliceString(c,Math.min(s.length,r+2))),(e(charBefore(a,n-c))!=CharCategory.Word||e(charAfter(a,n-c))!=CharCategory.Word)&&(e(charAfter(a,r-c))!=CharCategory.Word||e(charBefore(a,r-c))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,n,r){let a=stringCursor(this.spec,e,r,e.doc.length).nextOverlapping();if(a.done){let c=Math.min(e.doc.length,n+this.spec.unquoted.length);a=stringCursor(this.spec,e,0,c).nextOverlapping()}return a.done||a.value.from==n&&a.value.to==r?null:a.value}prevMatchInRange(e,n,r){for(let a=r;;){let c=Math.max(n,a-1e4-this.spec.unquoted.length),u=stringCursor(this.spec,e,c,a),f=null;for(;!u.nextOverlapping().done;)f=u.value;if(f)return f;if(c==n)return null;a-=1e4}}prevMatch(e,n,r){let a=this.prevMatchInRange(e,0,n);return a||(a=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),a&&(a.from!=n||a.to!=r)?a:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=stringCursor(this.spec,e,0,e.doc.length),a=[];for(;!r.next().done;){if(a.length>=n)return null;a.push(r.value)}return a}highlight(e,n,r,a){let c=stringCursor(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!c.next().done;)a(c.value.from,c.value.to)}}function regexpCursor(s,e,n,r){return new RegExpCursor(e.doc,s.search,{ignoreCase:!s.caseSensitive,test:s.wholeWord?regexpWordTest(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function charBefore(s,e){return s.slice(findClusterBreak(s,e,!1),e)}function charAfter(s,e){return s.slice(e,findClusterBreak(s,e))}function regexpWordTest(s){return(e,n,r)=>!r[0].length||(s(charBefore(r.input,r.index))!=CharCategory.Word||s(charAfter(r.input,r.index))!=CharCategory.Word)&&(s(charAfter(r.input,r.index+r[0].length))!=CharCategory.Word||s(charBefore(r.input,r.index+r[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(e,n,r){let a=regexpCursor(this.spec,e,r,e.doc.length).next();return a.done&&(a=regexpCursor(this.spec,e,0,n).next()),a.done?null:a.value}prevMatchInRange(e,n,r){for(let a=1;;a++){let c=Math.max(n,r-a*1e4),u=regexpCursor(this.spec,e,c,r),f=null;for(;!u.next().done;)f=u.value;if(f&&(c==n||f.from>c+10))return f;if(c==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let a=r.length;a>0;a--){let c=+r.slice(0,a);if(c>0&&c<e.match.length)return e.match[c]+r.slice(a)}return n})}matchAll(e,n){let r=regexpCursor(this.spec,e,0,e.doc.length),a=[];for(;!r.next().done;){if(a.length>=n)return null;a.push(r.value)}return a}highlight(e,n,r,a){let c=regexpCursor(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!c.next().done;)a(c.value.from,c.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(s){return new SearchState(defaultQuery(s).create(),null)},update(s,e){for(let n of e.effects)n.is(setSearchQuery)?s=new SearchState(n.value.create(),s.panel):n.is(togglePanel$1)&&(s=new SearchState(s.query,n.value?createSearchPanel:null));return s},provide:s=>showPanel.from(s,e=>e.panel)});class SearchState{constructor(e,n){this.query=e,this.panel=n}}const matchMark$1=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.decorations=this.highlight(s.state.field(searchState))}update(s){let e=s.state.field(searchState);(e!=s.startState.field(searchState)||s.docChanged||s.selectionSet||s.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:s,panel:e}){if(!e||!s.spec.valid)return Decoration.none;let{view:n}=this,r=new RangeSetBuilder;for(let a=0,c=n.visibleRanges,u=c.length;a<u;a++){let{from:f,to:d}=c[a];for(;a<u-1&&d>c[a+1].from-2*250;)d=c[++a].to;s.highlight(n.state,f,d,(O,g)=>{let x=n.state.selection.ranges.some(T=>T.from==O&&T.to==g);r.add(O,g,x?selectedMatchMark:matchMark$1)})}return r.finish()}},{decorations:s=>s.decorations});function searchCommand(s){return e=>{let n=e.state.field(searchState,!1);return n&&n.query.spec.valid?s(e,n):openSearchPanel(e)}}const findNext=searchCommand((s,{query:e})=>{let{to:n}=s.state.selection.main,r=e.nextMatch(s.state,n,n);if(!r)return!1;let a=EditorSelection.single(r.from,r.to),c=s.state.facet(searchConfigFacet);return s.dispatch({selection:a,effects:[announceMatch(s,r),c.scrollToMatch(a.main,s)],userEvent:"select.search"}),selectSearchInput(s),!0}),findPrevious=searchCommand((s,{query:e})=>{let{state:n}=s,{from:r}=n.selection.main,a=e.prevMatch(n,r,r);if(!a)return!1;let c=EditorSelection.single(a.from,a.to),u=s.state.facet(searchConfigFacet);return s.dispatch({selection:c,effects:[announceMatch(s,a),u.scrollToMatch(c.main,s)],userEvent:"select.search"}),selectSearchInput(s),!0}),selectMatches=searchCommand((s,{query:e})=>{let n=e.matchAll(s.state,1e3);return!n||!n.length?!1:(s.dispatch({selection:EditorSelection.create(n.map(r=>EditorSelection.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:s,dispatch:e})=>{let n=s.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:a}=n.main,c=[],u=0;for(let f=new SearchCursor(s.doc,s.sliceDoc(r,a));!f.next().done;){if(c.length>1e3)return!1;f.value.from==r&&(u=c.length),c.push(EditorSelection.range(f.value.from,f.value.to))}return e(s.update({selection:EditorSelection.create(c,u),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((s,{query:e})=>{let{state:n}=s,{from:r,to:a}=n.selection.main;if(n.readOnly)return!1;let c=e.nextMatch(n,r,r);if(!c)return!1;let u=c,f=[],d,O,g=[];u.from==r&&u.to==a&&(O=n.toText(e.getReplacement(u)),f.push({from:u.from,to:u.to,insert:O}),u=e.nextMatch(n,u.from,u.to),g.push(EditorView.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let x=s.state.changes(f);return u&&(d=EditorSelection.single(u.from,u.to).map(x),g.push(announceMatch(s,u)),g.push(n.facet(searchConfigFacet).scrollToMatch(d.main,s))),s.dispatch({changes:x,selection:d,effects:g,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((s,{query:e})=>{if(s.state.readOnly)return!1;let n=e.matchAll(s.state,1e9).map(a=>{let{from:c,to:u}=a;return{from:c,to:u,insert:e.getReplacement(a)}});if(!n.length)return!1;let r=s.state.phrase("replaced $ matches",n.length)+".";return s.dispatch({changes:n,effects:EditorView.announce.of(r),userEvent:"input.replace.all"}),!0});function createSearchPanel(s){return s.state.facet(searchConfigFacet).createPanel(s)}function defaultQuery(s,e){var n,r,a,c,u;let f=s.selection.main,d=f.empty||f.to>f.from+100?"":s.sliceDoc(f.from,f.to);if(e&&!d)return e;let O=s.facet(searchConfigFacet);return new SearchQuery({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:O.literal)?d:d.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:O.caseSensitive,literal:(a=e==null?void 0:e.literal)!==null&&a!==void 0?a:O.literal,regexp:(c=e==null?void 0:e.regexp)!==null&&c!==void 0?c:O.regexp,wholeWord:(u=e==null?void 0:e.wholeWord)!==null&&u!==void 0?u:O.wholeWord})}function getSearchInput(s){let e=getPanel(s,createSearchPanel);return e&&e.dom.querySelector("[main-field]")}function selectSearchInput(s){let e=getSearchInput(s);e&&e==s.root.activeElement&&e.select()}const openSearchPanel=s=>{let e=s.state.field(searchState,!1);if(e&&e.panel){let n=getSearchInput(s);if(n&&n!=s.root.activeElement){let r=defaultQuery(s.state,e.query.spec);r.valid&&s.dispatch({effects:setSearchQuery.of(r)}),n.focus(),n.select()}}else s.dispatch({effects:[togglePanel$1.of(!0),e?setSearchQuery.of(defaultQuery(s.state,e.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=s=>{let e=s.state.field(searchState,!1);if(!e||!e.panel)return!1;let n=getPanel(s,createSearchPanel);return n&&n.dom.contains(s.root.activeElement)&&s.focus(),s.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let n=this.query=e.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:n.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:n.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(a,c,u){return crelt("button",{class:"cm-button",name:a,onclick:c,type:"button"},u)}this.dom=crelt("div",{onkeydown:a=>this.keydown(a),class:"cm-search"},[this.searchField,r("next",()=>findNext(e),[phrase(e,"next")]),r("prev",()=>findPrevious(e),[phrase(e,"previous")]),r("select",()=>selectMatches(e),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),crelt("label",null,[this.wordField,phrase(e,"by word")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,r("replace",()=>replaceNext(e),[phrase(e,"replace")]),r("replaceAll",()=>replaceAll(e),[phrase(e,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},[""])])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(setSearchQuery)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(s,e){return s.state.phrase(e)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(s,{from:e,to:n}){let r=s.state.doc.lineAt(e),a=s.state.doc.lineAt(n).to,c=Math.max(r.from,e-AnnounceMargin),u=Math.min(a,n+AnnounceMargin),f=s.state.sliceDoc(c,u);if(c!=r.from){for(let d=0;d<AnnounceMargin;d++)if(!Break.test(f[d+1])&&Break.test(f[d])){f=f.slice(d);break}}if(u!=a){for(let d=f.length-1;d>f.length-AnnounceMargin;d--)if(!Break.test(f[d-1])&&Break.test(f[d])){f=f.slice(0,d);break}}return EditorView.announce.of(`${s.state.phrase("current match")}. ${f} ${s.state.phrase("on line")} ${r.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(e,n,r,a){this.state=e,this.pos=n,this.explicit=r,this.view=a,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=syntaxTree(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),a=n.text.slice(r-n.from,this.pos-n.from),c=a.search(ensureAnchor(e,!1));return c<0?null:{from:r+c,to:this.pos,text:a.slice(c)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(s){let e=Object.keys(s).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(s){let e=Object.create(null),n=Object.create(null);for(let{label:a}of s){e[a[0]]=!0;for(let c=1;c<a.length;c++)n[a[c]]=!0}let r=toSet(e)+toSet(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function completeFromList(s){let e=s.map(a=>typeof a=="string"?{label:a}:a),[n,r]=e.every(a=>/^\w+$/.test(a.label))?[/\w*$/,/\w+$/]:prefixMatch(e);return a=>{let c=a.matchBefore(r);return c||a.explicit?{from:c?c.from:a.pos,options:e,validFor:n}:null}}function ifNotIn(s,e){return n=>{for(let r=syntaxTree(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(s.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class Option{constructor(e,n,r,a){this.completion=e,this.source=n,this.match=r,this.score=a}}function cur(s){return s.selection.main.from}function ensureAnchor(s,e){var n;let{source:r}=s,a=e&&r[0]!="^",c=r[r.length-1]!="$";return!a&&!c?s:new RegExp(`${a?"^":""}(?:${r})${c?"$":""}`,(n=s.flags)!==null&&n!==void 0?n:s.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(s,e,n,r){let{main:a}=s.selection,c=n-a.from,u=r-a.from;return Object.assign(Object.assign({},s.changeByRange(f=>{if(f!=a&&n!=r&&s.sliceDoc(f.from+c,f.from+u)!=s.sliceDoc(n,r))return{range:f};let d=s.toText(e);return{changes:{from:f.from+c,to:r==a.from?f.to:f.from+u,insert:d},range:EditorSelection.cursor(f.from+c+d.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(s){if(!Array.isArray(s))return s;let e=SourceCache.get(s);return e||SourceCache.set(s,e=completeFromList(s)),e}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=codePointAt(e,n),a=codePointSize(r);this.chars.push(r);let c=e.slice(n,n+a),u=c.toUpperCase();this.folded.push(codePointAt(u==c?c.toLowerCase():u,0)),n+=a}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:a,precise:c,byWord:u}=this;if(n.length==1){let X=codePointAt(e,0),Y=codePointSize(X),G=Y==e.length?0:-100;if(X!=n[0])if(X==r[0])G+=-200;else return null;return this.ret(G,[0,Y])}let f=e.indexOf(this.pattern);if(f==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let d=n.length,O=0;if(f<0){for(let X=0,Y=Math.min(e.length,200);X<Y&&O<d;){let G=codePointAt(e,X);(G==n[O]||G==r[O])&&(a[O++]=X),X+=codePointSize(G)}if(O<d)return null}let g=0,x=0,T=!1,E=0,R=-1,M=-1,$=/[a-z]/.test(e),V=!0;for(let X=0,Y=Math.min(e.length,200),G=0;X<Y&&x<d;){let L=codePointAt(e,X);f<0&&(g<d&&L==n[g]&&(c[g++]=X),E<d&&(L==n[E]||L==r[E]?(E==0&&(R=X),M=X+1,E++):E=0));let I,ee=L<255?L>=48&&L<=57||L>=97&&L<=122?2:L>=65&&L<=90?1:0:(I=fromCodePoint(L))!=I.toLowerCase()?1:I!=I.toUpperCase()?2:0;(!X||ee==1&&$||G==0&&ee!=0)&&(n[x]==L||r[x]==L&&(T=!0)?u[x++]=X:u.length&&(V=!1)),G=ee,X+=codePointSize(L)}return x==d&&u[0]==0&&V?this.result(-100+(T?-200:0),u,e):E==d&&R==0?this.ret(-200-e.length+(M==e.length?0:-100),[0,M]):f>-1?this.ret(-700-e.length,[f,f+this.pattern.length]):E==d?this.ret(-200+-700-e.length,[R,M]):x==d?this.result(-100+(T?-200:0)+-700+(V?0:-1100),u,e):n.length==2?null:this.result((a[0]?-700:0)+-200+-1100,a,e)}result(e,n,r){let a=[],c=0;for(let u of n){let f=u+(this.astral?codePointSize(codePointAt(r,u)):1);c&&a[c-1]==u?a[c-1]=f:(a[c++]=u,a[c++]=f)}return this.ret(e-r.length,a)}}class StrictMatcher{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(s){return combineConfig(s,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>joinClass(e(r),n(r)),optionClass:(e,n)=>r=>joinClass(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function joinClass(s,e){return s?e?s+" "+e:s:e}function defaultPositionInfo(s,e,n,r,a,c){let u=s.textDirection==Direction.RTL,f=u,d=!1,O="top",g,x,T=e.left-a.left,E=a.right-e.right,R=r.right-r.left,M=r.bottom-r.top;if(f&&T<Math.min(R,E)?f=!1:!f&&E<Math.min(R,T)&&(f=!0),R<=(f?T:E))g=Math.max(a.top,Math.min(n.top,a.bottom-M))-e.top,x=Math.min(400,f?T:E);else{d=!0,x=Math.min(400,(u?e.right:a.right-e.left)-30);let X=a.bottom-e.bottom;X>=M||X>e.top?g=n.bottom-e.top:(O="bottom",g=e.bottom-n.top)}let $=(e.bottom-e.top)/c.offsetHeight,V=(e.right-e.left)/c.offsetWidth;return{style:`${O}: ${g/$}px; max-width: ${x/V}px`,class:"cm-completionInfo-"+(d?u?"left-narrow":"right-narrow":f?"left":"right")}}function optionContent(s){let e=s.addToOptions.slice();return s.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(a=>"cm-completionIcon-"+a)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,a,c){let u=document.createElement("span");u.className="cm-completionLabel";let f=n.displayLabel||n.label,d=0;for(let O=0;O<c.length;){let g=c[O++],x=c[O++];g>d&&u.appendChild(document.createTextNode(f.slice(d,g)));let T=u.appendChild(document.createElement("span"));T.appendChild(document.createTextNode(f.slice(g,x))),T.className="cm-completionMatchedText",d=x}return d<f.length&&u.appendChild(document.createTextNode(f.slice(d))),u},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function rangeAroundSelected(s,e,n){if(s<=n)return{from:0,to:s};if(e<0&&(e=0),e<=s>>1){let a=Math.floor(e/n);return{from:a*n,to:(a+1)*n}}let r=Math.floor((s-e)/n);return{from:s-(r+1)*n,to:s-r*n}}class CompletionTooltip{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:d=>this.placeInfo(d),key:this},this.space=null,this.currentClass="";let a=e.state.field(n),{options:c,selected:u}=a.open,f=e.state.facet(completionConfig);this.optionContent=optionContent(f),this.optionClass=f.optionClass,this.tooltipClass=f.tooltipClass,this.range=rangeAroundSelected(c.length,u,f.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",d=>{let{options:O}=e.state.field(n).open;for(let g=d.target,x;g&&g!=this.dom;g=g.parentNode)if(g.nodeName=="LI"&&(x=/-(\d+)$/.exec(g.id))&&+x[1]<O.length){this.applyCompletion(e,O[+x[1]]),d.preventDefault();return}}),this.dom.addEventListener("focusout",d=>{let O=e.state.field(this.stateField,!1);O&&O.tooltip&&e.state.facet(completionConfig).closeOnBlur&&d.relatedTarget!=e.contentDOM&&e.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(c,a.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),a=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=a){let{options:c,selected:u,disabled:f}=r.open;(!a.open||a.open.options!=c)&&(this.range=rangeAroundSelected(c.length,u,e.state.facet(completionConfig).maxRenderedOptions),this.showOptions(c,r.id)),this.updateSel(),f!=((n=a.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!f)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=rangeAroundSelected(n.options.length,n.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:a}=r;if(!a)return;let c=typeof a=="string"?document.createTextNode(a):a(r);if(!c)return;"then"in c?c.then(u=>{u&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(u,r)}).catch(u=>logException(this.view.state,u,"completion info")):this.addInfoPane(c,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:a,destroy:c}=e;r.appendChild(a),this.infoDestroy=c||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,a=this.range.from;r;r=r.nextSibling,a++)r.nodeName!="LI"||!r.id?a--:a==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&scrollIntoView(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),a=e.getBoundingClientRect(),c=this.space;if(!c){let u=this.dom.ownerDocument.documentElement;c={left:0,top:0,right:u.clientWidth,bottom:u.clientHeight}}return a.top>Math.min(c.bottom,n.bottom)-10||a.bottom<Math.max(c.top,n.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,n,a,r,c,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const a=document.createElement("ul");a.id=n,a.setAttribute("role","listbox"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label",this.view.state.phrase("Completions")),a.addEventListener("mousedown",u=>{u.target==a&&u.preventDefault()});let c=null;for(let u=r.from;u<r.to;u++){let{completion:f,match:d}=e[u],{section:O}=f;if(O){let T=typeof O=="string"?O:O.name;if(T!=c&&(u>r.from||r.from==0))if(c=T,typeof O!="string"&&O.header)a.appendChild(O.header(O));else{let E=a.appendChild(document.createElement("completion-section"));E.textContent=T}}const g=a.appendChild(document.createElement("li"));g.id=n+"-"+u,g.setAttribute("role","option");let x=this.optionClass(f);x&&(g.className=x);for(let T of this.optionContent){let E=T(f,this.view.state,this.view,d);E&&g.appendChild(E)}}return r.from&&a.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&a.classList.add("cm-completionListIncompleteBottom"),a}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(s,e){return n=>new CompletionTooltip(n,s,e)}function scrollIntoView(s,e){let n=s.getBoundingClientRect(),r=e.getBoundingClientRect(),a=n.height/s.offsetHeight;r.top<n.top?s.scrollTop-=(n.top-r.top)/a:r.bottom>n.bottom&&(s.scrollTop+=(r.bottom-n.bottom)/a)}function score(s){return(s.boost||0)*100+(s.apply?10:0)+(s.info?5:0)+(s.type?1:0)}function sortOptions(s,e){let n=[],r=null,a=O=>{n.push(O);let{section:g}=O.completion;if(g){r||(r=[]);let x=typeof g=="string"?g:g.name;r.some(T=>T.name==x)||r.push(typeof g=="string"?{name:x}:g)}},c=e.facet(completionConfig);for(let O of s)if(O.hasResult()){let g=O.result.getMatch;if(O.result.filter===!1)for(let x of O.result.options)a(new Option(x,O.source,g?g(x):[],1e9-n.length));else{let x=e.sliceDoc(O.from,O.to),T,E=c.filterStrict?new StrictMatcher(x):new FuzzyMatcher(x);for(let R of O.result.options)if(T=E.match(R.label)){let M=R.displayLabel?g?g(R,T.matched):[]:T.matched;a(new Option(R,O.source,M,T.score+(R.boost||0)))}}}if(r){let O=Object.create(null),g=0,x=(T,E)=>{var R,M;return((R=T.rank)!==null&&R!==void 0?R:1e9)-((M=E.rank)!==null&&M!==void 0?M:1e9)||(T.name<E.name?-1:1)};for(let T of r.sort(x))g-=1e5,O[T.name]=g;for(let T of n){let{section:E}=T.completion;E&&(T.score+=O[typeof E=="string"?E:E.name])}}let u=[],f=null,d=c.compareCompletions;for(let O of n.sort((g,x)=>x.score-g.score||d(g.completion,x.completion))){let g=O.completion;!f||f.label!=g.label||f.detail!=g.detail||f.type!=null&&g.type!=null&&f.type!=g.type||f.apply!=g.apply||f.boost!=g.boost?u.push(O):score(O.completion)>score(f)&&(u[u.length-1]=O),f=O.completion}return u}class CompletionDialog{constructor(e,n,r,a,c,u){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=a,this.selected=c,this.disabled=u}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,a,c,u){if(a&&!u&&e.some(O=>O.isPending))return a.setDisabled();let f=sortOptions(e,n);if(!f.length)return a&&e.some(O=>O.isPending)?a.setDisabled():null;let d=n.facet(completionConfig).selectOnOpen?0:-1;if(a&&a.selected!=d&&a.selected!=-1){let O=a.options[a.selected].completion;for(let g=0;g<f.length;g++)if(f[g].completion==O){d=g;break}}return new CompletionDialog(f,makeAttrs(r,d),{pos:e.reduce((O,g)=>g.hasResult()?Math.min(O,g.from):O,1e8),create:createTooltip,above:c.aboveCursor},a?a.timestamp:Date.now(),d,!1)}map(e){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new CompletionState(none$1,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(completionConfig),c=(r.override||n.languageDataAt("autocomplete",cur(n)).map(asSource)).map(d=>(this.active.find(g=>g.source==d)||new ActiveSource(d,this.active.some(g=>g.state!=0)?1:0)).update(e,r));c.length==this.active.length&&c.every((d,O)=>d==this.active[O])&&(c=this.active);let u=this.open,f=e.effects.some(d=>d.is(setActiveEffect));u&&e.docChanged&&(u=u.map(e.changes)),e.selection||c.some(d=>d.hasResult()&&e.changes.touchesRange(d.from,d.to))||!sameResults(c,this.active)||f?u=CompletionDialog.build(c,n,this.id,u,r,f):u&&u.disabled&&!c.some(d=>d.isPending)&&(u=null),!u&&c.every(d=>!d.isPending)&&c.some(d=>d.hasResult())&&(c=c.map(d=>d.hasResult()?new ActiveSource(d.source,0):d));for(let d of e.effects)d.is(setSelectedEffect)&&(u=u&&u.setSelected(d.value,this.id));return c==this.active&&u==this.open?this:new CompletionState(c,this.id,u)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(s,e){if(s==e)return!0;for(let n=0,r=0;;){for(;n<s.length&&!s[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let a=n==s.length,c=r==e.length;if(a||c)return a==c;if(s[n++].result!=e[r++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(s,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":s};return e>-1&&(n["aria-activedescendant"]=s+"-"+e),n}const none$1=[];function getUpdateType(s,e){if(s.isUserEvent("input.complete")){let r=s.annotation(pickedCompletion);if(r&&e.activateOnCompletion(r))return 12}let n=s.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:s.isUserEvent("delete.backward")?2:s.selection?8:s.docChanged?16:0}class ActiveSource{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=getUpdateType(e,n),a=this;(r&8||r&16&&this.touches(e))&&(a=new ActiveSource(a.source,0)),r&4&&a.state==0&&(a=new ActiveSource(this.source,1)),a=a.updateFor(e,r);for(let c of e.effects)if(c.is(startCompletionEffect))a=new ActiveSource(a.source,1,c.value);else if(c.is(closeCompletionEffect))a=new ActiveSource(a.source,0);else if(c.is(setActiveEffect))for(let u of c.value)u.source==a.source&&(a=u);return a}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(cur(e.state))}}class ActiveResult extends ActiveSource{constructor(e,n,r,a,c,u){super(e,3,n),this.limit=r,this.result=a,this.from=c,this.to=u}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let a=this.result;a.map&&!e.changes.empty&&(a=a.map(a,e.changes));let c=e.changes.mapPos(this.from),u=e.changes.mapPos(this.to,1),f=cur(e.state);if(f>u||!a||n&2&&(cur(e.startState)==this.from||f<this.limit))return new ActiveSource(this.source,n&4?1:0);let d=e.changes.mapPos(this.limit);return checkValid(a.validFor,e.state,c,u)?new ActiveResult(this.source,this.explicit,d,a,c,u):a.update&&(a=a.update(a,c,u,new CompletionContext(e.state,f,!1)))?new ActiveResult(this.source,this.explicit,d,a,a.from,(r=a.to)!==null&&r!==void 0?r:cur(e.state)):new ActiveSource(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ActiveResult(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function checkValid(s,e,n,r){if(!s)return!1;let a=e.sliceDoc(n,r);return typeof s=="function"?s(a,n,r,e):ensureAnchor(s,!0).test(a)}const setActiveEffect=StateEffect.define({map(s,e){return s.map(n=>n.map(e))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(s,e){return s.update(e)},provide:s=>[showTooltip.from(s,e=>e.tooltip),EditorView.contentAttributes.from(s,e=>e.attrs)]});function applyCompletion(s,e){const n=e.completion.apply||e.completion.label;let r=s.state.field(completionState).active.find(a=>a.source==e.source);return r instanceof ActiveResult?(typeof n=="string"?s.dispatch(Object.assign(Object.assign({},insertCompletionText(s.state,n,r.from,r.to)),{annotations:pickedCompletion.of(e.completion)})):n(s,e.completion,r.from,r.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(s,e="option"){return n=>{let r=n.state.field(completionState,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(completionConfig).interactionDelay)return!1;let a=1,c;e=="page"&&(c=getTooltip(n,r.open.tooltip))&&(a=Math.max(2,Math.floor(c.dom.offsetHeight/c.dom.querySelector("li").offsetHeight)-1));let{length:u}=r.open.options,f=r.open.selected>-1?r.open.selected+a*(s?1:-1):s?0:u-1;return f<0?f=e=="page"?0:u-1:f>=u&&(f=e=="page"?u-1:0),n.dispatch({effects:setSelectedEffect.of(f)}),!0}}const acceptCompletion=s=>{let e=s.state.field(completionState,!1);return s.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<s.state.facet(completionConfig).interactionDelay?!1:applyCompletion(s,e.open.options[e.open.selected])},startCompletion=s=>s.state.field(completionState,!1)?(s.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=s=>{let e=s.state.field(completionState,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(s.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of s.state.field(completionState).active)e.isPending&&this.startQuery(e)}update(s){let e=s.state.field(completionState),n=s.state.facet(completionConfig);if(!s.selectionSet&&!s.docChanged&&s.startState.field(completionState)==e)return;let r=s.transactions.some(c=>{let u=getUpdateType(c,n);return u&8||(c.selection||c.docChanged)&&!(u&3)});for(let c=0;c<this.running.length;c++){let u=this.running[c];if(r||u.context.abortOnDocChange&&s.docChanged||u.updates.length+s.transactions.length>MaxUpdateCount&&Date.now()-u.time>MinAbortTime){for(let f of u.context.abortListeners)try{f()}catch(d){logException(this.view.state,d)}u.context.abortListeners=null,this.running.splice(c--,1)}else u.updates.push(...s.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),s.transactions.some(c=>c.effects.some(u=>u.is(startCompletionEffect)))&&(this.pendingStart=!0);let a=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(c=>c.isPending&&!this.running.some(u=>u.active.source==c.source))?setTimeout(()=>this.startUpdate(),a):-1,this.composing!=0)for(let c of s.transactions)c.isUserEvent("input.type")?this.composing=2:this.composing==2&&c.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:s}=this.view,e=s.field(completionState);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(s){let{state:e}=this.view,n=cur(e),r=new CompletionContext(e,n,s.explicit,this.view),a=new RunningQuery(s,r);this.running.push(a),Promise.resolve(s.source(r)).then(c=>{a.context.aborted||(a.done=c||null,this.scheduleAccept())},c=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,c)})}scheduleAccept(){this.running.every(s=>s.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var s;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(completionConfig),r=this.view.state.field(completionState);for(let a=0;a<this.running.length;a++){let c=this.running[a];if(c.done===void 0)continue;if(this.running.splice(a--,1),c.done){let f=cur(c.updates.length?c.updates[0].startState:this.view.state),d=Math.min(f,c.done.from+(c.active.explicit?0:1)),O=new ActiveResult(c.active.source,c.active.explicit,d,c.done,c.done.from,(s=c.done.to)!==null&&s!==void 0?s:f);for(let g of c.updates)O=O.update(g,n);if(O.hasResult()){e.push(O);continue}}let u=r.active.find(f=>f.source==c.active.source);if(u&&u.isPending)if(c.done==null){let f=new ActiveSource(c.active.source,0);for(let d of c.updates)f=f.update(d,n);f.isPending||e.push(f)}else this.startQuery(u)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(e)})}},{eventHandlers:{blur(s){let e=this.view.state.field(completionState,!1);if(e&&e.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let n=e.open&&getTooltip(this.view,e.open.tooltip);(!n||!n.dom.contains(s.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(s,e){let n=e.state.field(completionState,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||s.key.length>1||s.ctrlKey&&!(windows&&s.altKey)||s.metaKey)return!1;let r=n.open.options[n.open.selected],a=n.active.find(u=>u.source==r.source),c=r.completion.commitCharacters||a.result.commitCharacters;return c&&c.indexOf(s.key)>-1&&applyCompletion(e,r),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(e,n,r,a){this.field=e,this.line=n,this.from=r,this.to=a}}class FieldRange{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,MapMode.TrackDel),r=e.mapPos(this.to,1,MapMode.TrackDel);return n==null||r==null?null:new FieldRange(this.field,n,r)}}class Snippet{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],a=[n],c=e.doc.lineAt(n),u=/^\s*/.exec(c.text)[0];for(let d of this.lines){if(r.length){let O=u,g=/^\t*/.exec(d)[0].length;for(let x=0;x<g;x++)O+=e.facet(indentUnit);a.push(n+O.length-g),d=O+d.slice(g)}r.push(d),n+=d.length+1}let f=this.fieldPositions.map(d=>new FieldRange(d.field,a[d.line]+d.from,a[d.line]+d.to));return{text:r,ranges:f}}static parse(e){let n=[],r=[],a=[],c;for(let u of e.split(/\r\n?|\n/)){for(;c=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(u);){let f=c[1]?+c[1]:null,d=c[2]||c[3]||"",O=-1,g=d.replace(/\\[{}]/g,x=>x[1]);for(let x=0;x<n.length;x++)(f!=null?n[x].seq==f:g&&n[x].name==g)&&(O=x);if(O<0){let x=0;for(;x<n.length&&(f==null||n[x].seq!=null&&n[x].seq<f);)x++;n.splice(x,0,{seq:f,name:g}),O=x;for(let T of a)T.field>=O&&T.field++}a.push(new FieldPos(O,r.length,c.index,c.index+g.length)),u=u.slice(0,c.index)+d+u.slice(c.index+c[0].length)}u=u.replace(/\\([{}])/g,(f,d,O)=>{for(let g of a)g.line==r.length&&g.from>O&&(g.from--,g.to--);return d}),r.push(u)}return new Snippet(r,a)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let s=document.createElement("span");return s.className="cm-snippetFieldPosition",s}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(e,n){this.ranges=e,this.active=n,this.deco=Decoration.set(e.map(r=>(r.from==r.to?fieldMarker:fieldRange).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let a=r.map(e);if(!a)return null;n.push(a)}return new ActiveSnippet(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const setActive=StateEffect.define({map(s,e){return s&&s.map(e)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(s,e){for(let n of e.effects){if(n.is(setActive))return n.value;if(n.is(moveToField)&&s)return new ActiveSnippet(s.ranges,n.value)}return s&&e.docChanged&&(s=s.map(e.changes)),s&&e.selection&&!s.selectionInsideField(e.selection)&&(s=null),s},provide:s=>EditorView.decorations.from(s,e=>e?e.deco:Decoration.none)});function fieldSelection(s,e){return EditorSelection.create(s.filter(n=>n.field==e).map(n=>EditorSelection.range(n.from,n.to)))}function snippet(s){let e=Snippet.parse(s);return(n,r,a,c)=>{let{text:u,ranges:f}=e.instantiate(n.state,a),{main:d}=n.state.selection,O={changes:{from:a,to:c==d.from?d.to:c,insert:Text$1.of(u)},scrollIntoView:!0,annotations:r?[pickedCompletion.of(r),Transaction.userEvent.of("input.complete")]:void 0};if(f.length&&(O.selection=fieldSelection(f,0)),f.some(g=>g.field>0)){let g=new ActiveSnippet(f,0),x=O.effects=[setActive.of(g)];n.state.field(snippetState,!1)===void 0&&x.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}n.dispatch(n.state.update(O))}}function moveField(s){return({state:e,dispatch:n})=>{let r=e.field(snippetState,!1);if(!r||s<0&&r.active==0)return!1;let a=r.active+s,c=s>0&&!r.ranges.some(u=>u.field==a+s);return n(e.update({selection:fieldSelection(r.ranges,a),effects:setActive.of(c?null:new ActiveSnippet(r.ranges,a)),scrollIntoView:!0})),!0}}const clearSnippet=({state:s,dispatch:e})=>s.field(snippetState,!1)?(e(s.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(s){return s.length?s[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],s=>s.facet(snippetKeymap)));function snippetCompletion(s,e){return Object.assign(Object.assign({},e),{apply:snippet(s)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(s,e){let n=e.state.field(snippetState,!1),r;if(!n||(r=e.posAtCoords({x:s.clientX,y:s.clientY}))==null)return!1;let a=n.ranges.find(c=>c.from<=r&&c.to>=r);return!a||a.field==n.active?!1:(e.dispatch({selection:fieldSelection(n.ranges,a.field),effects:setActive.of(n.ranges.some(c=>c.field>a.field)?new ActiveSnippet(n.ranges,a.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(s,e){let n=e.mapPos(s,-1,MapMode.TrackAfter);return n??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(s,e){if(s=s.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);s=s.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(closeBracketEffect)&&(s=s.update({add:[closedBracket.range(n.value,n.value+1)]}));return s}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(s){for(let e=0;e<definedClosing.length;e+=2)if(definedClosing.charCodeAt(e)==s)return definedClosing.charAt(e+1);return fromCodePoint(s<128?s:s+1)}function config(s,e){return s.languageDataAt("closeBrackets",e)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((s,e,n,r)=>{if((android$1?s.composing:s.compositionStarted)||s.state.readOnly)return!1;let a=s.state.selection.main;if(r.length>2||r.length==2&&codePointSize(codePointAt(r,0))==1||e!=a.from||n!=a.to)return!1;let c=insertBracket(s.state,r);return c?(s.dispatch(c),!0):!1}),deleteBracketPair=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let r=config(s,s.selection.main.head).brackets||defaults.brackets,a=null,c=s.changeByRange(u=>{if(u.empty){let f=prevChar(s.doc,u.head);for(let d of r)if(d==f&&nextChar(s.doc,u.head)==closing(codePointAt(d,0)))return{changes:{from:u.head-d.length,to:u.head+d.length},range:EditorSelection.cursor(u.head-d.length)}}return{range:a=u}});return a||e(s.update(c,{scrollIntoView:!0,userEvent:"delete.backward"})),!a},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(s,e){let n=config(s,s.selection.main.head),r=n.brackets||defaults.brackets;for(let a of r){let c=closing(codePointAt(a,0));if(e==a)return c==a?handleSame(s,a,r.indexOf(a+a+a)>-1,n):handleOpen(s,a,c,n.before||defaults.before);if(e==c&&closedBracketAt(s,s.selection.main.from))return handleClose(s,a,c)}return null}function closedBracketAt(s,e){let n=!1;return s.field(bracketState).between(0,s.doc.length,r=>{r==e&&(n=!0)}),n}function nextChar(s,e){let n=s.sliceString(e,e+2);return n.slice(0,codePointSize(codePointAt(n,0)))}function prevChar(s,e){let n=s.sliceString(e-2,e);return codePointSize(codePointAt(n,0))==n.length?n:n.slice(1)}function handleOpen(s,e,n,r){let a=null,c=s.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:n,from:u.to}],effects:closeBracketEffect.of(u.to+e.length),range:EditorSelection.range(u.anchor+e.length,u.head+e.length)};let f=nextChar(s.doc,u.head);return!f||/\s/.test(f)||r.indexOf(f)>-1?{changes:{insert:e+n,from:u.head},effects:closeBracketEffect.of(u.head+e.length),range:EditorSelection.cursor(u.head+e.length)}:{range:a=u}});return a?null:s.update(c,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(s,e,n){let r=null,a=s.changeByRange(c=>c.empty&&nextChar(s.doc,c.head)==n?{changes:{from:c.head,to:c.head+n.length,insert:n},range:EditorSelection.cursor(c.head+n.length)}:r={range:c});return r?null:s.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(s,e,n,r){let a=r.stringPrefixes||defaults.stringPrefixes,c=null,u=s.changeByRange(f=>{if(!f.empty)return{changes:[{insert:e,from:f.from},{insert:e,from:f.to}],effects:closeBracketEffect.of(f.to+e.length),range:EditorSelection.range(f.anchor+e.length,f.head+e.length)};let d=f.head,O=nextChar(s.doc,d),g;if(O==e){if(nodeStart(s,d))return{changes:{insert:e+e,from:d},effects:closeBracketEffect.of(d+e.length),range:EditorSelection.cursor(d+e.length)};if(closedBracketAt(s,d)){let T=n&&s.sliceDoc(d,d+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:d,to:d+T.length,insert:T},range:EditorSelection.cursor(d+T.length)}}}else{if(n&&s.sliceDoc(d-2*e.length,d)==e+e&&(g=canStartStringAt(s,d-2*e.length,a))>-1&&nodeStart(s,g))return{changes:{insert:e+e+e+e,from:d},effects:closeBracketEffect.of(d+e.length),range:EditorSelection.cursor(d+e.length)};if(s.charCategorizer(d)(O)!=CharCategory.Word&&canStartStringAt(s,d,a)>-1&&!probablyInString(s,d,e,a))return{changes:{insert:e+e,from:d},effects:closeBracketEffect.of(d+e.length),range:EditorSelection.cursor(d+e.length)}}return{range:c=f}});return c?null:s.update(u,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(s,e){let n=syntaxTree(s).resolveInner(e+1);return n.parent&&n.from==e}function probablyInString(s,e,n,r){let a=syntaxTree(s).resolveInner(e,-1),c=r.reduce((u,f)=>Math.max(u,f.length),0);for(let u=0;u<5;u++){let f=s.sliceDoc(a.from,Math.min(a.to,a.from+n.length+c)),d=f.indexOf(n);if(!d||d>-1&&r.indexOf(f.slice(0,d))>-1){let g=a.firstChild;for(;g&&g.from==a.from&&g.to-g.from>n.length+d;){if(s.sliceDoc(g.to-n.length,g.to)==n)return!1;g=g.firstChild}return!0}let O=a.to==e&&a.parent;if(!O)break;a=O}return!1}function canStartStringAt(s,e,n){let r=s.charCategorizer(e);if(r(s.sliceDoc(e-1,e))!=CharCategory.Word)return e;for(let a of n){let c=e-a.length;if(s.sliceDoc(c,e)==a&&r(s.sliceDoc(c-1,c))!=CharCategory.Word)return c}return-1}function autocompletion(s={}){return[commitCharacters,completionState,completionConfig.of(s),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],s=>s.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class LintState{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let a=r.facet(lintConfig).markerFilter;a&&(e=a(e,r));let c=e.slice().sort((g,x)=>g.from-x.from||g.to-x.to),u=new RangeSetBuilder,f=[],d=0;for(let g=0;;){let x=g==c.length?null:c[g];if(!x&&!f.length)break;let T,E;for(f.length?(T=d,E=f.reduce((M,$)=>Math.min(M,$.to),x&&x.from>T?x.from:1e8)):(T=x.from,E=x.to,f.push(x),g++);g<c.length;){let M=c[g];if(M.from==T&&(M.to>M.from||M.to==T))f.push(M),g++,E=Math.min(M.to,E);else{E=Math.min(M.from,E);break}}let R=maxSeverity(f);if(f.some(M=>M.from==M.to||M.from==M.to-1&&r.doc.lineAt(M.from).to==M.from))u.add(T,T,Decoration.widget({widget:new DiagnosticWidget(R),diagnostics:f.slice()}));else{let M=f.reduce(($,V)=>V.markClass?$+" "+V.markClass:$,"");u.add(T,E,Decoration.mark({class:"cm-lintRange cm-lintRange-"+R+M,diagnostics:f.slice(),inclusiveEnd:f.some($=>$.to>E)}))}d=E;for(let M=0;M<f.length;M++)f[M].to<=d&&f.splice(M--,1)}let O=u.finish();return new LintState(O,n,findDiagnostic(O))}}function findDiagnostic(s,e=null,n=0){let r=null;return s.between(n,1e9,(a,c,{spec:u})=>{if(!(e&&u.diagnostics.indexOf(e)<0))if(!r)r=new SelectedDiagnostic(a,c,e||u.diagnostics[0]);else{if(u.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new SelectedDiagnostic(r.from,c,r.diagnostic)}}),r}function hideTooltip(s,e){let n=e.pos,r=e.end||n,a=s.state.facet(lintConfig).hideOn(s,n,r);if(a!=null)return a;let c=s.startState.doc.lineAt(e.pos);return!!(s.effects.some(u=>u.is(setDiagnosticsEffect))||s.changes.touchesRange(c.from,Math.max(c.to,r)))}function maybeEnableLint(s,e){return s.field(lintState,!1)?e:e.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(s,e){if(e.docChanged&&s.diagnostics.size){let n=s.diagnostics.map(e.changes),r=null,a=s.panel;if(s.selected){let c=e.changes.mapPos(s.selected.from,1);r=findDiagnostic(n,s.selected.diagnostic,c)||findDiagnostic(n,null,c)}!n.size&&a&&e.state.facet(lintConfig).autoPanel&&(a=null),s=new LintState(n,a,r)}for(let n of e.effects)if(n.is(setDiagnosticsEffect)){let r=e.state.facet(lintConfig).autoPanel?n.value.length?LintPanel.open:null:s.panel;s=LintState.init(n.value,r,e.state)}else n.is(togglePanel)?s=new LintState(s.diagnostics,n.value?LintPanel.open:null,s.selected):n.is(movePanelSelection)&&(s=new LintState(s.diagnostics,s.panel,n.value));return s},provide:s=>[showPanel.from(s,e=>e.panel),EditorView.decorations.from(s,e=>e.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(s,e,n){let{diagnostics:r}=s.state.field(lintState),a,c=-1,u=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(d,O,{spec:g})=>{if(e>=d&&e<=O&&(d==O||(e>d||n>0)&&(e<O||n<0)))return a=g.diagnostics,c=d,u=O,!1});let f=s.state.facet(lintConfig).tooltipFilter;return a&&f&&(a=f(a,s.state)),a?{pos:c,end:u,above:s.state.doc.lineAt(c).to<u,create(){return{dom:diagnosticsTooltip(s,a)}}}:null}function diagnosticsTooltip(s,e){return crelt("ul",{class:"cm-tooltip-lint"},e.map(n=>renderDiagnostic(s,n,!1)))}const openLintPanel=s=>{let e=s.state.field(lintState,!1);(!e||!e.panel)&&s.dispatch({effects:maybeEnableLint(s.state,[togglePanel.of(!0)])});let n=getPanel(s,LintPanel.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=s=>{let e=s.state.field(lintState,!1);return!e||!e.panel?!1:(s.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=s=>{let e=s.state.field(lintState,!1);if(!e)return!1;let n=s.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(s.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(s){return Object.assign({sources:s.map(e=>e.source).filter(e=>e!=null)},combineConfig(s.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function assignKeys(s){let e=[];if(s)e:for(let{name:n}of s){for(let r=0;r<n.length;r++){let a=n[r];if(/[a-zA-Z]/.test(a)&&!e.some(c=>c.toLowerCase()==a.toLowerCase())){e.push(a);continue e}}e.push("")}return e}function renderDiagnostic(s,e,n){var r;let a=n?assignKeys(e.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},crelt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(s):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((c,u)=>{let f=!1,d=T=>{if(T.preventDefault(),f)return;f=!0;let E=findDiagnostic(s.state.field(lintState).diagnostics,e);E&&c.apply(s,E.from,E.to)},{name:O}=c,g=a[u]?O.indexOf(a[u]):-1,x=g<0?O:[O.slice(0,g),crelt("u",O.slice(g,g+1)),O.slice(g+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:d,onmousedown:d,"aria-label":` Action: ${O}${g<0?"":` (access key "${a[u]})"`}.`},x)}),e.source&&crelt("div",{class:"cm-diagnosticSource"},e.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];let n=a=>{if(a.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(a.keyCode==38||a.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(a.keyCode==40||a.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(a.keyCode==36)this.moveSelection(0);else if(a.keyCode==35)this.moveSelection(this.items.length-1);else if(a.keyCode==13)this.view.focus();else if(a.keyCode>=65&&a.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:c}=this.items[this.selectedIndex],u=assignKeys(c.actions);for(let f=0;f<u.length;f++)if(u[f].toUpperCase().charCodeAt(0)==a.keyCode){let d=findDiagnostic(this.view.state.field(lintState).diagnostics,c);d&&c.actions[f].apply(e,d.from,d.to)}}else return;a.preventDefault()},r=a=>{for(let c=0;c<this.items.length;c++)this.items[c].dom.contains(a.target)&&this.moveSelection(c)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(lintState),r=0,a=!1,c=null,u=new Set;for(e.between(0,this.view.state.doc.length,(f,d,{spec:O})=>{for(let g of O.diagnostics){if(u.has(g))continue;u.add(g);let x=-1,T;for(let E=r;E<this.items.length;E++)if(this.items[E].diagnostic==g){x=E;break}x<0?(T=new PanelItem(this.view,g),this.items.splice(r,0,T),a=!0):(T=this.items[x],x>r&&(this.items.splice(r,x-r),a=!0)),n&&T.diagnostic==n.diagnostic?T.dom.hasAttribute("aria-selected")||(T.dom.setAttribute("aria-selected","true"),c=T):T.dom.hasAttribute("aria-selected")&&T.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),c?(this.list.setAttribute("aria-activedescendant",c.id),this.view.requestMeasure({key:this,read:()=>({sel:c.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:f,panel:d})=>{let O=d.height/this.list.offsetHeight;f.top<d.top?this.list.scrollTop-=(d.top-f.top)/O:f.bottom>d.bottom&&(this.list.scrollTop+=(f.bottom-d.bottom)/O)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(lintState),r=findDiagnostic(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:movePanelSelection.of(r)})}static open(e){return new LintPanel(e)}}function svg(s,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(s)}</svg>')`}function underline(s){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${s}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(s){return s=="error"?4:s=="warning"?3:s=="info"?2:1}function maxSeverity(s){let e="hint",n=1;for(let r of s){let a=severityWeight(r.severity);a>n&&(n=a,e=r.severity)}return e}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],s=>{let{selected:e,panel:n}=s.field(lintState);return!e||!n||e.from==e.to?Decoration.none:Decoration.set([activeMark.range(e.from,e.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme],basicSetup=(()=>[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])])();class Stack{constructor(e,n,r,a,c,u,f,d,O,g=0,x){this.p=e,this.stack=n,this.state=r,this.reducePos=a,this.pos=c,this.score=u,this.buffer=f,this.bufferBase=d,this.curContext=O,this.lookAhead=g,this.parent=x}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let a=e.parser.context;return new Stack(e,[],n,r,r,0,[],0,a?new StackContext(a,a.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,a=e&65535,{parser:c}=this.p,u=this.reducePos<this.pos-25;u&&this.setLookAhead(this.pos);let f=c.dynamicPrecedence(a);if(f&&(this.score+=f),r==0){this.pushState(c.getGoto(this.state,a,!0),this.reducePos),a<c.minRepeatTerm&&this.storeNode(a,this.reducePos,this.reducePos,u?8:4,!0),this.reduceContext(a,this.reducePos);return}let d=this.stack.length-(r-1)*3-(e&262144?6:0),O=d?this.stack[d-2]:this.p.ranges[0].from,g=this.reducePos-O;g>=2e3&&!(!((n=this.p.parser.nodeSet.types[a])===null||n===void 0)&&n.isAnonymous)&&(O==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=g):this.p.lastBigReductionSize<g&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=O,this.p.lastBigReductionSize=g));let x=d?this.stack[d-1]:0,T=this.bufferBase+this.buffer.length-x;if(a<c.minRepeatTerm||e&131072){let E=c.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(a,O,E,T+4,!0)}if(e&262144)this.state=this.stack[d];else{let E=this.stack[d-3];this.state=c.getGoto(E,a,!0)}for(;this.stack.length>d;)this.stack.pop();this.reduceContext(a,O)}storeNode(e,n,r,a=4,c=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let u=this,f=this.buffer.length;if(f==0&&u.parent&&(f=u.bufferBase-u.parent.bufferBase,u=u.parent),f>0&&u.buffer[f-4]==0&&u.buffer[f-1]>-1){if(n==r)return;if(u.buffer[f-2]>=n){u.buffer[f-2]=r;return}}}if(!c||this.pos==r)this.buffer.push(e,n,r,a);else{let u=this.buffer.length;if(u>0&&this.buffer[u-4]!=0){let f=!1;for(let d=u;d>0&&this.buffer[d-2]>r;d-=4)if(this.buffer[d-1]>=0){f=!0;break}if(f)for(;u>0&&this.buffer[u-2]>r;)this.buffer[u]=this.buffer[u-4],this.buffer[u+1]=this.buffer[u-3],this.buffer[u+2]=this.buffer[u-2],this.buffer[u+3]=this.buffer[u-1],u-=4,a>4&&(a-=4)}this.buffer[u]=e,this.buffer[u+1]=n,this.buffer[u+2]=r,this.buffer[u+3]=a}}shift(e,n,r,a){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=a,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,a,4);else{let c=e,{parser:u}=this.p;(a>this.pos||n<=u.maxNode)&&(this.pos=a,u.stateFlag(c,1)||(this.reducePos=a)),this.pushState(c,r),this.shiftContext(n,r),n<=u.maxNode&&this.buffer.push(n,r,a,4)}}apply(e,n,r,a){e&65536?this.reduce(e):this.shift(e,n,r,a)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let a=this.pos;this.reducePos=this.pos=a+e.length,this.pushState(n,a),this.buffer.push(r,a,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),a=e.bufferBase+n;for(;e&&a==e.bufferBase;)e=e.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,a,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new SimulatedStack(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let a=[];for(let c=0,u;c<n.length;c+=2)(u=n[c+1])!=this.state&&this.p.parser.hasAction(u,e)&&a.push(n[c],u);if(this.stack.length<120)for(let c=0;a.length<8&&c<n.length;c+=2){let u=n[c+1];a.some((f,d)=>d&1&&f==u)||a.push(n[c],u)}n=a}let r=[];for(let a=0;a<n.length&&r.length<4;a+=2){let c=n[a+1];if(c==this.state)continue;let u=this.split();u.pushState(c,this.pos),u.storeNode(0,u.pos,u.pos,4,!0),u.shiftContext(n[a],this.pos),u.reducePos=this.pos,u.score-=200,r.push(u)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,a=n&65535,c=this.stack.length-r*3;if(c<0||e.getGoto(this.stack[c],a,!1)<0){let u=this.findForcedReduction();if(u==null)return!1;n=u}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(a,c)=>{if(!n.includes(a))return n.push(a),e.allActions(a,u=>{if(!(u&393216))if(u&65536){let f=(u>>19)-c;if(f>1){let d=u&65535,O=this.stack.length-f*3;if(O>=0&&e.getGoto(this.stack[O],d,!1)>=0)return f<<19|65536|d}}else{let f=r(u,c+1);if(f!=null)return f}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new StackContext(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class SimulatedStack{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let a=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=a}}class StackBufferCursor{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new StackBufferCursor(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(s,e=Uint16Array){if(typeof s!="string")return s;let n=null;for(let r=0,a=0;r<s.length;){let c=0;for(;;){let u=s.charCodeAt(r++),f=!1;if(u==126){c=65535;break}u>=92&&u--,u>=34&&u--;let d=u-32;if(d>=46&&(d-=46,f=!0),c+=d,f)break;c*=46}n?n[a++]=c:n=new e(c)}return n}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,a=this.rangeIndex,c=this.pos+e;for(;c<r.from;){if(!a)return null;let u=this.ranges[--a];c-=r.from-u.to,r=u}for(;n<0?c>r.to:c>=r.to;){if(a==this.ranges.length-1)return null;let u=this.ranges[++a];c+=u.from-r.to,r=u}return c}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,a;if(n>=0&&n<this.chunk.length)r=this.pos+e,a=this.chunk.charCodeAt(n);else{let c=this.resolveOffset(e,1);if(c==null)return-1;if(r=c,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)a=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let u=this.rangeIndex,f=this.range;for(;f.to<=r;)f=this.ranges[++u];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>f.to&&(this.chunk2=this.chunk2.slice(0,f.to-r)),a=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),a}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=nullToken,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let a of this.ranges){if(a.from>=n)break;a.to>e&&(r+=this.input.read(Math.max(a.from,e),Math.min(a.to,n)))}return r}}class TokenGroup{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;readToken(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?decodeArray(e):e}token(e,n){let r=e.pos,a=0;for(;;){let c=e.next<0,u=e.resolveOffset(1,1);if(readToken(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(c||a++,u==null)break;e.reset(u,e.token)}a&&(e.reset(r,e.token),e.acceptToken(this.elseToken,a))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function readToken(s,e,n,r,a,c){let u=0,f=1<<r,{dialect:d}=n.p.parser;e:for(;f&s[u];){let O=s[u+1];for(let E=u+3;E<O;E+=2)if((s[E+1]&f)>0){let R=s[E];if(d.allows(R)&&(e.token.value==-1||e.token.value==R||overrides(R,e.token.value,a,c))){e.acceptToken(R);break}}let g=e.next,x=0,T=s[u+2];if(e.next<0&&T>x&&s[O+T*3-3]==65535){u=s[O+T*3-1];continue e}for(;x<T;){let E=x+T>>1,R=O+E+(E<<1),M=s[R],$=s[R+1]||65536;if(g<M)T=E;else if(g>=$)x=E+1;else{u=s[R+2],e.advance();continue e}}break}}function findOffset(s,e,n){for(let r=e,a;(a=s[r])!=65535;r++)if(a==n)return r-e;return-1}function overrides(s,e,n,r){let a=findOffset(n,r,e);return a<0||findOffset(n,r,s)<a}const verbose=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let stackIDs=null;function cutAt(s,e,n){let r=s.cursor(IterMode.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(s.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:s.length}}let FragmentCursor$1=class{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?cutAt(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?cutAt(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],a=this.index[n];if(a==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let c=r.children[a],u=this.start[n]+r.positions[a];if(u>e)return this.nextStart=u,null;if(c instanceof Tree){if(u==e){if(u<this.safeFrom)return null;let f=u+c.length;if(f<=this.safeTo){let d=c.prop(NodeProp.lookAhead);if(!d||f+d<this.fragment.to)return c}}this.index[n]++,u+c.length>=Math.max(this.safeFrom,e)&&(this.trees.push(c),this.start.push(u),this.index.push(0))}else this.index[n]++,this.nextStart=u+c.length}}};class TokenCache{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new CachedToken)}getActions(e){let n=0,r=null,{parser:a}=e.p,{tokenizers:c}=a,u=a.stateSlot(e.state,3),f=e.curContext?e.curContext.hash:0,d=0;for(let O=0;O<c.length;O++){if(!(1<<O&u))continue;let g=c[O],x=this.tokens[O];if(!(r&&!g.fallback)&&((g.contextual||x.start!=e.pos||x.mask!=u||x.context!=f)&&(this.updateCachedToken(x,g,e),x.mask=u,x.context=f),x.lookAhead>x.end+25&&(d=Math.max(x.lookAhead,d)),x.value!=0)){let T=n;if(x.extended>-1&&(n=this.addActions(e,x.extended,x.end,n)),n=this.addActions(e,x.value,x.end,n),!g.extend&&(r=x,n>T))break}}for(;this.actions.length>n;)this.actions.pop();return d&&e.setLookAhead(d),!r&&e.pos==this.stream.end&&(r=new CachedToken,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new CachedToken,{pos:r,p:a}=e;return n.start=r,n.end=Math.min(r+1,a.stream.end),n.value=r==a.stream.end?a.parser.eofTerm:0,n}updateCachedToken(e,n,r){let a=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(a,e),r),e.value>-1){let{parser:c}=r.p;for(let u=0;u<c.specialized.length;u++)if(c.specialized[u]==e.value){let f=c.specializers[u](this.stream.read(e.start,e.end),r);if(f>=0&&r.p.parser.dialect.allows(f>>1)){f&1?e.extended=f>>1:e.value=f>>1;break}}}else e.value=0,e.end=this.stream.clipPos(a+1)}putAction(e,n,r,a){for(let c=0;c<a;c+=3)if(this.actions[c]==e)return a;return this.actions[a++]=e,this.actions[a++]=n,this.actions[a++]=r,a}addActions(e,n,r,a){let{state:c}=e,{parser:u}=e.p,{data:f}=u;for(let d=0;d<2;d++)for(let O=u.stateSlot(c,d?2:1);;O+=3){if(f[O]==65535)if(f[O+1]==1)O=pair(f,O+2);else{a==0&&f[O+1]==2&&(a=this.putAction(pair(f,O+2),n,r,a));break}f[O]==n&&(a=this.putAction(pair(f,O+1),n,r,a))}return a}}class Parse{constructor(e,n,r,a){this.parser=e,this.input=n,this.ranges=a,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(n,a),this.tokens=new TokenCache(e,this.stream),this.topTerm=e.top[1];let{from:c}=a[0];this.stacks=[Stack.start(this,e.top[0],c)],this.fragments=r.length&&this.stream.end-c>e.bufferLength*4?new FragmentCursor$1(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],a,c;if(this.bigReductionCount>300&&e.length==1){let[u]=e;for(;u.forceReduce()&&u.stack.length&&u.stack[u.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let u=0;u<e.length;u++){let f=e[u];for(;;){if(this.tokens.mainToken=null,f.pos>n)r.push(f);else{if(this.advanceStack(f,r,e))continue;{a||(a=[],c=[]),a.push(f);let d=this.tokens.getMainToken(f);c.push(d.value,d.end)}}break}}if(!r.length){let u=a&&findFinished(a);if(u)return verbose&&console.log("Finish with "+this.stackID(u)),this.stackToTree(u);if(this.parser.strict)throw verbose&&a&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&a){let u=this.stoppedAt!=null&&a[0].pos>this.stoppedAt?a[0]:this.runRecovery(a,c,r);if(u)return verbose&&console.log("Force-finish "+this.stackID(u)),this.stackToTree(u.forceAll())}if(this.recovering){let u=this.recovering==1?1:this.recovering*3;if(r.length>u)for(r.sort((f,d)=>d.score-f.score);r.length>u;)r.pop();r.some(f=>f.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let u=0;u<r.length-1;u++){let f=r[u];for(let d=u+1;d<r.length;d++){let O=r[d];if(f.sameState(O)||f.buffer.length>500&&O.buffer.length>500)if((f.score-O.score||f.buffer.length-O.buffer.length)>0)r.splice(d--,1);else{r.splice(u--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let u=1;u<r.length;u++)r[u].pos<this.minStackPos&&(this.minStackPos=r[u].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let a=e.pos,{parser:c}=this,u=verbose?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&a>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let O=e.curContext&&e.curContext.tracker.strict,g=O?e.curContext.hash:0;for(let x=this.fragments.nodeAt(a);x;){let T=this.parser.nodeSet.types[x.type.id]==x.type?c.getGoto(e.state,x.type.id):-1;if(T>-1&&x.length&&(!O||(x.prop(NodeProp.contextHash)||0)==g))return e.useNode(x,T),verbose&&console.log(u+this.stackID(e)+` (via reuse of ${c.getName(x.type.id)})`),!0;if(!(x instanceof Tree)||x.children.length==0||x.positions[0]>0)break;let E=x.children[0];if(E instanceof Tree&&x.positions[0]==0)x=E;else break}}let f=c.stateSlot(e.state,4);if(f>0)return e.reduce(f),verbose&&console.log(u+this.stackID(e)+` (via always-reduce ${c.getName(f&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let d=this.tokens.getActions(e);for(let O=0;O<d.length;){let g=d[O++],x=d[O++],T=d[O++],E=O==d.length||!r,R=E?e:e.split(),M=this.tokens.mainToken;if(R.apply(g,x,M?M.start:R.pos,T),verbose&&console.log(u+this.stackID(R)+` (via ${g&65536?`reduce of ${c.getName(g&65535)}`:"shift"} for ${c.getName(x)} @ ${a}${R==e?"":", split"})`),E)return!0;R.pos>a?n.push(R):r.push(R)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return pushStackDedup(e,n),!0}}runRecovery(e,n,r){let a=null,c=!1;for(let u=0;u<e.length;u++){let f=e[u],d=n[u<<1],O=n[(u<<1)+1],g=verbose?this.stackID(f)+" -> ":"";if(f.deadEnd&&(c||(c=!0,f.restart(),verbose&&console.log(g+this.stackID(f)+" (restarted)"),this.advanceFully(f,r))))continue;let x=f.split(),T=g;for(let E=0;x.forceReduce()&&E<10&&(verbose&&console.log(T+this.stackID(x)+" (via force-reduce)"),!this.advanceFully(x,r));E++)verbose&&(T=this.stackID(x)+" -> ");for(let E of f.recoverByInsert(d))verbose&&console.log(g+this.stackID(E)+" (via recover-insert)"),this.advanceFully(E,r);this.stream.end>f.pos?(O==f.pos&&(O++,d=0),f.recoverByDelete(d,O),verbose&&console.log(g+this.stackID(f)+` (via recover-delete ${this.parser.getName(d)})`),pushStackDedup(f,r)):(!a||a.score<f.score)&&(a=f)}return a}stackToTree(e){return e.close(),Tree.build({buffer:StackBufferCursor.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(stackIDs||(stackIDs=new WeakMap)).get(e);return n||stackIDs.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function pushStackDedup(s,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==s.pos&&r.sameState(s)){e[n].score<s.score&&(e[n]=s);return}}e.push(s)}class Dialect{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const id=s=>s;class ContextTracker{constructor(e){this.start=e.start,this.shift=e.shift||id,this.reduce=e.reduce||id,this.reuse=e.reuse||id,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class LRParser extends Parser{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let f=0;f<e.repeatNodeCount;f++)n.push("");let r=Object.keys(e.topRules).map(f=>e.topRules[f][1]),a=[];for(let f=0;f<n.length;f++)a.push([]);function c(f,d,O){a[f].push([d,d.deserialize(String(O))])}if(e.nodeProps)for(let f of e.nodeProps){let d=f[0];typeof d=="string"&&(d=NodeProp[d]);for(let O=1;O<f.length;){let g=f[O++];if(g>=0)c(g,d,f[O++]);else{let x=f[O+-g];for(let T=-g;T>0;T--)c(f[O++],d,x);O++}}}this.nodeSet=new NodeSet(n.map((f,d)=>NodeType.define({name:d>=this.minRepeatTerm?void 0:f,id:d,props:a[d],top:r.indexOf(d)>-1,error:d==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(d)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let u=decodeArray(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let f=0;f<this.specializerSpecs.length;f++)this.specialized[f]=this.specializerSpecs[f].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(e.states,Uint32Array),this.data=decodeArray(e.stateData),this.goto=decodeArray(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(f=>typeof f=="number"?new TokenGroup(u,f):f),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let a=new Parse(this,e,n,r);for(let c of this.wrappers)a=c(a,e,n,r);return a}getGoto(e,n,r=!1){let a=this.goto;if(n>=a[0])return-1;for(let c=a[n+1];;){let u=a[c++],f=u&1,d=a[c++];if(f&&r)return d;for(let O=c+(u>>1);c<O;c++)if(a[c]==e)return d;if(f)return-1}}hasAction(e,n){let r=this.data;for(let a=0;a<2;a++)for(let c=this.stateSlot(e,a?2:1),u;;c+=3){if((u=r[c])==65535)if(r[c+1]==1)u=r[c=pair(r,c+2)];else{if(r[c+1]==2)return pair(r,c+2);break}if(u==n||u==0)return pair(r,c+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),a=r?n(r):void 0;for(let c=this.stateSlot(e,1);a==null;c+=3){if(this.data[c]==65535)if(this.data[c+1]==1)c=pair(this.data,c+2);else break;a=n(pair(this.data,c+1))}return a}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=pair(this.data,r+2);else break;if(!(this.data[r+2]&1)){let a=this.data[r+1];n.some((c,u)=>u&1&&c==a)||n.push(this.data[r],a)}}return n}configure(e){let n=Object.assign(Object.create(LRParser.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let a=e.tokenizers.find(c=>c.from==r);return a?a.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,a)=>{let c=e.specializers.find(f=>f.from==r.external);if(!c)return r;let u=Object.assign(Object.assign({},r),{external:c.to});return n.specializers[a]=getSpecializer(u),u})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let c of e.split(" ")){let u=n.indexOf(c);u>=0&&(r[u]=!0)}let a=null;for(let c=0;c<n.length;c++)if(!r[c])for(let u=this.dialects[n[c]],f;(f=this.data[u++])!=65535;)(a||(a=new Uint8Array(this.maxTerm+1)))[f]=1;return new Dialect(e,r,a)}static deserialize(e){return new LRParser(e)}}function pair(s,e){return s[e]|s[e+1]<<16}function findFinished(s){let e=null;for(let n of s){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function getSpecializer(s){if(s.external){let e=s.extend?1:0;return(n,r)=>s.external(n,r)<<1|e}return s.get}const noSemi=315,noSemiType=316,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=317,spaces=319,newline$3=320,LineComment=5,BlockComment=6,Dialect_jsx=0,space$3=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash$1=47,star=42,plus=43,minus=45,lt=60,comma=44,question$1=63,dot$1=46,bracketL$1=91,trackNewline=new ContextTracker({start:!1,shift(s,e){return e==LineComment||e==BlockComment||e==spaces?s:e==newline$3},strict:!1}),insertSemicolon=new ExternalTokenizer((s,e)=>{let{next:n}=s;(n==braceR||n==-1||e.context)&&s.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((s,e)=>{let{next:n}=s,r;space$3.indexOf(n)>-1||n==slash$1&&((r=s.peek(1))==slash$1||r==star)||n!=braceR&&n!=semicolon&&n!=-1&&!e.context&&s.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((s,e)=>{s.next==bracketL$1&&!e.context&&s.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((s,e)=>{let{next:n}=s;if(n==plus||n==minus){if(s.advance(),n==s.next){s.advance();let r=!e.context&&e.canShift(incdec);s.acceptToken(r?incdec:incdecPrefix)}}else n==question$1&&s.peek(1)==dot$1&&(s.advance(),s.advance(),(s.next<48||s.next>57)&&s.acceptToken(questionDot))},{contextual:!0});function identifierChar(s,e){return s>=65&&s<=90||s>=97&&s<=122||s==95||s>=192||!e&&s>=48&&s<=57}const jsx=new ExternalTokenizer((s,e)=>{if(s.next!=lt||!e.dialectEnabled(Dialect_jsx)||(s.advance(),s.next==slash$1))return;let n=0;for(;space$3.indexOf(s.next)>-1;)s.advance(),n++;if(identifierChar(s.next,!0)){for(s.advance(),n++;identifierChar(s.next,!1);)s.advance(),n++;for(;space$3.indexOf(s.next)>-1;)s.advance(),n++;if(s.next==comma)return;for(let r=0;;r++){if(r==7){if(!identifierChar(s.next,!0))return;break}if(s.next!="extends".charCodeAt(r))break;s.advance(),n++}}s.acceptToken(JSXStartTag,-n)}),jsHighlight=styleTags({"get set async static":tags$1.modifier,"for while do if else switch try catch finally return throw break continue default case":tags$1.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":tags$1.operatorKeyword,"let var const using function class extends":tags$1.definitionKeyword,"import export from":tags$1.moduleKeyword,"with debugger new":tags$1.keyword,TemplateString:tags$1.special(tags$1.string),super:tags$1.atom,BooleanLiteral:tags$1.bool,this:tags$1.self,null:tags$1.null,Star:tags$1.modifier,VariableName:tags$1.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags$1.function(tags$1.variableName),VariableDefinition:tags$1.definition(tags$1.variableName),Label:tags$1.labelName,PropertyName:tags$1.propertyName,PrivatePropertyName:tags$1.special(tags$1.propertyName),"CallExpression/MemberExpression/PropertyName":tags$1.function(tags$1.propertyName),"FunctionDeclaration/VariableDefinition":tags$1.function(tags$1.definition(tags$1.variableName)),"ClassDeclaration/VariableDefinition":tags$1.definition(tags$1.className),"NewExpression/VariableName":tags$1.className,PropertyDefinition:tags$1.definition(tags$1.propertyName),PrivatePropertyDefinition:tags$1.definition(tags$1.special(tags$1.propertyName)),UpdateOp:tags$1.updateOperator,"LineComment Hashbang":tags$1.lineComment,BlockComment:tags$1.blockComment,Number:tags$1.number,String:tags$1.string,Escape:tags$1.escape,ArithOp:tags$1.arithmeticOperator,LogicOp:tags$1.logicOperator,BitOp:tags$1.bitwiseOperator,CompareOp:tags$1.compareOperator,RegExp:tags$1.regexp,Equals:tags$1.definitionOperator,Arrow:tags$1.function(tags$1.punctuation),": Spread":tags$1.punctuation,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace,"InterpolationStart InterpolationEnd":tags$1.special(tags$1.brace),".":tags$1.derefOperator,", ;":tags$1.separator,"@":tags$1.meta,TypeName:tags$1.typeName,TypeDefinition:tags$1.definition(tags$1.typeName),"type enum interface implements namespace module declare":tags$1.definitionKeyword,"abstract global Privacy readonly override":tags$1.modifier,"is keyof unique infer asserts":tags$1.operatorKeyword,JSXAttributeValue:tags$1.attributeValue,JSXText:tags$1.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags$1.angleBracket,"JSXIdentifier JSXNameSpacedName":tags$1.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags$1.attributeName,"JSXBuiltin/JSXIdentifier":tags$1.standard(tags$1.tagName)}),spec_identifier$2={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},spec_word={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},spec_LessThan={__proto__:null,"<":193},parser$5=LRParser.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new LocalTokenGroup("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:s=>spec_identifier$2[s]||-1},{term:342,get:s=>spec_word[s]||-1},{term:95,get:s=>spec_LessThan[s]||-1}],tokenPrec:15124}),snippets$1=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets$1.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache$1=new NodeWeakMap,ScopeNodes$1=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID$1(s){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,s),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions$1={FunctionDeclaration:defID$1("function"),ClassDeclaration:defID$1("class"),ClassExpression:()=>!0,EnumDeclaration:defID$1("constant"),TypeAliasDeclaration:defID$1("type"),NamespaceDeclaration:defID$1("namespace"),VariableDefinition(s,e){s.matchContext(functionContext)||e(s,"variable")},TypeDefinition(s,e){e(s,"type")},__proto__:null};function getScope$1(s,e){let n=cache$1.get(e);if(n)return n;let r=[],a=!0;function c(u,f){let d=s.sliceString(u.from,u.to);r.push({label:d,type:f})}return e.cursor(IterMode.IncludeAnonymous).iterate(u=>{if(a)a=!1;else if(u.name){let f=gatherCompletions$1[u.name];if(f&&f(u,c)||ScopeNodes$1.has(u.name))return!1}else if(u.to-u.from>8192){for(let f of getScope$1(s,u.node))r.push(f);return!1}}),cache$1.set(e,r),r}const Identifier$1=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete$1=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource$1(s){let e=syntaxTree(s.state).resolveInner(s.pos,-1);if(dontComplete$1.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&Identifier$1.test(s.state.sliceDoc(e.from,e.to));if(!n&&!s.explicit)return null;let r=[];for(let a=e;a;a=a.parent)ScopeNodes$1.has(a.name)&&(r=r.concat(getScope$1(s.state.doc,a)));return{options:r,from:n?e.from:s.pos,validFor:Identifier$1}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser$5.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:s=>{let e=s.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return s.baseIndent+(n?0:r?1:2)*s.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:s=>s.baseIndent+s.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^\s*{/}),JSXElement(s){let e=/^\s*<\//.test(s.textAfter);return s.lineIndent(s.node.from)+(e?0:s.unit)},JSXEscape(s){let e=/\s*\}/.test(s.textAfter);return s.lineIndent(s.node.from)+(e?0:s.unit)},"JSXOpenTag JSXSelfClosingTag"(s){return s.column(s.node.from)+s.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(s){return{from:s.from+2,to:s.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:s=>/^JSX/.test(s.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(s=>s.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(s=>s.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=s=>({label:s,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(s={}){let e=s.jsx?s.typescript?tsxLanguage:jsxLanguage:s.typescript?typescriptLanguage:javascriptLanguage,n=s.typescript?typescriptSnippets.concat(typescriptKeywords):snippets$1.concat(keywords);return new LanguageSupport(e,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete$1,completeFromList(n))}),javascriptLanguage.data.of({autocomplete:localCompletionSource$1}),s.jsx?autoCloseTags$1:[]])}function findOpenTag(s){for(;;){if(s.name=="JSXOpenTag"||s.name=="JSXSelfClosingTag"||s.name=="JSXFragmentTag")return s;if(s.name=="JSXEscape"||!s.parent)return null;s=s.parent}}function elementName$1(s,e,n=s.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return s.sliceString(r.from,Math.min(r.to,n));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags$1=EditorView.inputHandler.of((s,e,n,r,a)=>{if((android?s.composing:s.compositionStarted)||s.state.readOnly||e!=n||r!=">"&&r!="/"||!javascriptLanguage.isActiveAt(s.state,e,-1))return!1;let c=a(),{state:u}=c,f=u.changeByRange(d=>{var O;let{head:g}=d,x=syntaxTree(u).resolveInner(g-1,-1),T;if(x.name=="JSXStartTag"&&(x=x.parent),!(u.doc.sliceString(g-1,g)!=r||x.name=="JSXAttributeValue"&&x.to>g)){if(r==">"&&x.name=="JSXFragmentTag")return{range:d,changes:{from:g,insert:"</>"}};if(r=="/"&&x.name=="JSXStartCloseTag"){let E=x.parent,R=E.parent;if(R&&E.from==g-2&&((T=elementName$1(u.doc,R.firstChild,g))||((O=R.firstChild)===null||O===void 0?void 0:O.name)=="JSXFragmentTag")){let M=`${T}>`;return{range:EditorSelection.cursor(g+M.length,-1),changes:{from:g,insert:M}}}}else if(r==">"){let E=findOpenTag(x);if(E&&E.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(u.doc.sliceString(g,g+2))&&(T=elementName$1(u.doc,E,g)))return{range:d,changes:{from:g,insert:`</${T}>`}}}}return{range:d}});return f.changes.empty?!1:(s.dispatch([c,u.update(f,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),scriptText=54,StartCloseScriptTag=1,styleText=55,StartCloseStyleTag=2,textareaText=56,StartCloseTextareaTag=3,EndTag=4,SelfClosingEndTag=5,StartTag=6,StartScriptTag=7,StartStyleTag=8,StartTextareaTag=9,StartSelfClosingTag=10,StartCloseTag=11,NoMatchStartCloseTag=12,MismatchedStartCloseTag=13,missingCloseTag=57,IncompleteCloseTag=14,commentContent$1=58,Element$1=20,TagName=22,Attribute=23,AttributeName=24,AttributeValue=26,UnquotedAttributeValue=27,ScriptText=28,StyleText=31,TextareaText=34,OpenTag=36,CloseTag=37,Dialect_noMatch=0,Dialect_selfClosing=1,selfClosers$1={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},closeOnOpen={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function nameChar(s){return s==45||s==46||s==58||s>=65&&s<=90||s==95||s>=97&&s<=122||s>=161}function isSpace(s){return s==9||s==10||s==13||s==32}let cachedName=null,cachedInput=null,cachedPos=0;function tagNameAfter(s,e){let n=s.pos+e;if(cachedPos==n&&cachedInput==s)return cachedName;let r=s.peek(e);for(;isSpace(r);)r=s.peek(++e);let a="";for(;nameChar(r);)a+=String.fromCharCode(r),r=s.peek(++e);return cachedInput=s,cachedPos=n,cachedName=a?a.toLowerCase():r==question||r==bang?void 0:null}const lessThan=60,greaterThan=62,slash=47,question=63,bang=33,dash$1=45;function ElementContext(s,e){this.name=s,this.parent=e}const startTagTerms=[StartTag,StartSelfClosingTag,StartScriptTag,StartStyleTag,StartTextareaTag],elementContext=new ContextTracker({start:null,shift(s,e,n,r){return startTagTerms.indexOf(e)>-1?new ElementContext(tagNameAfter(r,1)||"",s):s},reduce(s,e){return e==Element$1&&s?s.parent:s},reuse(s,e,n,r){let a=e.type.id;return a==StartTag||a==OpenTag?new ElementContext(tagNameAfter(r,1)||"",s):s},strict:!1}),tagStart=new ExternalTokenizer((s,e)=>{if(s.next!=lessThan){s.next<0&&e.context&&s.acceptToken(missingCloseTag);return}s.advance();let n=s.next==slash;n&&s.advance();let r=tagNameAfter(s,0);if(r===void 0)return;if(!r)return s.acceptToken(n?IncompleteCloseTag:StartTag);let a=e.context?e.context.name:null;if(n){if(r==a)return s.acceptToken(StartCloseTag);if(a&&implicitlyClosed[a])return s.acceptToken(missingCloseTag,-2);if(e.dialectEnabled(Dialect_noMatch))return s.acceptToken(NoMatchStartCloseTag);for(let c=e.context;c;c=c.parent)if(c.name==r)return;s.acceptToken(MismatchedStartCloseTag)}else{if(r=="script")return s.acceptToken(StartScriptTag);if(r=="style")return s.acceptToken(StartStyleTag);if(r=="textarea")return s.acceptToken(StartTextareaTag);if(selfClosers$1.hasOwnProperty(r))return s.acceptToken(StartSelfClosingTag);a&&closeOnOpen[a]&&closeOnOpen[a][r]?s.acceptToken(missingCloseTag,-1):s.acceptToken(StartTag)}},{contextual:!0}),commentContent=new ExternalTokenizer(s=>{for(let e=0,n=0;;n++){if(s.next<0){n&&s.acceptToken(commentContent$1);break}if(s.next==dash$1)e++;else if(s.next==greaterThan&&e>=2){n>=3&&s.acceptToken(commentContent$1,-2);break}else e=0;s.advance()}});function inForeignElement(s){for(;s;s=s.parent)if(s.name=="svg"||s.name=="math")return!0;return!1}const endTag=new ExternalTokenizer((s,e)=>{if(s.next==slash&&s.peek(1)==greaterThan){let n=e.dialectEnabled(Dialect_selfClosing)||inForeignElement(e.context);s.acceptToken(n?SelfClosingEndTag:EndTag,2)}else s.next==greaterThan&&s.acceptToken(EndTag,1)});function contentTokenizer(s,e,n){let r=2+s.length;return new ExternalTokenizer(a=>{for(let c=0,u=0,f=0;;f++){if(a.next<0){f&&a.acceptToken(e);break}if(c==0&&a.next==lessThan||c==1&&a.next==slash||c>=2&&c<r&&a.next==s.charCodeAt(c-2))c++,u++;else if((c==2||c==r)&&isSpace(a.next))u++;else if(c==r&&a.next==greaterThan){f>u?a.acceptToken(e,-u):a.acceptToken(n,-(u-2));break}else if((a.next==10||a.next==13)&&f){a.acceptToken(e,1);break}else c=u=0;a.advance()}})}const scriptTokens=contentTokenizer("script",scriptText,StartCloseScriptTag),styleTokens=contentTokenizer("style",styleText,StartCloseStyleTag),textareaTokens=contentTokenizer("textarea",textareaText,StartCloseTextareaTag),htmlHighlighting=styleTags({"Text RawText":tags$1.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":tags$1.angleBracket,TagName:tags$1.tagName,"MismatchedCloseTag/TagName":[tags$1.tagName,tags$1.invalid],AttributeName:tags$1.attributeName,"AttributeValue UnquotedAttributeValue":tags$1.attributeValue,Is:tags$1.definitionOperator,"EntityReference CharacterReference":tags$1.character,Comment:tags$1.blockComment,ProcessingInst:tags$1.processingInstruction,DoctypeDecl:tags$1.documentMeta}),parser$4=LRParser.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:elementContext,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[htmlHighlighting],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[scriptTokens,styleTokens,textareaTokens,endTag,tagStart,commentContent,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function getAttrs(s,e){let n=Object.create(null);for(let r of s.getChildren(Attribute)){let a=r.getChild(AttributeName),c=r.getChild(AttributeValue)||r.getChild(UnquotedAttributeValue);a&&(n[e.read(a.from,a.to)]=c?c.type.id==AttributeValue?e.read(c.from+1,c.to-1):e.read(c.from,c.to):"")}return n}function findTagName(s,e){let n=s.getChild(TagName);return n?e.read(n.from,n.to):" "}function maybeNest(s,e,n){let r;for(let a of n)if(!a.attrs||a.attrs(r||(r=getAttrs(s.node.parent.firstChild,e))))return{parser:a.parser};return null}function configureNesting(s=[],e=[]){let n=[],r=[],a=[],c=[];for(let f of s)(f.tag=="script"?n:f.tag=="style"?r:f.tag=="textarea"?a:c).push(f);let u=e.length?Object.create(null):null;for(let f of e)(u[f.name]||(u[f.name]=[])).push(f);return parseMixed((f,d)=>{let O=f.type.id;if(O==ScriptText)return maybeNest(f,d,n);if(O==StyleText)return maybeNest(f,d,r);if(O==TextareaText)return maybeNest(f,d,a);if(O==Element$1&&c.length){let g=f.node,x=g.firstChild,T=x&&findTagName(x,d),E;if(T){for(let R of c)if(R.tag==T&&(!R.attrs||R.attrs(E||(E=getAttrs(x,d))))){let M=g.lastChild,$=M.type.id==CloseTag?M.from:g.to;if($>x.to)return{parser:R.parser,overlay:[{from:x.to,to:$}]}}}}if(u&&O==Attribute){let g=f.node,x;if(x=g.firstChild){let T=u[d.read(x.from,x.to)];if(T)for(let E of T){if(E.tagName&&E.tagName!=findTagName(g.parent,d))continue;let R=g.lastChild;if(R.type.id==AttributeValue){let M=R.from+1,$=R.lastChild,V=R.to-($&&$.isError?0:1);if(V>M)return{parser:E.parser,overlay:[{from:M,to:V}]}}else if(R.type.id==UnquotedAttributeValue)return{parser:E.parser,overlay:[{from:R.from,to:R.to}]}}}}return null})}const descendantOp=122,Unit=1,identifier$2=123,callee=124,VariableName=2,queryIdentifier=125,queryVariableName=3,QueryCallee=4,space$2=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],colon=58,parenL=40,underscore=95,bracketL=91,dash=45,period=46,hash$1=35,percent=37,ampersand=38,backslash$1=92,newline$2=10,asterisk=42;function isAlpha(s){return s>=65&&s<=90||s>=97&&s<=122||s>=161}function isDigit(s){return s>=48&&s<=57}function isHex$1(s){return isDigit(s)||s>=97&&s<=102||s>=65&&s<=70}const identifierTokens=(s,e,n)=>(r,a)=>{for(let c=!1,u=0,f=0;;f++){let{next:d}=r;if(isAlpha(d)||d==dash||d==underscore||c&&isDigit(d))!c&&(d!=dash||f>0)&&(c=!0),u===f&&d==dash&&u++,r.advance();else if(d==backslash$1&&r.peek(1)!=newline$2){if(r.advance(),isHex$1(r.next)){do r.advance();while(isHex$1(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();c=!0}else{c&&r.acceptToken(u==2&&a.canShift(VariableName)?e:d==parenL?n:s);break}}},identifiers=new ExternalTokenizer(identifierTokens(identifier$2,VariableName,callee)),queryIdentifiers=new ExternalTokenizer(identifierTokens(queryIdentifier,queryVariableName,QueryCallee)),descendant=new ExternalTokenizer(s=>{if(space$2.includes(s.peek(-1))){let{next:e}=s;(isAlpha(e)||e==underscore||e==hash$1||e==period||e==asterisk||e==bracketL||e==colon&&isAlpha(s.peek(1))||e==dash||e==ampersand)&&s.acceptToken(descendantOp)}}),unitToken=new ExternalTokenizer(s=>{if(!space$2.includes(s.peek(-1))){let{next:e}=s;if(e==percent&&(s.advance(),s.acceptToken(Unit)),isAlpha(e)){do s.advance();while(isAlpha(s.next)||isDigit(s.next));s.acceptToken(Unit)}}}),cssHighlighting=styleTags({"AtKeyword import charset namespace keyframes media supports":tags$1.definitionKeyword,"from to selector":tags$1.keyword,NamespaceName:tags$1.namespace,KeyframeName:tags$1.labelName,KeyframeRangeName:tags$1.operatorKeyword,TagName:tags$1.tagName,ClassName:tags$1.className,PseudoClassName:tags$1.constant(tags$1.className),IdName:tags$1.labelName,"FeatureName PropertyName":tags$1.propertyName,AttributeName:tags$1.attributeName,NumberLiteral:tags$1.number,KeywordQuery:tags$1.keyword,UnaryQueryOp:tags$1.operatorKeyword,"CallTag ValueName":tags$1.atom,VariableName:tags$1.variableName,Callee:tags$1.operatorKeyword,Unit:tags$1.unit,"UniversalSelector NestingSelector":tags$1.definitionOperator,"MatchOp CompareOp":tags$1.compareOperator,"ChildOp SiblingOp, LogicOp":tags$1.logicOperator,BinOp:tags$1.arithmeticOperator,Important:tags$1.modifier,Comment:tags$1.blockComment,ColorLiteral:tags$1.color,"ParenthesizedContent StringLiteral":tags$1.string,":":tags$1.punctuation,"PseudoOp #":tags$1.derefOperator,"; ,":tags$1.separator,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace}),spec_callee={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},spec_queryIdentifier={__proto__:null,or:98,and:98,not:106,only:106,layer:170},spec_QueryCallee={__proto__:null,selector:112,layer:166},spec_AtKeyword={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},spec_identifier$1={__proto__:null,to:207},parser$3=LRParser.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[cssHighlighting],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[descendant,unitToken,identifiers,queryIdentifiers,1,2,3,4,new LocalTokenGroup("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:s=>spec_callee[s]||-1},{term:125,get:s=>spec_queryIdentifier[s]||-1},{term:4,get:s=>spec_QueryCallee[s]||-1},{term:25,get:s=>spec_AtKeyword[s]||-1},{term:123,get:s=>spec_identifier$1[s]||-1}],tokenPrec:1963});let _properties=null;function properties(){if(!_properties&&typeof document=="object"&&document.body){let{style:s}=document.body,e=[],n=new Set;for(let r in s)r!="cssText"&&r!="cssFloat"&&typeof s[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,a=>"-"+a.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));_properties=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return _properties||[]}const pseudoClasses=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(s=>({type:"class",label:s})),values=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(s=>({type:"keyword",label:s})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(s=>({type:"constant",label:s}))),tags=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(s=>({type:"type",label:s})),atRules=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(s=>({type:"keyword",label:s})),identifier$1=/^(\w[\w-]*|-\w[\w-]*|)$/,variable=/^-(-[\w-]*)?$/;function isVarArg(s,e){var n;if((s.name=="("||s.type.isError)&&(s=s.parent||s),s.name!="ArgList")return!1;let r=(n=s.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const VariablesByNode=new NodeWeakMap,declSelector=["Declaration"];function astTop(s){for(let e=s;;){if(e.type.isTop)return e;if(!(e=e.parent))return s}}function variableNames(s,e,n){if(e.to-e.from>4096){let r=VariablesByNode.get(e);if(r)return r;let a=[],c=new Set,u=e.cursor(IterMode.IncludeAnonymous);if(u.firstChild())do for(let f of variableNames(s,u.node,n))c.has(f.label)||(c.add(f.label),a.push(f));while(u.nextSibling());return VariablesByNode.set(e,a),a}else{let r=[],a=new Set;return e.cursor().iterate(c=>{var u;if(n(c)&&c.matchContext(declSelector)&&((u=c.node.nextSibling)===null||u===void 0?void 0:u.name)==":"){let f=s.sliceString(c.from,c.to);a.has(f)||(a.add(f),r.push({label:f,type:"variable"}))}}),r}}const defineCSSCompletionSource=s=>e=>{let{state:n,pos:r}=e,a=syntaxTree(n).resolveInner(r,-1),c=a.type.isError&&a.from==a.to-1&&n.doc.sliceString(a.from,a.to)=="-";if(a.name=="PropertyName"||(c||a.name=="TagName")&&/^(Block|Styles)$/.test(a.resolve(a.to).name))return{from:a.from,options:properties(),validFor:identifier$1};if(a.name=="ValueName")return{from:a.from,options:values,validFor:identifier$1};if(a.name=="PseudoClassName")return{from:a.from,options:pseudoClasses,validFor:identifier$1};if(s(a)||(e.explicit||c)&&isVarArg(a,n.doc))return{from:s(a)||c?a.from:r,options:variableNames(n.doc,astTop(a),s),validFor:variable};if(a.name=="TagName"){for(let{parent:d}=a;d;d=d.parent)if(d.name=="Block")return{from:a.from,options:properties(),validFor:identifier$1};return{from:a.from,options:tags,validFor:identifier$1}}if(a.name=="AtKeyword")return{from:a.from,options:atRules,validFor:identifier$1};if(!e.explicit)return null;let u=a.resolve(r),f=u.childBefore(r);return f&&f.name==":"&&u.name=="PseudoClassSelector"?{from:r,options:pseudoClasses,validFor:identifier$1}:f&&f.name==":"&&u.name=="Declaration"||u.name=="ArgList"?{from:r,options:values,validFor:identifier$1}:u.name=="Block"||u.name=="Styles"?{from:r,options:properties(),validFor:identifier$1}:null},cssCompletionSource=defineCSSCompletionSource(s=>s.name=="VariableName"),cssLanguage=LRLanguage.define({name:"css",parser:parser$3.configure({props:[indentNodeProp.add({Declaration:continuedIndent()}),foldNodeProp.add({"Block KeyframeList":foldInside})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function css(){return new LanguageSupport(cssLanguage,cssLanguage.data.of({autocomplete:cssCompletionSource}))}const Targets=["_blank","_self","_top","_parent"],Charsets=["ascii","utf-8","utf-16","latin1","latin1"],Methods=["get","post","put","delete"],Encs=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Bool=["true","false"],S={},Tags={a:{attrs:{href:null,ping:null,type:null,media:null,target:Targets,hreflang:null}},abbr:S,address:S,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:S,aside:S,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:S,base:{attrs:{href:null,target:Targets}},bdi:S,bdo:S,blockquote:{attrs:{cite:null}},body:S,br:S,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:S,center:S,cite:S,code:S,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:S,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:S,div:S,dl:S,dt:S,em:S,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:S,figure:S,footer:S,form:{attrs:{action:null,name:null,"accept-charset":Charsets,autocomplete:["on","off"],enctype:Encs,method:Methods,novalidate:["novalidate"],target:Targets}},h1:S,h2:S,h3:S,h4:S,h5:S,h6:S,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:S,hgroup:S,hr:S,html:{attrs:{manifest:null}},i:S,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:S,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:S,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:S,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Charsets,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:S,noscript:S,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:S,param:{attrs:{name:null,value:null}},pre:S,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:S,rt:S,ruby:S,samp:S,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Charsets}},section:S,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:S,source:{attrs:{src:null,type:null,media:null}},span:S,strong:S,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:S,summary:S,sup:S,table:S,tbody:S,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:S,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:S,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:S,time:{attrs:{datetime:null}},title:S,tr:S,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:S,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:S},GlobalAttrs={accesskey:null,class:null,contenteditable:Bool,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Bool,autocorrect:Bool,autocapitalize:Bool,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Bool,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Bool,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Bool,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Bool,"aria-hidden":Bool,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Bool,"aria-multiselectable":Bool,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Bool,"aria-relevant":null,"aria-required":Bool,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},eventAttributes="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(s=>"on"+s);for(let s of eventAttributes)GlobalAttrs[s]=null;class Schema{constructor(e,n){this.tags=Object.assign(Object.assign({},Tags),e),this.globalAttrs=Object.assign(Object.assign({},GlobalAttrs),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Schema.default=new Schema;function elementName(s,e,n=s.length){if(!e)return"";let r=e.firstChild,a=r&&r.getChild("TagName");return a?s.sliceString(a.from,Math.min(a.to,n)):""}function findParentElement(s,e=!1){for(;s;s=s.parent)if(s.name=="Element")if(e)e=!1;else return s;return null}function allowedChildren(s,e,n){let r=n.tags[elementName(s,findParentElement(e))];return(r==null?void 0:r.children)||n.allTags}function openTags(s,e){let n=[];for(let r=findParentElement(e);r&&!r.type.isTop;r=findParentElement(r.parent)){let a=elementName(s,r);if(a&&r.lastChild.name=="CloseTag")break;a&&n.indexOf(a)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(a)}return n}const identifier=/^[:\-\.\w\u00b7-\uffff]*$/;function completeTag(s,e,n,r,a){let c=/\s*>/.test(s.sliceDoc(a,a+5))?"":">",u=findParentElement(n,!0);return{from:r,to:a,options:allowedChildren(s.doc,u,e).map(f=>({label:f,type:"type"})).concat(openTags(s.doc,n).map((f,d)=>({label:"/"+f,apply:"/"+f+c,type:"type",boost:99-d}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeCloseTag(s,e,n,r){let a=/\s*>/.test(s.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:openTags(s.doc,e).map((c,u)=>({label:c,apply:c+a,type:"type",boost:99-u})),validFor:identifier}}function completeStartTag(s,e,n,r){let a=[],c=0;for(let u of allowedChildren(s.doc,n,e))a.push({label:"<"+u,type:"type"});for(let u of openTags(s.doc,n))a.push({label:"</"+u+">",type:"type",boost:99-c++});return{from:r,to:r,options:a,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeAttrName(s,e,n,r,a){let c=findParentElement(n),u=c?e.tags[elementName(s.doc,c)]:null,f=u&&u.attrs?Object.keys(u.attrs):[],d=u&&u.globalAttrs===!1?f:f.length?f.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:a,options:d.map(O=>({label:O,type:"property"})),validFor:identifier}}function completeAttrValue(s,e,n,r,a){var c;let u=(c=n.parent)===null||c===void 0?void 0:c.getChild("AttributeName"),f=[],d;if(u){let O=s.sliceDoc(u.from,u.to),g=e.globalAttrs[O];if(!g){let x=findParentElement(n),T=x?e.tags[elementName(s.doc,x)]:null;g=(T==null?void 0:T.attrs)&&T.attrs[O]}if(g){let x=s.sliceDoc(r,a).toLowerCase(),T='"',E='"';/^['"]/.test(x)?(d=x[0]=='"'?/^[^"]*$/:/^[^']*$/,T="",E=s.sliceDoc(a,a+1)==x[0]?"":x[0],x=x.slice(1),r++):d=/^[^\s<>='"]*$/;for(let R of g)f.push({label:R,apply:T+R+E,type:"constant"})}}return{from:r,to:a,options:f,validFor:d}}function htmlCompletionFor(s,e){let{state:n,pos:r}=e,a=syntaxTree(n).resolveInner(r,-1),c=a.resolve(r);for(let u=r,f;c==a&&(f=a.childBefore(u));){let d=f.lastChild;if(!d||!d.type.isError||d.from<d.to)break;c=a=f,u=d.from}return a.name=="TagName"?a.parent&&/CloseTag$/.test(a.parent.name)?completeCloseTag(n,a,a.from,r):completeTag(n,s,a,a.from,r):a.name=="StartTag"?completeTag(n,s,a,r,r):a.name=="StartCloseTag"||a.name=="IncompleteCloseTag"?completeCloseTag(n,a,r,r):a.name=="OpenTag"||a.name=="SelfClosingTag"||a.name=="AttributeName"?completeAttrName(n,s,a,a.name=="AttributeName"?a.from:r,r):a.name=="Is"||a.name=="AttributeValue"||a.name=="UnquotedAttributeValue"?completeAttrValue(n,s,a,a.name=="Is"?r:a.from,r):e.explicit&&(c.name=="Element"||c.name=="Text"||c.name=="Document")?completeStartTag(n,s,a,r):null}function htmlCompletionSource(s){return htmlCompletionFor(Schema.default,s)}function htmlCompletionSourceWith(s){let{extraTags:e,extraGlobalAttributes:n}=s,r=n||e?new Schema(e,n):Schema.default;return a=>htmlCompletionFor(r,a)}const jsonParser=javascriptLanguage.parser.configure({top:"SingleExpression"}),defaultNesting=[{tag:"script",attrs:s=>s.type=="text/typescript"||s.lang=="ts",parser:typescriptLanguage.parser},{tag:"script",attrs:s=>s.type=="text/babel"||s.type=="text/jsx",parser:jsxLanguage.parser},{tag:"script",attrs:s=>s.type=="text/typescript-jsx",parser:tsxLanguage.parser},{tag:"script",attrs(s){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(s.type)},parser:jsonParser},{tag:"script",attrs(s){return!s.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(s.type)},parser:javascriptLanguage.parser},{tag:"style",attrs(s){return(!s.lang||s.lang=="css")&&(!s.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(s.type))},parser:cssLanguage.parser}],defaultAttrs=[{name:"style",parser:cssLanguage.parser.configure({top:"Styles"})}].concat(eventAttributes.map(s=>({name:s,parser:javascriptLanguage.parser}))),htmlPlain=LRLanguage.define({name:"html",parser:parser$4.configure({props:[indentNodeProp.add({Element(s){let e=/^(\s*)(<\/)?/.exec(s.textAfter);return s.node.to<=s.pos+e[0].length?s.continue():s.lineIndent(s.node.from)+(e[2]?0:s.unit)},"OpenTag CloseTag SelfClosingTag"(s){return s.column(s.node.from)+s.unit},Document(s){if(s.pos+/\s*/.exec(s.textAfter)[0].length<s.node.to)return s.continue();let e=null,n;for(let r=s.node;;){let a=r.lastChild;if(!a||a.name!="Element"||a.to!=r.to)break;e=r=a}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?s.lineIndent(e.from)+s.unit:null}}),foldNodeProp.add({Element(s){let e=s.firstChild,n=s.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:s.to}}}),bracketMatchingHandle.add({"OpenTag CloseTag":s=>s.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),htmlLanguage=htmlPlain.configure({wrap:configureNesting(defaultNesting,defaultAttrs)});function html(s={}){let e="",n;s.matchClosingTags===!1&&(e="noMatch"),s.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(s.nestedLanguages&&s.nestedLanguages.length||s.nestedAttributes&&s.nestedAttributes.length)&&(n=configureNesting((s.nestedLanguages||[]).concat(defaultNesting),(s.nestedAttributes||[]).concat(defaultAttrs)));let r=n?htmlPlain.configure({wrap:n,dialect:e}):e?htmlLanguage.configure({dialect:e}):htmlLanguage;return new LanguageSupport(r,[htmlLanguage.data.of({autocomplete:htmlCompletionSourceWith(s)}),s.autoCloseTags!==!1?autoCloseTags:[],javascript().support,css().support])}const selfClosers=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),autoCloseTags=EditorView.inputHandler.of((s,e,n,r,a)=>{if(s.composing||s.state.readOnly||e!=n||r!=">"&&r!="/"||!htmlLanguage.isActiveAt(s.state,e,-1))return!1;let c=a(),{state:u}=c,f=u.changeByRange(d=>{var O,g,x;let T=u.doc.sliceString(d.from-1,d.to)==r,{head:E}=d,R=syntaxTree(u).resolveInner(E,-1),M;if(T&&r==">"&&R.name=="EndTag"){let $=R.parent;if(((g=(O=$.parent)===null||O===void 0?void 0:O.lastChild)===null||g===void 0?void 0:g.name)!="CloseTag"&&(M=elementName(u.doc,$.parent,E))&&!selfClosers.has(M)){let V=E+(u.doc.sliceString(E,E+1)===">"?1:0),X=`</${M}>`;return{range:d,changes:{from:E,to:V,insert:X}}}}else if(T&&r=="/"&&R.name=="IncompleteCloseTag"){let $=R.parent;if(R.from==E-2&&((x=$.lastChild)===null||x===void 0?void 0:x.name)!="CloseTag"&&(M=elementName(u.doc,$,E))&&!selfClosers.has(M)){let V=E+(u.doc.sliceString(E,E+1)===">"?1:0),X=`${M}>`;return{range:EditorSelection.cursor(E+X.length,-1),changes:{from:E,to:V,insert:X}}}}return{range:d}});return f.changes.empty?!1:(s.dispatch([c,u.update(f,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),jsonHighlighting=styleTags({String:tags$1.string,Number:tags$1.number,"True False":tags$1.bool,PropertyName:tags$1.propertyName,Null:tags$1.null,", :":tags$1.separator,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace}),parser$2=LRParser.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[jsonHighlighting],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),jsonLanguage=LRLanguage.define({name:"json",parser:parser$2.configure({props:[indentNodeProp.add({Object:continuedIndent({except:/^\s*\}/}),Array:continuedIndent({except:/^\s*\]/})}),foldNodeProp.add({"Object Array":foldInside})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function json(){return new LanguageSupport(jsonLanguage)}const printKeyword=1,indent=194,dedent=195,newline$1=196,blankLineStart=197,newlineBracketed=198,eof=199,stringContent=200,Escape=2,replacementStart=3,stringEnd=201,ParenL=24,ParenthesizedExpression=25,TupleExpression=49,ComprehensionExpression=50,BracketL=55,ArrayExpression=56,ArrayComprehensionExpression=57,BraceL=59,DictionaryExpression=60,DictionaryComprehensionExpression=61,SetExpression=62,SetComprehensionExpression=63,ArgList=65,subscript=238,String$1=71,stringStart=241,stringStartD=242,stringStartL=243,stringStartLD=244,stringStartR=245,stringStartRD=246,stringStartRL=247,stringStartRLD=248,FormatString=72,stringStartF=249,stringStartFD=250,stringStartFL=251,stringStartFLD=252,stringStartFR=253,stringStartFRD=254,stringStartFRL=255,stringStartFRLD=256,FormatReplacement=73,nestedFormatReplacement=77,importList=263,TypeParamList=112,ParamList=130,SequencePattern=151,MappingPattern=152,PatternArgList=155,newline=10,carriageReturn=13,space$1=32,tab=9,hash=35,parenOpen=40,dot=46,braceOpen=123,braceClose=125,singleQuote=39,doubleQuote=34,backslash=92,letter_o=111,letter_x=120,letter_N=78,letter_u=117,letter_U=85,bracketed=new Set([ParenthesizedExpression,TupleExpression,ComprehensionExpression,importList,ArgList,ParamList,ArrayExpression,ArrayComprehensionExpression,subscript,SetExpression,SetComprehensionExpression,FormatString,FormatReplacement,nestedFormatReplacement,DictionaryExpression,DictionaryComprehensionExpression,SequencePattern,MappingPattern,PatternArgList,TypeParamList]);function isLineBreak(s){return s==newline||s==carriageReturn}function isHex(s){return s>=48&&s<=57||s>=65&&s<=70||s>=97&&s<=102}const newlines=new ExternalTokenizer((s,e)=>{let n;if(s.next<0)s.acceptToken(eof);else if(e.context.flags&cx_Bracketed)isLineBreak(s.next)&&s.acceptToken(newlineBracketed,1);else if(((n=s.peek(-1))<0||isLineBreak(n))&&e.canShift(blankLineStart)){let r=0;for(;s.next==space$1||s.next==tab;)s.advance(),r++;(s.next==newline||s.next==carriageReturn||s.next==hash)&&s.acceptToken(blankLineStart,-r)}else isLineBreak(s.next)&&s.acceptToken(newline$1,1)},{contextual:!0}),indentation=new ExternalTokenizer((s,e)=>{let n=e.context;if(n.flags)return;let r=s.peek(-1);if(r==newline||r==carriageReturn){let a=0,c=0;for(;;){if(s.next==space$1)a++;else if(s.next==tab)a+=8-a%8;else break;s.advance(),c++}a!=n.indent&&s.next!=newline&&s.next!=carriageReturn&&s.next!=hash&&(a<n.indent?s.acceptToken(dedent,-c):s.acceptToken(indent))}}),cx_Bracketed=1,cx_String=2,cx_DoubleQuote=4,cx_Long=8,cx_Raw=16,cx_Format=32;function Context$1(s,e,n){this.parent=s,this.indent=e,this.flags=n,this.hash=(s?s.hash+s.hash<<8:0)+e+(e<<4)+n+(n<<6)}const topIndent=new Context$1(null,0,0);function countIndent(s){let e=0;for(let n=0;n<s.length;n++)e+=s.charCodeAt(n)==tab?8-e%8:1;return e}const stringFlags=new Map([[stringStart,0],[stringStartD,cx_DoubleQuote],[stringStartL,cx_Long],[stringStartLD,cx_Long|cx_DoubleQuote],[stringStartR,cx_Raw],[stringStartRD,cx_Raw|cx_DoubleQuote],[stringStartRL,cx_Raw|cx_Long],[stringStartRLD,cx_Raw|cx_Long|cx_DoubleQuote],[stringStartF,cx_Format],[stringStartFD,cx_Format|cx_DoubleQuote],[stringStartFL,cx_Format|cx_Long],[stringStartFLD,cx_Format|cx_Long|cx_DoubleQuote],[stringStartFR,cx_Format|cx_Raw],[stringStartFRD,cx_Format|cx_Raw|cx_DoubleQuote],[stringStartFRL,cx_Format|cx_Raw|cx_Long],[stringStartFRLD,cx_Format|cx_Raw|cx_Long|cx_DoubleQuote]].map(([s,e])=>[s,e|cx_String])),trackIndent=new ContextTracker({start:topIndent,reduce(s,e,n,r){return s.flags&cx_Bracketed&&bracketed.has(e)||(e==String$1||e==FormatString)&&s.flags&cx_String?s.parent:s},shift(s,e,n,r){return e==indent?new Context$1(s,countIndent(r.read(r.pos,n.pos)),0):e==dedent?s.parent:e==ParenL||e==BracketL||e==BraceL||e==replacementStart?new Context$1(s,0,cx_Bracketed):stringFlags.has(e)?new Context$1(s,0,stringFlags.get(e)|s.flags&cx_Bracketed):s},hash(s){return s.hash}}),legacyPrint=new ExternalTokenizer(s=>{for(let e=0;e<5;e++){if(s.next!="print".charCodeAt(e))return;s.advance()}if(!/\w/.test(String.fromCharCode(s.next)))for(let e=0;;e++){let n=s.peek(e);if(!(n==space$1||n==tab)){n!=parenOpen&&n!=dot&&n!=newline&&n!=carriageReturn&&n!=hash&&s.acceptToken(printKeyword);return}}}),strings=new ExternalTokenizer((s,e)=>{let{flags:n}=e.context,r=n&cx_DoubleQuote?doubleQuote:singleQuote,a=(n&cx_Long)>0,c=!(n&cx_Raw),u=(n&cx_Format)>0,f=s.pos;for(;!(s.next<0);)if(u&&s.next==braceOpen)if(s.peek(1)==braceOpen)s.advance(2);else{if(s.pos==f){s.acceptToken(replacementStart,1);return}break}else if(c&&s.next==backslash){if(s.pos==f){s.advance();let d=s.next;d>=0&&(s.advance(),skipEscape(s,d)),s.acceptToken(Escape);return}break}else if(s.next==backslash&&!c&&s.peek(1)>-1)s.advance(2);else if(s.next==r&&(!a||s.peek(1)==r&&s.peek(2)==r)){if(s.pos==f){s.acceptToken(stringEnd,a?3:1);return}break}else if(s.next==newline){if(a)s.advance();else if(s.pos==f){s.acceptToken(stringEnd);return}break}else s.advance();s.pos>f&&s.acceptToken(stringContent)});function skipEscape(s,e){if(e==letter_o)for(let n=0;n<2&&s.next>=48&&s.next<=55;n++)s.advance();else if(e==letter_x)for(let n=0;n<2&&isHex(s.next);n++)s.advance();else if(e==letter_u)for(let n=0;n<4&&isHex(s.next);n++)s.advance();else if(e==letter_U)for(let n=0;n<8&&isHex(s.next);n++)s.advance();else if(e==letter_N&&s.next==braceOpen){for(s.advance();s.next>=0&&s.next!=braceClose&&s.next!=singleQuote&&s.next!=doubleQuote&&s.next!=newline;)s.advance();s.next==braceClose&&s.advance()}}const pythonHighlighting=styleTags({'async "*" "**" FormatConversion FormatSpec':tags$1.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":tags$1.controlKeyword,"in not and or is del":tags$1.operatorKeyword,"from def class global nonlocal lambda":tags$1.definitionKeyword,import:tags$1.moduleKeyword,"with as print":tags$1.keyword,Boolean:tags$1.bool,None:tags$1.null,VariableName:tags$1.variableName,"CallExpression/VariableName":tags$1.function(tags$1.variableName),"FunctionDefinition/VariableName":tags$1.function(tags$1.definition(tags$1.variableName)),"ClassDefinition/VariableName":tags$1.definition(tags$1.className),PropertyName:tags$1.propertyName,"CallExpression/MemberExpression/PropertyName":tags$1.function(tags$1.propertyName),Comment:tags$1.lineComment,Number:tags$1.number,String:tags$1.string,FormatString:tags$1.special(tags$1.string),Escape:tags$1.escape,UpdateOp:tags$1.updateOperator,"ArithOp!":tags$1.arithmeticOperator,BitOp:tags$1.bitwiseOperator,CompareOp:tags$1.compareOperator,AssignOp:tags$1.definitionOperator,Ellipsis:tags$1.punctuation,At:tags$1.meta,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace,".":tags$1.derefOperator,", ;":tags$1.separator}),spec_identifier={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},parser$1=LRParser.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:trackIndent,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[pythonHighlighting],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[legacyPrint,indentation,newlines,strings,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:s=>spec_identifier[s]||-1}],tokenPrec:7668}),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function defID(s){return(e,n,r)=>{if(r)return!1;let a=e.node.getChild("VariableName");return a&&n(a,s),!0}}const gatherCompletions={FunctionDefinition:defID("function"),ClassDefinition:defID("class"),ForStatement(s,e,n){if(n){for(let r=s.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name=="in")break}},ImportStatement(s,e){var n,r;let{node:a}=s,c=((n=a.firstChild)===null||n===void 0?void 0:n.name)=="from";for(let u=a.getChild("import");u;u=u.nextSibling)u.name=="VariableName"&&((r=u.nextSibling)===null||r===void 0?void 0:r.name)!="as"&&e(u,c?"variable":"namespace")},AssignStatement(s,e){for(let n=s.node.firstChild;n;n=n.nextSibling)if(n.name=="VariableName")e(n,"variable");else if(n.name==":"||n.name=="AssignOp")break},ParamList(s,e){for(let n=null,r=s.node.firstChild;r;r=r.nextSibling)r.name=="VariableName"&&(!n||!/\*|AssignOp/.test(n.name))&&e(r,"variable"),n=r},CapturePattern:defID("variable"),AsPattern:defID("variable"),__proto__:null};function getScope(s,e){let n=cache.get(e);if(n)return n;let r=[],a=!0;function c(u,f){let d=s.sliceString(u.from,u.to);r.push({label:d,type:f})}return e.cursor(IterMode.IncludeAnonymous).iterate(u=>{if(u.name){let f=gatherCompletions[u.name];if(f&&f(u,c,a)||!a&&ScopeNodes.has(u.name))return!1;a=!1}else if(u.to-u.from>8192){for(let f of getScope(s,u.node))r.push(f);return!1}}),cache.set(e,r),r}const Identifier=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,dontComplete=["String","FormatString","Comment","PropertyName"];function localCompletionSource(s){let e=syntaxTree(s.state).resolveInner(s.pos,-1);if(dontComplete.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&Identifier.test(s.state.sliceDoc(e.from,e.to));if(!n&&!s.explicit)return null;let r=[];for(let a=e;a;a=a.parent)ScopeNodes.has(a.name)&&(r=r.concat(getScope(s.state.doc,a)));return{options:r,from:n?e.from:s.pos,validFor:Identifier}}const globals=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(s=>({label:s,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(s=>({label:s,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(s=>({label:s,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(s=>({label:s,type:"function"}))),snippets=[snippetCompletion("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),snippetCompletion("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),snippetCompletion(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),snippetCompletion("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),snippetCompletion("import ${module}",{label:"import",detail:"statement",type:"keyword"}),snippetCompletion("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],globalCompletion=ifNotIn(dontComplete,completeFromList(globals.concat(snippets)));function innerBody(s){let{node:e,pos:n}=s,r=s.lineIndent(n,-1),a=null;for(;;){let c=e.childBefore(n);if(c)if(c.name=="Comment")n=c.from;else if(c.name=="Body"||c.name=="MatchBody")s.baseIndentFor(c)+s.unit<=r&&(a=c),e=c;else if(c.name=="MatchClause")e=c;else if(c.type.is("Statement"))e=c;else break;else break}return a}function indentBody(s,e){let n=s.baseIndentFor(e),r=s.lineAt(s.pos,-1),a=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&s.node.to<a+100&&!/\S/.test(s.state.sliceDoc(a,s.node.to))&&s.lineIndent(s.pos,-1)<=n||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(s.textAfter)&&s.lineIndent(s.pos,-1)>n?null:n+s.unit}const pythonLanguage=LRLanguage.define({name:"python",parser:parser$1.configure({props:[indentNodeProp.add({Body:s=>{var e;let n=/^\s*(#|$)/.test(s.textAfter)&&innerBody(s)||s.node;return(e=indentBody(s,n))!==null&&e!==void 0?e:s.continue()},MatchBody:s=>{var e;let n=innerBody(s);return(e=indentBody(s,n||s.node))!==null&&e!==void 0?e:s.continue()},IfStatement:s=>/^\s*(else:|elif )/.test(s.textAfter)?s.baseIndent:s.continue(),"ForStatement WhileStatement":s=>/^\s*else:/.test(s.textAfter)?s.baseIndent:s.continue(),TryStatement:s=>/^\s*(except[ :]|finally:|else:)/.test(s.textAfter)?s.baseIndent:s.continue(),MatchStatement:s=>/^\s*case /.test(s.textAfter)?s.baseIndent+s.unit:s.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":delimitedIndent({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":delimitedIndent({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":delimitedIndent({closing:"]"}),MemberExpression:s=>s.baseIndent+s.unit,"String FormatString":()=>null,Script:s=>{var e;let n=innerBody(s);return(e=n&&indentBody(s,n))!==null&&e!==void 0?e:s.continue()}}),foldNodeProp.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":foldInside,Body:(s,e)=>({from:s.from+1,to:s.to-(s.to==e.doc.length?0:1)}),"String FormatString":(s,e)=>({from:e.doc.lineAt(s.from).to,to:s.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function python(){return new LanguageSupport(pythonLanguage,[pythonLanguage.data.of({autocomplete:localCompletionSource}),pythonLanguage.data.of({autocomplete:globalCompletion})])}class CompositeBlock{static create(e,n,r,a,c){let u=a+(a<<8)+e+(n<<4)|0;return new CompositeBlock(e,n,r,u,c,[],[])}constructor(e,n,r,a,c,u,f){this.type=e,this.value=n,this.from=r,this.hash=a,this.end=c,this.children=u,this.positions=f,this.hashProp=[[NodeProp.contextHash,a]]}addChild(e,n){e.prop(NodeProp.contextHash)!=this.hash&&(e=new Tree(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new Tree(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(a,c,u)=>new Tree(NodeType.none,a,c,u,this.hashProp)})}}var Type;(function(s){s[s.Document=1]="Document",s[s.CodeBlock=2]="CodeBlock",s[s.FencedCode=3]="FencedCode",s[s.Blockquote=4]="Blockquote",s[s.HorizontalRule=5]="HorizontalRule",s[s.BulletList=6]="BulletList",s[s.OrderedList=7]="OrderedList",s[s.ListItem=8]="ListItem",s[s.ATXHeading1=9]="ATXHeading1",s[s.ATXHeading2=10]="ATXHeading2",s[s.ATXHeading3=11]="ATXHeading3",s[s.ATXHeading4=12]="ATXHeading4",s[s.ATXHeading5=13]="ATXHeading5",s[s.ATXHeading6=14]="ATXHeading6",s[s.SetextHeading1=15]="SetextHeading1",s[s.SetextHeading2=16]="SetextHeading2",s[s.HTMLBlock=17]="HTMLBlock",s[s.LinkReference=18]="LinkReference",s[s.Paragraph=19]="Paragraph",s[s.CommentBlock=20]="CommentBlock",s[s.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",s[s.Escape=22]="Escape",s[s.Entity=23]="Entity",s[s.HardBreak=24]="HardBreak",s[s.Emphasis=25]="Emphasis",s[s.StrongEmphasis=26]="StrongEmphasis",s[s.Link=27]="Link",s[s.Image=28]="Image",s[s.InlineCode=29]="InlineCode",s[s.HTMLTag=30]="HTMLTag",s[s.Comment=31]="Comment",s[s.ProcessingInstruction=32]="ProcessingInstruction",s[s.Autolink=33]="Autolink",s[s.HeaderMark=34]="HeaderMark",s[s.QuoteMark=35]="QuoteMark",s[s.ListMark=36]="ListMark",s[s.LinkMark=37]="LinkMark",s[s.EmphasisMark=38]="EmphasisMark",s[s.CodeMark=39]="CodeMark",s[s.CodeText=40]="CodeText",s[s.CodeInfo=41]="CodeInfo",s[s.LinkTitle=42]="LinkTitle",s[s.LinkLabel=43]="LinkLabel",s[s.URL=44]="URL"})(Type||(Type={}));class LeafBlock{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class Line{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return skipSpace(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let a=n;a<e;a++)r+=this.text.charCodeAt(a)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function skipForList(s,e,n){if(n.pos==n.text.length||s!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(s.type==Type.OrderedList?isOrderedList:isBulletList)(n,e,!1);return r>0&&(s.type!=Type.BulletList||isHorizontalRule(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==s.value}const DefaultSkipMarkup={[Type.Blockquote](s,e,n){return n.next!=62?!1:(n.markers.push(elt(Type.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(space(n.text.charCodeAt(n.pos+1))?2:1)),s.end=e.lineStart+n.text.length,!0)},[Type.ListItem](s,e,n){return n.indent<n.baseIndent+s.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+s.value),!0)},[Type.OrderedList]:skipForList,[Type.BulletList]:skipForList,[Type.Document](){return!0}};function space(s){return s==32||s==9||s==10||s==13}function skipSpace(s,e=0){for(;e<s.length&&space(s.charCodeAt(e));)e++;return e}function skipSpaceBack(s,e,n){for(;e>n&&space(s.charCodeAt(e-1));)e--;return e}function isFencedCode(s){if(s.next!=96&&s.next!=126)return-1;let e=s.pos+1;for(;e<s.text.length&&s.text.charCodeAt(e)==s.next;)e++;if(e<s.pos+3)return-1;if(s.next==96){for(let n=e;n<s.text.length;n++)if(s.text.charCodeAt(n)==96)return-1}return e}function isBlockquote(s){return s.next!=62?-1:s.text.charCodeAt(s.pos+1)==32?2:1}function isHorizontalRule(s,e,n){if(s.next!=42&&s.next!=45&&s.next!=95)return-1;let r=1;for(let a=s.pos+1;a<s.text.length;a++){let c=s.text.charCodeAt(a);if(c==s.next)r++;else if(!space(c))return-1}return n&&s.next==45&&isSetextUnderline(s)>-1&&s.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(DefaultLeafBlocks.SetextHeading)>-1||r<3?-1:1}function inList(s,e){for(let n=s.stack.length-1;n>=0;n--)if(s.stack[n].type==e)return!0;return!1}function isBulletList(s,e,n){return(s.next==45||s.next==43||s.next==42)&&(s.pos==s.text.length-1||space(s.text.charCodeAt(s.pos+1)))&&(!n||inList(e,Type.BulletList)||s.skipSpace(s.pos+2)<s.text.length)?1:-1}function isOrderedList(s,e,n){let r=s.pos,a=s.next;for(;a>=48&&a<=57;){r++;if(r==s.text.length)return-1;a=s.text.charCodeAt(r)}return r==s.pos||r>s.pos+9||a!=46&&a!=41||r<s.text.length-1&&!space(s.text.charCodeAt(r+1))||n&&!inList(e,Type.OrderedList)&&(s.skipSpace(r+1)==s.text.length||r>s.pos+1||s.next!=49)?-1:r+1-s.pos}function isAtxHeading(s){if(s.next!=35)return-1;let e=s.pos+1;for(;e<s.text.length&&s.text.charCodeAt(e)==35;)e++;if(e<s.text.length&&s.text.charCodeAt(e)!=32)return-1;let n=e-s.pos;return n>6?-1:n}function isSetextUnderline(s){if(s.next!=45&&s.next!=61||s.indent>=s.baseIndent+4)return-1;let e=s.pos+1;for(;e<s.text.length&&s.text.charCodeAt(e)==s.next;)e++;let n=e;for(;e<s.text.length&&space(s.text.charCodeAt(e));)e++;return e==s.text.length?n:-1}const EmptyLine=/^[ \t]*$/,CommentEnd=/-->/,ProcessingEnd=/\?>/,HTMLBlockStyle=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,CommentEnd],[/^\s*<\?/,ProcessingEnd],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,EmptyLine],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,EmptyLine]];function isHTMLBlock(s,e,n){if(s.next!=60)return-1;let r=s.text.slice(s.pos);for(let a=0,c=HTMLBlockStyle.length-(n?1:0);a<c;a++)if(HTMLBlockStyle[a][0].test(r))return a;return-1}function getListIndent(s,e){let n=s.countIndent(e,s.pos,s.indent),r=s.countIndent(s.skipSpace(e),e,n);return r>=n+5?n+1:r}function addCodeText(s,e,n){let r=s.length-1;r>=0&&s[r].to==e&&s[r].type==Type.CodeText?s[r].to=n:s.push(elt(Type.CodeText,e,n))}const DefaultBlockParsers={LinkReference:void 0,IndentedCode(s,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),a=s.lineStart+r,c=s.lineStart+e.text.length,u=[],f=[];for(addCodeText(u,a,c);s.nextLine()&&e.depth>=s.stack.length;)if(e.pos==e.text.length){addCodeText(f,s.lineStart-1,s.lineStart);for(let d of e.markers)f.push(d)}else{if(e.indent<n)break;{if(f.length){for(let O of f)O.type==Type.CodeText?addCodeText(u,O.from,O.to):u.push(O);f=[]}addCodeText(u,s.lineStart-1,s.lineStart);for(let O of e.markers)u.push(O);c=s.lineStart+e.text.length;let d=s.lineStart+e.findColumn(e.baseIndent+4);d<c&&addCodeText(u,d,c)}}return f.length&&(f=f.filter(d=>d.type!=Type.CodeText),f.length&&(e.markers=f.concat(e.markers))),s.addNode(s.buffer.writeElements(u,-a).finish(Type.CodeBlock,c-a),a),!0},FencedCode(s,e){let n=isFencedCode(e);if(n<0)return!1;let r=s.lineStart+e.pos,a=e.next,c=n-e.pos,u=e.skipSpace(n),f=skipSpaceBack(e.text,e.text.length,u),d=[elt(Type.CodeMark,r,r+c)];u<f&&d.push(elt(Type.CodeInfo,s.lineStart+u,s.lineStart+f));for(let O=!0;s.nextLine()&&e.depth>=s.stack.length;O=!1){let g=e.pos;if(e.indent-e.baseIndent<4)for(;g<e.text.length&&e.text.charCodeAt(g)==a;)g++;if(g-e.pos>=c&&e.skipSpace(g)==e.text.length){for(let x of e.markers)d.push(x);d.push(elt(Type.CodeMark,s.lineStart+e.pos,s.lineStart+g)),s.nextLine();break}else{O||addCodeText(d,s.lineStart-1,s.lineStart);for(let E of e.markers)d.push(E);let x=s.lineStart+e.basePos,T=s.lineStart+e.text.length;x<T&&addCodeText(d,x,T)}}return s.addNode(s.buffer.writeElements(d,-r).finish(Type.FencedCode,s.prevLineEnd()-r),r),!0},Blockquote(s,e){let n=isBlockquote(e);return n<0?!1:(s.startContext(Type.Blockquote,e.pos),s.addNode(Type.QuoteMark,s.lineStart+e.pos,s.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(s,e){if(isHorizontalRule(e,s,!1)<0)return!1;let n=s.lineStart+e.pos;return s.nextLine(),s.addNode(Type.HorizontalRule,n),!0},BulletList(s,e){let n=isBulletList(e,s,!1);if(n<0)return!1;s.block.type!=Type.BulletList&&s.startContext(Type.BulletList,e.basePos,e.next);let r=getListIndent(e,e.pos+1);return s.startContext(Type.ListItem,e.basePos,r-e.baseIndent),s.addNode(Type.ListMark,s.lineStart+e.pos,s.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(s,e){let n=isOrderedList(e,s,!1);if(n<0)return!1;s.block.type!=Type.OrderedList&&s.startContext(Type.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=getListIndent(e,e.pos+n);return s.startContext(Type.ListItem,e.basePos,r-e.baseIndent),s.addNode(Type.ListMark,s.lineStart+e.pos,s.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(s,e){let n=isAtxHeading(e);if(n<0)return!1;let r=e.pos,a=s.lineStart+r,c=skipSpaceBack(e.text,e.text.length,r),u=c;for(;u>r&&e.text.charCodeAt(u-1)==e.next;)u--;(u==c||u==r||!space(e.text.charCodeAt(u-1)))&&(u=e.text.length);let f=s.buffer.write(Type.HeaderMark,0,n).writeElements(s.parser.parseInline(e.text.slice(r+n+1,u),a+n+1),-a);u<e.text.length&&f.write(Type.HeaderMark,u-r,c-r);let d=f.finish(Type.ATXHeading1-1+n,e.text.length-r);return s.nextLine(),s.addNode(d,a),!0},HTMLBlock(s,e){let n=isHTMLBlock(e,s,!1);if(n<0)return!1;let r=s.lineStart+e.pos,a=HTMLBlockStyle[n][1],c=[],u=a!=EmptyLine;for(;!a.test(e.text)&&s.nextLine();){if(e.depth<s.stack.length){u=!1;break}for(let O of e.markers)c.push(O)}u&&s.nextLine();let f=a==CommentEnd?Type.CommentBlock:a==ProcessingEnd?Type.ProcessingInstructionBlock:Type.HTMLBlock,d=s.prevLineEnd();return s.addNode(s.buffer.writeElements(c,-r).finish(f,d-r),r),!0},SetextHeading:void 0};class LinkReferenceParser{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let a=r.content+`
`+n.scrub(),c=this.advance(a);return c>-1&&c<a.length?this.complete(e,r,c):!1}finish(e,n){return(this.stage==2||this.stage==3)&&skipSpace(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,elt(Type.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(parseLinkLabel(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(elt(Type.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(parseURL(e,skipSpace(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=skipSpace(e,this.pos),r=0;if(n>this.pos){let a=parseLinkTitle(e,n,this.start);if(a){let c=lineEnd(e,a.to-this.start);c>0&&(this.nextStage(a),r=c)}}return r||(r=lineEnd(e,this.pos)),r>0&&r<e.length?r:-1}else return lineEnd(e,this.pos)}}}function lineEnd(s,e){for(;e<s.length;e++){let n=s.charCodeAt(e);if(n==10)break;if(!space(n))return-1}return e}class SetextHeadingParser{nextLine(e,n,r){let a=n.depth<e.stack.length?-1:isSetextUnderline(n),c=n.next;if(a<0)return!1;let u=elt(Type.HeaderMark,e.lineStart+n.pos,e.lineStart+a);return e.nextLine(),e.addLeafElement(r,elt(c==61?Type.SetextHeading1:Type.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),u])),!0}finish(){return!1}}const DefaultLeafBlocks={LinkReference(s,e){return e.content.charCodeAt(0)==91?new LinkReferenceParser(e):null},SetextHeading(){return new SetextHeadingParser}},DefaultEndLeaf=[(s,e)=>isAtxHeading(e)>=0,(s,e)=>isFencedCode(e)>=0,(s,e)=>isBlockquote(e)>=0,(s,e)=>isBulletList(e,s,!0)>=0,(s,e)=>isOrderedList(e,s,!0)>=0,(s,e)=>isHorizontalRule(e,s,!0)>=0,(s,e)=>isHTMLBlock(e,s,!0)>=0],scanLineResult={text:"",end:0};class BlockContext{constructor(e,n,r,a){this.parser=e,this.input=n,this.ranges=a,this.line=new Line,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=a[a.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=a[0].from,this.block=CompositeBlock.create(Type.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new FragmentCursor(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let a=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!a||e.markers[r].from<a.end);){let c=e.markers[r++];this.addNode(c.type,c.from,c.to)}if(!a)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let a=r(this,e);if(a!=!1){if(a==!0)return null;e.forward();continue e}}break}let n=new LeafBlock(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let a=r(this,n);a&&n.parsers.push(a)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=toRelative(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=scanLineResult;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,a=this.rangeI;for(;this.ranges[a].to<n.end;){a++;let c=this.ranges[a].from,u=this.lineChunkAt(c);n.end=c+u.length,n.text=n.text.slice(0,this.ranges[a-1].to-r)+u,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let a=this.stack[e.depth],c=this.parser.skipContextMarkup[a.type];if(!c)throw new Error("Unhandled block context "+Type[a.type]);if(!c(a,this,e))break;e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let a=n.indexOf(`
`);r=a<0?n:n.slice(0,a)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=CompositeBlock.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new Tree(this.parser.nodeSet.types[e],none,none,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(injectMarks(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?injectGaps(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=injectMarks(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(Type.Paragraph,e.content.length),e.start)}elt(e,n,r,a){return typeof e=="string"?elt(this.parser.getNodeType(e),n,r,a):new TreeElement(e,n)}get buffer(){return new Buffer$1(this.parser.nodeSet)}}function injectGaps(s,e,n,r,a){let c=s[e].to,u=[],f=[],d=n.from+r;function O(g,x){for(;x?g>=c:g>c;){let T=s[e+1].from-c;r+=T,g+=T,e++,c=s[e].to}}for(let g=n.firstChild;g;g=g.nextSibling){O(g.from+r,!0);let x=g.from+r,T,E=a.get(g.tree);E?T=E:g.to+r>c?(T=injectGaps(s,e,g,r,a),O(g.to+r,!1)):T=g.toTree(),u.push(T),f.push(x-d)}return O(n.to+r,!1),new Tree(n.type,u,f,n.to+r-d,n.tree?n.tree.propValues:void 0)}class MarkdownParser extends Parser{constructor(e,n,r,a,c,u,f,d,O){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=a,this.endLeafBlock=c,this.skipContextMarkup=u,this.inlineParsers=f,this.inlineNames=d,this.wrappers=O,this.nodeTypes=Object.create(null);for(let g of e.types)this.nodeTypes[g.name]=g.id}createParse(e,n,r){let a=new BlockContext(this,e,n,r);for(let c of this.wrappers)a=c(a,e,n,r);return a}configure(e){let n=resolveConfig(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:a}=this,c=this.blockParsers.slice(),u=this.leafBlockParsers.slice(),f=this.blockNames.slice(),d=this.inlineParsers.slice(),O=this.inlineNames.slice(),g=this.endLeafBlock.slice(),x=this.wrappers;if(nonEmpty(n.defineNodes)){a=Object.assign({},a);let T=r.types.slice(),E;for(let R of n.defineNodes){let{name:M,block:$,composite:V,style:X}=typeof R=="string"?{name:R}:R;if(T.some(L=>L.name==M))continue;V&&(a[T.length]=(L,I,ee)=>V(I,ee,L.value));let Y=T.length,G=V?["Block","BlockContext"]:$?Y>=Type.ATXHeading1&&Y<=Type.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;T.push(NodeType.define({id:Y,name:M,props:G&&[[NodeProp.group,G]]})),X&&(E||(E={}),Array.isArray(X)||X instanceof Tag?E[M]=X:Object.assign(E,X))}r=new NodeSet(T),E&&(r=r.extend(styleTags(E)))}if(nonEmpty(n.props)&&(r=r.extend(...n.props)),nonEmpty(n.remove))for(let T of n.remove){let E=this.blockNames.indexOf(T),R=this.inlineNames.indexOf(T);E>-1&&(c[E]=u[E]=void 0),R>-1&&(d[R]=void 0)}if(nonEmpty(n.parseBlock))for(let T of n.parseBlock){let E=f.indexOf(T.name);if(E>-1)c[E]=T.parse,u[E]=T.leaf;else{let R=T.before?findName(f,T.before):T.after?findName(f,T.after)+1:f.length-1;c.splice(R,0,T.parse),u.splice(R,0,T.leaf),f.splice(R,0,T.name)}T.endLeaf&&g.push(T.endLeaf)}if(nonEmpty(n.parseInline))for(let T of n.parseInline){let E=O.indexOf(T.name);if(E>-1)d[E]=T.parse;else{let R=T.before?findName(O,T.before):T.after?findName(O,T.after)+1:O.length-1;d.splice(R,0,T.parse),O.splice(R,0,T.name)}}return n.wrap&&(x=x.concat(n.wrap)),new MarkdownParser(r,c,u,f,g,a,d,O,x)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new InlineContext(this,e,n);e:for(let a=n;a<r.end;){let c=r.char(a);for(let u of this.inlineParsers)if(u){let f=u(r,c,a);if(f>=0){a=f;continue e}}a++}return r.resolveMarkers(0)}}function nonEmpty(s){return s!=null&&s.length>0}function resolveConfig(s){if(!Array.isArray(s))return s;if(s.length==0)return null;let e=resolveConfig(s[0]);if(s.length==1)return e;let n=resolveConfig(s.slice(1));if(!n||!e)return e||n;let r=(u,f)=>(u||none).concat(f||none),a=e.wrap,c=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:a?c?(u,f,d,O)=>a(c(u,f,d,O),f,d,O):a:c}}function findName(s,e){let n=s.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let nodeTypes=[NodeType.none];for(let s=1,e;e=Type[s];s++)nodeTypes[s]=NodeType.define({id:s,name:e,props:s>=Type.Escape?[]:[[NodeProp.group,s in DefaultSkipMarkup?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const none=[];let Buffer$1=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,a=0){return this.content.push(e,n,r,4+a*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return Tree.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}};class Element{constructor(e,n,r,a=none){this.type=e,this.from=n,this.to=r,this.children=a}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new Buffer$1(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class TreeElement{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return none}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function elt(s,e,n,r){return new Element(s,e,n,r)}const EmphasisUnderscore={resolve:"Emphasis",mark:"EmphasisMark"},EmphasisAsterisk={resolve:"Emphasis",mark:"EmphasisMark"},LinkStart={},ImageStart={};class InlineDelimiter{constructor(e,n,r,a){this.type=e,this.from=n,this.to=r,this.side=a}}const Escapable="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Punctuation=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Punctuation=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const DefaultInline={Escape(s,e,n){if(e!=92||n==s.end-1)return-1;let r=s.char(n+1);for(let a=0;a<Escapable.length;a++)if(Escapable.charCodeAt(a)==r)return s.append(elt(Type.Escape,n,n+2));return-1},Entity(s,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(s.slice(n+1,n+31));return r?s.append(elt(Type.Entity,n,n+1+r[0].length)):-1},InlineCode(s,e,n){if(e!=96||n&&s.char(n-1)==96)return-1;let r=n+1;for(;r<s.end&&s.char(r)==96;)r++;let a=r-n,c=0;for(;r<s.end;r++)if(s.char(r)==96){if(c++,c==a&&s.char(r+1)!=96)return s.append(elt(Type.InlineCode,n,r+1,[elt(Type.CodeMark,n,n+a),elt(Type.CodeMark,r+1-a,r+1)]))}else c=0;return-1},HTMLTag(s,e,n){if(e!=60||n==s.end-1)return-1;let r=s.slice(n+1,s.end),a=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(a)return s.append(elt(Type.Autolink,n,n+1+a[0].length,[elt(Type.LinkMark,n,n+1),elt(Type.URL,n+1,n+a[0].length),elt(Type.LinkMark,n+a[0].length,n+1+a[0].length)]));let c=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(c)return s.append(elt(Type.Comment,n,n+1+c[0].length));let u=/^\?[^]*?\?>/.exec(r);if(u)return s.append(elt(Type.ProcessingInstruction,n,n+1+u[0].length));let f=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return f?s.append(elt(Type.HTMLTag,n,n+1+f[0].length)):-1},Emphasis(s,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;s.char(r)==e;)r++;let a=s.slice(n-1,n),c=s.slice(r,r+1),u=Punctuation.test(a),f=Punctuation.test(c),d=/\s|^$/.test(a),O=/\s|^$/.test(c),g=!O&&(!f||d||u),x=!d&&(!u||O||f),T=g&&(e==42||!x||u),E=x&&(e==42||!g||f);return s.append(new InlineDelimiter(e==95?EmphasisUnderscore:EmphasisAsterisk,n,r,(T?1:0)|(E?2:0)))},HardBreak(s,e,n){if(e==92&&s.char(n+1)==10)return s.append(elt(Type.HardBreak,n,n+2));if(e==32){let r=n+1;for(;s.char(r)==32;)r++;if(s.char(r)==10&&r>=n+2)return s.append(elt(Type.HardBreak,n,r+1))}return-1},Link(s,e,n){return e==91?s.append(new InlineDelimiter(LinkStart,n,n+1,1)):-1},Image(s,e,n){return e==33&&s.char(n+1)==91?s.append(new InlineDelimiter(ImageStart,n,n+2,1)):-1},LinkEnd(s,e,n){if(e!=93)return-1;for(let r=s.parts.length-1;r>=0;r--){let a=s.parts[r];if(a instanceof InlineDelimiter&&(a.type==LinkStart||a.type==ImageStart)){if(!a.side||s.skipSpace(a.to)==n&&!/[(\[]/.test(s.slice(n+1,n+2)))return s.parts[r]=null,-1;let c=s.takeContent(r),u=s.parts[r]=finishLink(s,c,a.type==LinkStart?Type.Link:Type.Image,a.from,n+1);if(a.type==LinkStart)for(let f=0;f<r;f++){let d=s.parts[f];d instanceof InlineDelimiter&&d.type==LinkStart&&(d.side=0)}return u.to}}return-1}};function finishLink(s,e,n,r,a){let{text:c}=s,u=s.char(a),f=a;if(e.unshift(elt(Type.LinkMark,r,r+(n==Type.Image?2:1))),e.push(elt(Type.LinkMark,a-1,a)),u==40){let d=s.skipSpace(a+1),O=parseURL(c,d-s.offset,s.offset),g;O&&(d=s.skipSpace(O.to),d!=O.to&&(g=parseLinkTitle(c,d-s.offset,s.offset),g&&(d=s.skipSpace(g.to)))),s.char(d)==41&&(e.push(elt(Type.LinkMark,a,a+1)),f=d+1,O&&e.push(O),g&&e.push(g),e.push(elt(Type.LinkMark,d,f)))}else if(u==91){let d=parseLinkLabel(c,a-s.offset,s.offset,!1);d&&(e.push(d),f=d.to)}return elt(n,r,f,e)}function parseURL(s,e,n){if(s.charCodeAt(e)==60){for(let a=e+1;a<s.length;a++){let c=s.charCodeAt(a);if(c==62)return elt(Type.URL,e+n,a+1+n);if(c==60||c==10)return!1}return null}else{let a=0,c=e;for(let u=!1;c<s.length;c++){let f=s.charCodeAt(c);if(space(f))break;if(u)u=!1;else if(f==40)a++;else if(f==41){if(!a)break;a--}else f==92&&(u=!0)}return c>e?elt(Type.URL,e+n,c+n):c==s.length?null:!1}}function parseLinkTitle(s,e,n){let r=s.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let a=r==40?41:r;for(let c=e+1,u=!1;c<s.length;c++){let f=s.charCodeAt(c);if(u)u=!1;else{if(f==a)return elt(Type.LinkTitle,e+n,c+1+n);f==92&&(u=!0)}}return null}function parseLinkLabel(s,e,n,r){for(let a=!1,c=e+1,u=Math.min(s.length,c+999);c<u;c++){let f=s.charCodeAt(c);if(a)a=!1;else{if(f==93)return r?!1:elt(Type.LinkLabel,e+n,c+1+n);if(r&&!space(f)&&(r=!1),f==91)return!1;f==92&&(a=!0)}}return null}class InlineContext{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,a,c){return this.append(new InlineDelimiter(e,n,r,(a?1:0)|(c?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof InlineDelimiter&&(n.type==LinkStart||n.type==ImageStart))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let a=this.parts[r];if(!(a instanceof InlineDelimiter&&a.type.resolve&&a.side&2))continue;let c=a.type==EmphasisUnderscore||a.type==EmphasisAsterisk,u=a.to-a.from,f,d=r-1;for(;d>=e;d--){let M=this.parts[d];if(M instanceof InlineDelimiter&&M.side&1&&M.type==a.type&&!(c&&(a.side&1||M.side&2)&&(M.to-M.from+u)%3==0&&((M.to-M.from)%3||u%3))){f=M;break}}if(!f)continue;let O=a.type.resolve,g=[],x=f.from,T=a.to;if(c){let M=Math.min(2,f.to-f.from,u);x=f.to-M,T=a.from+M,O=M==1?"Emphasis":"StrongEmphasis"}f.type.mark&&g.push(this.elt(f.type.mark,x,f.to));for(let M=d+1;M<r;M++)this.parts[M]instanceof Element&&g.push(this.parts[M]),this.parts[M]=null;a.type.mark&&g.push(this.elt(a.type.mark,a.from,T));let E=this.elt(O,x,T,g);this.parts[d]=c&&f.from!=x?new InlineDelimiter(f.type,f.from,x,f.side):null,(this.parts[r]=c&&a.to!=T?new InlineDelimiter(a.type,T,a.to,a.side):null)?this.parts.splice(r,0,E):this.parts[r]=E}let n=[];for(let r=e;r<this.parts.length;r++){let a=this.parts[r];a instanceof Element&&n.push(a)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof InlineDelimiter&&r.type==e)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}skipSpace(e){return skipSpace(this.text,e-this.offset)+this.offset}elt(e,n,r,a){return typeof e=="string"?elt(this.parser.getNodeType(e),n,r,a):new TreeElement(e,n)}}function injectMarks(s,e){if(!e.length)return s;if(!s.length)return e;let n=s.slice(),r=0;for(let a of e){for(;r<n.length&&n[r].to<a.to;)r++;if(r<n.length&&n[r].from<a.from){let c=n[r];c instanceof Element&&(n[r]=new Element(c.type,c.from,c.to,injectMarks(c.children,[a])))}else n.splice(r++,0,a)}return n}const NotLast=[Type.CodeBlock,Type.ListItem,Type.OrderedList,Type.BulletList];class FragmentCursor{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let c=this.fragment.to;for(;c>0&&this.input.read(c-1,c)!=`
`;)c--;this.fragmentEnd=c?c-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let a=e+this.fragment.offset;for(;r.to<=a;)if(!r.parent())return!1;for(;;){if(r.from>=a)return this.fragment.from<=n;if(!r.childAfter(a))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(NodeProp.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,a=this.fragmentEnd-(this.fragment.openEnd?1:0),c=e.absoluteLineStart,u=c,f=e.block.children.length,d=u,O=f;for(;;){if(n.to-r>a){if(n.type.isAnonymous&&n.firstChild())continue;break}let g=toRelative(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,g);else{let x=new Tree(e.parser.nodeSet.types[Type.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(x,n.tree),e.addNode(x,g)}if(n.type.is("Block")&&(NotLast.indexOf(n.type.id)<0?(u=n.to-r,f=e.block.children.length):(u=d,f=O,d=n.to-r,O=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>f;)e.block.children.pop(),e.block.positions.pop();return u-c}}function toRelative(s,e){let n=s;for(let r=1;r<e.length;r++){let a=e[r-1].to,c=e[r].from;a<s&&(n-=c-a)}return n}const markdownHighlighting=styleTags({"Blockquote/...":tags$1.quote,HorizontalRule:tags$1.contentSeparator,"ATXHeading1/... SetextHeading1/...":tags$1.heading1,"ATXHeading2/... SetextHeading2/...":tags$1.heading2,"ATXHeading3/...":tags$1.heading3,"ATXHeading4/...":tags$1.heading4,"ATXHeading5/...":tags$1.heading5,"ATXHeading6/...":tags$1.heading6,"Comment CommentBlock":tags$1.comment,Escape:tags$1.escape,Entity:tags$1.character,"Emphasis/...":tags$1.emphasis,"StrongEmphasis/...":tags$1.strong,"Link/... Image/...":tags$1.link,"OrderedList/... BulletList/...":tags$1.list,"BlockQuote/...":tags$1.quote,"InlineCode CodeText":tags$1.monospace,"URL Autolink":tags$1.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":tags$1.processingInstruction,"CodeInfo LinkLabel":tags$1.labelName,LinkTitle:tags$1.string,Paragraph:tags$1.content}),parser=new MarkdownParser(new NodeSet(nodeTypes).extend(markdownHighlighting),Object.keys(DefaultBlockParsers).map(s=>DefaultBlockParsers[s]),Object.keys(DefaultBlockParsers).map(s=>DefaultLeafBlocks[s]),Object.keys(DefaultBlockParsers),DefaultEndLeaf,DefaultSkipMarkup,Object.keys(DefaultInline).map(s=>DefaultInline[s]),Object.keys(DefaultInline),[]);function leftOverSpace(s,e,n){let r=[];for(let a=s.firstChild,c=e;;a=a.nextSibling){let u=a?a.from:n;if(u>c&&r.push({from:c,to:u}),!a)break;c=a.to}return r}function parseCode(s){let{codeParser:e,htmlParser:n}=s;return{wrap:parseMixed((a,c)=>{let u=a.type.id;if(e&&(u==Type.CodeBlock||u==Type.FencedCode)){let f="";if(u==Type.FencedCode){let O=a.node.getChild(Type.CodeInfo);O&&(f=c.read(O.from,O.to))}let d=e(f);if(d)return{parser:d,overlay:O=>O.type.id==Type.CodeText}}else if(n&&(u==Type.HTMLBlock||u==Type.HTMLTag||u==Type.CommentBlock))return{parser:n,overlay:leftOverSpace(a.node,a.from,a.to)};return null})}}const StrikethroughDelim={resolve:"Strikethrough",mark:"StrikethroughMark"},Strikethrough={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":tags$1.strikethrough}},{name:"StrikethroughMark",style:tags$1.processingInstruction}],parseInline:[{name:"Strikethrough",parse(s,e,n){if(e!=126||s.char(n+1)!=126||s.char(n+2)==126)return-1;let r=s.slice(n-1,n),a=s.slice(n+2,n+3),c=/\s|^$/.test(r),u=/\s|^$/.test(a),f=Punctuation.test(r),d=Punctuation.test(a);return s.addDelimiter(StrikethroughDelim,n,n+2,!u&&(!d||c||f),!c&&(!f||u||d))},after:"Emphasis"}]};function parseRow(s,e,n=0,r,a=0){let c=0,u=!0,f=-1,d=-1,O=!1,g=()=>{r.push(s.elt("TableCell",a+f,a+d,s.parser.parseInline(e.slice(f,d),a+f)))};for(let x=n;x<e.length;x++){let T=e.charCodeAt(x);T==124&&!O?((!u||f>-1)&&c++,u=!1,r&&(f>-1&&g(),r.push(s.elt("TableDelimiter",x+a,x+a+1))),f=d=-1):(O||T!=32&&T!=9)&&(f<0&&(f=x),d=x+1),O=!O&&T==92}return f>-1&&(c++,r&&g()),c}function hasPipe(s,e){for(let n=e;n<s.length;n++){let r=s.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const delimiterLine=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class TableParser{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let a;if((n.next==45||n.next==58||n.next==124)&&delimiterLine.test(a=n.text.slice(n.pos))){let c=[];parseRow(e,r.content,0,c,r.start)==parseRow(e,a,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,c),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let a=[];parseRow(e,n.text,n.pos,a,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,a))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const Table={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":tags$1.heading}},"TableRow",{name:"TableCell",style:tags$1.content},{name:"TableDelimiter",style:tags$1.processingInstruction}],parseBlock:[{name:"Table",leaf(s,e){return hasPipe(e.content,0)?new TableParser:null},endLeaf(s,e,n){if(n.parsers.some(a=>a instanceof TableParser)||!hasPipe(e.text,e.basePos))return!1;let r=s.peekLine();return delimiterLine.test(r)&&parseRow(s,e.text,e.basePos)==parseRow(s,r,e.basePos)},before:"SetextHeading"}]};class TaskParser{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const TaskList={defineNodes:[{name:"Task",block:!0,style:tags$1.list},{name:"TaskMarker",style:tags$1.atom}],parseBlock:[{name:"TaskList",leaf(s,e){return/^\[[ xX]\][ \t]/.test(e.content)&&s.parentType().name=="ListItem"?new TaskParser:null},after:"SetextHeading"}]},autolinkRE=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,urlRE=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,lastTwoDomainWords=/[\w-]+\.[\w-]+($|\/)/,emailRE=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,xmppResourceRE=/\/[a-zA-Z\d@.]+/gy;function count(s,e,n,r){let a=0;for(let c=e;c<n;c++)s[c]==r&&a++;return a}function autolinkURLEnd(s,e){urlRE.lastIndex=e;let n=urlRE.exec(s);if(!n||lastTwoDomainWords.exec(n[0])[0].indexOf("_")>-1)return-1;let r=e+n[0].length;for(;;){let a=s[r-1],c;if(/[?!.,:*_~]/.test(a)||a==")"&&count(s,e,r,")")>count(s,e,r,"("))r--;else if(a==";"&&(c=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(s.slice(e,r))))r=e+c.index;else break}return r}function autolinkEmailEnd(s,e){emailRE.lastIndex=e;let n=emailRE.exec(s);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:e+n[0].length-(r=="."?1:0)}const Autolink={parseInline:[{name:"Autolink",parse(s,e,n){let r=n-s.offset;if(r&&/\w/.test(s.text[r-1]))return-1;autolinkRE.lastIndex=r;let a=autolinkRE.exec(s.text),c=-1;if(!a)return-1;if(a[1]||a[2]){if(c=autolinkURLEnd(s.text,r+a[0].length),c>-1&&s.hasOpenLink){let u=/([^\[\]]|\[[^\]]*\])*/.exec(s.text.slice(r,c));c=r+u[0].length}}else a[3]?c=autolinkEmailEnd(s.text,r):(c=autolinkEmailEnd(s.text,r+a[0].length),c>-1&&a[0]=="xmpp:"&&(xmppResourceRE.lastIndex=c,a=xmppResourceRE.exec(s.text),a&&(c=a.index+a[0].length)));return c<0?-1:(s.addElement(s.elt("URL",n,c+s.offset)),c+s.offset)}}]},GFM=[Table,TaskList,Strikethrough,Autolink];function parseSubSuper(s,e,n){return(r,a,c)=>{if(a!=s||r.char(c+1)==s)return-1;let u=[r.elt(n,c,c+1)];for(let f=c+1;f<r.end;f++){let d=r.char(f);if(d==s)return r.addElement(r.elt(e,c,f+1,u.concat(r.elt(n,f,f+1))));if(d==92&&u.push(r.elt("Escape",f,f+++2)),space(d))break}return-1}}const Superscript={defineNodes:[{name:"Superscript",style:tags$1.special(tags$1.content)},{name:"SuperscriptMark",style:tags$1.processingInstruction}],parseInline:[{name:"Superscript",parse:parseSubSuper(94,"Superscript","SuperscriptMark")}]},Subscript={defineNodes:[{name:"Subscript",style:tags$1.special(tags$1.content)},{name:"SubscriptMark",style:tags$1.processingInstruction}],parseInline:[{name:"Subscript",parse:parseSubSuper(126,"Subscript","SubscriptMark")}]},Emoji={defineNodes:[{name:"Emoji",style:tags$1.character}],parseInline:[{name:"Emoji",parse(s,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(s.slice(n+1,s.end)))?-1:s.addElement(s.elt("Emoji",n,n+1+r[0].length))}}]},data=defineLanguageFacet({commentTokens:{block:{open:"<!--",close:"-->"}}}),headingProp=new NodeProp,commonmark=parser.configure({props:[foldNodeProp.add(s=>!s.is("Block")||s.is("Document")||isHeading(s)!=null||isList(s)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),headingProp.add(isHeading),indentNodeProp.add({Document:()=>null}),languageDataProp.add({Document:data})]});function isHeading(s){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(s.name);return e?+e[1]:void 0}function isList(s){return s.name=="OrderedList"||s.name=="BulletList"}function findSectionEnd(s,e){let n=s;for(;;){let r=n.nextSibling,a;if(!r||(a=isHeading(r.type))!=null&&a<=e)break;n=r}return n.to}const headerIndent=foldService.of((s,e,n)=>{for(let r=syntaxTree(s).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let a=r.type.prop(headingProp);if(a==null)continue;let c=findSectionEnd(r,a);if(c>n)return{from:n,to:c}}return null});function mkLang(s){return new Language(data,s,[],"markdown")}const commonmarkLanguage=mkLang(commonmark),extended=commonmark.configure([GFM,Subscript,Superscript,Emoji,{props:[foldNodeProp.add({Table:(s,e)=>({from:e.doc.lineAt(s.from).to,to:s.to})})]}]),markdownLanguage=mkLang(extended);function getCodeParser(s,e){return n=>{if(n&&s){let r=null;if(n=/\S*/.exec(n)[0],typeof s=="function"?r=s(n):r=LanguageDescription.matchLanguageName(s,n,!0),r instanceof LanguageDescription)return r.support?r.support.language.parser:ParseContext.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}class Context{constructor(e,n,r,a,c,u,f){this.node=e,this.from=n,this.to=r,this.spaceBefore=a,this.spaceAfter=c,this.type=u,this.item=f}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let a=this.to-this.from-r.length-this.spaceAfter.length;a>0;a--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+itemNumber(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function getContext(s,e){let n=[],r=[];for(let a=s;a;a=a.parent){if(a.name=="FencedCode")return r;(a.name=="ListItem"||a.name=="Blockquote")&&n.push(a)}for(let a=n.length-1;a>=0;a--){let c=n[a],u,f=e.lineAt(c.from),d=c.from-f.from;if(c.name=="Blockquote"&&(u=/^ *>( ?)/.exec(f.text.slice(d))))r.push(new Context(c,d,d+u[0].length,"",u[1],">",null));else if(c.name=="ListItem"&&c.parent.name=="OrderedList"&&(u=/^( *)\d+([.)])( *)/.exec(f.text.slice(d)))){let O=u[3],g=u[0].length;O.length>=4&&(O=O.slice(0,O.length-4),g-=4),r.push(new Context(c.parent,d,d+g,u[1],O,u[2],c))}else if(c.name=="ListItem"&&c.parent.name=="BulletList"&&(u=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(f.text.slice(d)))){let O=u[4],g=u[0].length;O.length>4&&(O=O.slice(0,O.length-4),g-=4);let x=u[2];u[3]&&(x+=u[3].replace(/[xX]/," ")),r.push(new Context(c.parent,d,d+g,u[1],O,x,c))}}return r}function itemNumber(s,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(s.from,s.from+10))}function renumberList(s,e,n,r=0){for(let a=-1,c=s;;){if(c.name=="ListItem"){let f=itemNumber(c,e),d=+f[2];if(a>=0){if(d!=a+1)return;n.push({from:c.from+f[1].length,to:c.from+f[0].length,insert:String(a+2+r)})}a=d}let u=c.nextSibling;if(!u)break;c=u}}function normalizeIndent(s,e){let n=/^[ \t]*/.exec(s)[0].length;if(!n||e.facet(indentUnit)!="	")return s;let r=countColumn(s,4,n),a="";for(let c=r;c>0;)c>=4?(a+="	",c-=4):(a+=" ",c--);return a+s.slice(n)}const insertNewlineContinueMarkup=({state:s,dispatch:e})=>{let n=syntaxTree(s),{doc:r}=s,a=null,c=s.changeByRange(u=>{if(!u.empty||!markdownLanguage.isActiveAt(s,u.from,-1)&&!markdownLanguage.isActiveAt(s,u.from,1))return a={range:u};let f=u.from,d=r.lineAt(f),O=getContext(n.resolveInner(f,-1),r);for(;O.length&&O[O.length-1].from>f-d.from;)O.pop();if(!O.length)return a={range:u};let g=O[O.length-1];if(g.to-g.spaceAfter.length>f-d.from)return a={range:u};let x=f>=g.to-g.spaceAfter.length&&!/\S/.test(d.text.slice(g.to));if(g.item&&x){let $=g.node.firstChild,V=g.node.getChild("ListItem","ListItem");if($.to>=f||V&&V.to<f||d.from>0&&!/[^\s>]/.test(r.lineAt(d.from-1).text)){let X=O.length>1?O[O.length-2]:null,Y,G="";X&&X.item?(Y=d.from+X.from,G=X.marker(r,1)):Y=d.from+(X?X.to:0);let L=[{from:Y,to:f,insert:G}];return g.node.name=="OrderedList"&&renumberList(g.item,r,L,-2),X&&X.node.name=="OrderedList"&&renumberList(X.item,r,L),{range:EditorSelection.cursor(Y+G.length),changes:L}}else{let X=blankLine(O,s,d);return{range:EditorSelection.cursor(f+X.length+1),changes:{from:d.from,insert:X+s.lineBreak}}}}if(g.node.name=="Blockquote"&&x&&d.from){let $=r.lineAt(d.from-1),V=/>\s*$/.exec($.text);if(V&&V.index==g.from){let X=s.changes([{from:$.from+V.index,to:$.to},{from:d.from+g.from,to:d.to}]);return{range:u.map(X),changes:X}}}let T=[];g.node.name=="OrderedList"&&renumberList(g.item,r,T);let E=g.item&&g.item.from<d.from,R="";if(!E||/^[\s\d.)\-+*>]*/.exec(d.text)[0].length>=g.to)for(let $=0,V=O.length-1;$<=V;$++)R+=$==V&&!E?O[$].marker(r,1):O[$].blank($<V?countColumn(d.text,4,O[$+1].from)-R.length:null);let M=f;for(;M>d.from&&/\s/.test(d.text.charAt(M-d.from-1));)M--;return R=normalizeIndent(R,s),nonTightList(g.node,s.doc)&&(R=blankLine(O,s,d)+s.lineBreak+R),T.push({from:M,to:f,insert:s.lineBreak+R}),{range:EditorSelection.cursor(M+R.length+1),changes:T}});return a?!1:(e(s.update(c,{scrollIntoView:!0,userEvent:"input"})),!0)};function isMark(s){return s.name=="QuoteMark"||s.name=="ListMark"}function nonTightList(s,e){if(s.name!="OrderedList"&&s.name!="BulletList")return!1;let n=s.firstChild,r=s.getChild("ListItem","ListItem");if(!r)return!1;let a=e.lineAt(n.to),c=e.lineAt(r.from),u=/^[\s>]*$/.test(a.text);return a.number+(u?0:1)<c.number}function blankLine(s,e,n){let r="";for(let a=0,c=s.length-2;a<=c;a++)r+=s[a].blank(a<c?countColumn(n.text,4,s[a+1].from)-r.length:null,a<c);return normalizeIndent(r,e)}function contextNodeForDelete(s,e){let n=s.resolveInner(e,-1),r=e;isMark(n)&&(r=n.from,n=n.parent);for(let a;a=n.childBefore(r);)if(isMark(a))r=a.from;else if(a.name=="OrderedList"||a.name=="BulletList")n=a.lastChild,r=n.to;else break;return n}const deleteMarkupBackward=({state:s,dispatch:e})=>{let n=syntaxTree(s),r=null,a=s.changeByRange(c=>{let u=c.from,{doc:f}=s;if(c.empty&&markdownLanguage.isActiveAt(s,c.from)){let d=f.lineAt(u),O=getContext(contextNodeForDelete(n,u),f);if(O.length){let g=O[O.length-1],x=g.to-g.spaceAfter.length+(g.spaceAfter?1:0);if(u-d.from>x&&!/\S/.test(d.text.slice(x,u-d.from)))return{range:EditorSelection.cursor(d.from+x),changes:{from:d.from+x,to:u}};if(u-d.from==x&&(!g.item||d.from<=g.item.from||!/\S/.test(d.text.slice(0,g.to)))){let T=d.from+g.from;if(g.item&&g.node.from<g.item.from&&/\S/.test(d.text.slice(g.from,g.to))){let E=g.blank(countColumn(d.text,4,g.to)-countColumn(d.text,4,g.from));return T==d.from&&(E=normalizeIndent(E,s)),{range:EditorSelection.cursor(T+E.length),changes:{from:T,to:d.from+g.to,insert:E}}}if(T<u)return{range:EditorSelection.cursor(T),changes:{from:T,to:u}}}}}return r={range:c}});return r?!1:(e(s.update(a,{scrollIntoView:!0,userEvent:"delete"})),!0)},markdownKeymap=[{key:"Enter",run:insertNewlineContinueMarkup},{key:"Backspace",run:deleteMarkupBackward}],htmlNoMatch=html({matchClosingTags:!1});function markdown(s={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:a}=commonmarkLanguage,completeHTMLTags:c=!0,htmlTagLanguage:u=htmlNoMatch}=s;if(!(a instanceof MarkdownParser))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let f=s.extensions?[s.extensions]:[],d=[u.support,headerIndent],O;n instanceof LanguageSupport?(d.push(n.support),O=n.language):n&&(O=n);let g=e||O?getCodeParser(e,O):void 0;f.push(parseCode({codeParser:g,htmlParser:u.language.parser})),r&&d.push(Prec.high(keymap.of(markdownKeymap)));let x=mkLang(a.configure(f));return c&&d.push(x.data.of({autocomplete:htmlTagCompletion})),new LanguageSupport(x,d)}function htmlTagCompletion(s){let{state:e,pos:n}=s,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!r)return null;let a=syntaxTree(e).resolveInner(n,-1);for(;a&&!a.type.isTop;){if(a.name=="CodeBlock"||a.name=="FencedCode"||a.name=="ProcessingInstructionBlock"||a.name=="CommentBlock"||a.name=="Link"||a.name=="Image")return null;a=a.parent}return{from:n-r[0].length,to:n,options:htmlTagCompletions(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let _tagCompletions=null;function htmlTagCompletions(){if(_tagCompletions)return _tagCompletions;let s=htmlCompletionSource(new CompletionContext(EditorState.create({extensions:htmlNoMatch}),0,!0));return _tagCompletions=s?s.options:[]}const chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags$1.keyword,color:violet},{tag:[tags$1.name,tags$1.deleted,tags$1.character,tags$1.propertyName,tags$1.macroName],color:coral},{tag:[tags$1.function(tags$1.variableName),tags$1.labelName],color:malibu},{tag:[tags$1.color,tags$1.constant(tags$1.name),tags$1.standard(tags$1.name)],color:whiskey},{tag:[tags$1.definition(tags$1.name),tags$1.separator],color:ivory},{tag:[tags$1.typeName,tags$1.className,tags$1.number,tags$1.changed,tags$1.annotation,tags$1.modifier,tags$1.self,tags$1.namespace],color:chalky},{tag:[tags$1.operator,tags$1.operatorKeyword,tags$1.url,tags$1.escape,tags$1.regexp,tags$1.link,tags$1.special(tags$1.string)],color:cyan},{tag:[tags$1.meta,tags$1.comment],color:stone},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.link,color:stone,textDecoration:"underline"},{tag:tags$1.heading,fontWeight:"bold",color:coral},{tag:[tags$1.atom,tags$1.bool,tags$1.special(tags$1.variableName)],color:whiskey},{tag:[tags$1.processingInstruction,tags$1.string,tags$1.inserted],color:sage},{tag:tags$1.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];function initVim(s){var e=s.Pos;function n(y,k,A){if(k.line===A.line&&k.ch>=A.ch-1){var b=y.getLine(k.line),P=b.charCodeAt(k.ch);55296<=P&&P<=55551&&(A.ch+=1)}return{start:k,end:A}}var r=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"g?",type:"operator",operator:"rot13"},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<register>",type:"action",action:"replayMacro"},{keys:"q<register>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<register>",type:"action",action:"setMark"},{keys:'"<register>',type:"action",action:"setRegister"},{keys:"<C-r><register>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<register>",type:"motion",motion:"textObjectManipulation"},{keys:"i<register>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],a=Object.create(null),c=r.length,u=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"marks",excludeFromCommandHistory:!0},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}],f=_e("");function d(y){y.setOption("disableInput",!0),y.setOption("showCursorWhenSelecting",!1),s.signal(y,"vim-mode-change",{mode:"normal"}),y.on("cursorActivity",Oi),Pe(y),s.on(y.getInputField(),"paste",g(y))}function O(y){y.setOption("disableInput",!1),y.off("cursorActivity",Oi),s.off(y.getInputField(),"paste",g(y)),y.state.vim=null,$i&&clearTimeout($i)}function g(y){var k=y.state.vim;return k.onPasteFn||(k.onPasteFn=function(){k.insertMode||(y.setCursor(et(y.getCursor(),0,1)),ht.enterInsertMode(y,{},k))}),k.onPasteFn}var x=/[\d]/,T=[s.isWordChar,function(y){return y&&!s.isWordChar(y)&&!/\s/.test(y)}],E=[function(y){return/\S/.test(y)}],R=["<",">"],M=["-",'"',".",":","_","/","+"],$=/^\w$/,V=/^[A-Z]$/;try{V=new RegExp("^[\\p{Lu}]$","u")}catch{}function X(y,k){return k>=y.firstLine()&&k<=y.lastLine()}function Y(y){return/^[a-z]$/.test(y)}function G(y){return"()[]{}".indexOf(y)!=-1}function L(y){return x.test(y)}function I(y){return V.test(y)}function ee(y){return/^\s*$/.test(y)}function ne(y){return".?!".indexOf(y)!=-1}function z(y,k){for(var A=0;A<k.length;A++)if(k[A]==y)return!0;return!1}var ae={};function H(y,k,A,b,P){if(k===void 0&&!P)throw Error("defaultValue is required unless callback is provided");if(A||(A="string"),ae[y]={type:A,defaultValue:k,callback:P},b)for(var _=0;_<b.length;_++)ae[b[_]]=ae[y];k&&fe(y,k)}function fe(y,k,A,b){var P=ae[y];b=b||{};var _=b.scope;if(!P)return new Error("Unknown option: "+y);if(P.type=="boolean"){if(k&&k!==!0)return new Error("Invalid argument: "+y+"="+k);k!==!1&&(k=!0)}P.callback?(_!=="local"&&P.callback(k,void 0),_!=="global"&&A&&P.callback(k,A)):(_!=="local"&&(P.value=P.type=="boolean"?!!k:k),_!=="global"&&A&&(A.state.vim.options[y]={value:k}))}function me(y,k,A){var b=ae[y];A=A||{};var P=A.scope;if(!b)return new Error("Unknown option: "+y);if(b.callback){let _=k&&b.callback(void 0,k);return P!=="global"&&_!==void 0?_:P!=="local"?b.callback():void 0}else return(P!=="global"&&k&&k.state.vim.options[y]||P!=="local"&&b||{}).value}H("filetype",void 0,"string",["ft"],function(y,k){if(k!==void 0)if(y===void 0){let A=k.getOption("mode");return A=="null"?"":A}else{let A=y==""?"null":y;k.setOption("mode",A)}}),H("textwidth",80,"number",["tw"],function(y,k){if(k!==void 0)if(y===void 0){var A=k.getOption("textwidth");return A}else{var b=Math.round(y);b>1&&k.setOption("textwidth",b)}});var se=function(){var y=100,k=-1,A=0,b=0,P=new Array(y);function _(ce,ge,ve){var Ne=k%y,Xe=P[Ne];function ze(ut){var vt=++k%y,_t=P[vt];_t&&_t.clear(),P[vt]=ce.setBookmark(ut)}if(Xe){var Qe=Xe.find();Qe&&!we(Qe,ge)&&ze(ge)}else ze(ge);ze(ve),A=k,b=k-y+1,b<0&&(b=0)}function Z(ce,ge){k+=ge,k>A?k=A:k<b&&(k=b);var ve=P[(y+k)%y];if(ve&&!ve.find()){var Ne=ge>0?1:-1,Xe,ze=ce.getCursor();do if(k+=Ne,ve=P[(y+k)%y],ve&&(Xe=ve.find())&&!we(ze,Xe))break;while(k<A&&k>b)}return ve}function re(ce,ge){var ve=k,Ne=Z(ce,ge);return k=ve,Ne&&Ne.find()}return{cachedCursor:void 0,add:_,find:re,move:Z}},Se=function(y){return y?{changes:y.changes,expectCursorActivityForChange:y.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};class Ae{constructor(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=Se()}exitMacroRecordMode(){var k=de.macroModeState;k.onRecordingDone&&k.onRecordingDone(),k.onRecordingDone=void 0,k.isRecording=!1}enterMacroRecordMode(k,A){var b=de.registerController.getRegister(A);if(b){if(b.clear(),this.latestRegister=A,k.openDialog){var P=Kn("span",{class:"cm-vim-message"},"recording @"+A);this.onRecordingDone=k.openDialog(P,function(){},{bottom:!0})}this.isRecording=!0}}}function Pe(y){return y.state.vim||(y.state.vim={inputState:new Be,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:void 0,sel:{anchor:new e(0,0),head:new e(0,0)},options:{},expectLiteralNext:!1,status:""}),y.state.vim}var de;function Fe(){de={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:se(),macroModeState:new Ae,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new Nt({}),searchHistoryController:new gt,exCommandHistoryController:new gt};for(var y in ae){var k=ae[y];k.value=k.defaultValue}}class Ke{constructor(k,A){this.keyName=k,this.key=A.key,this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.metaKey=A.metaKey,this.shiftKey=A.shiftKey}}var ct,it={enterVimMode:d,leaveVimMode:O,buildKeyMap:function(){},getRegisterController:function(){return de.registerController},resetVimGlobalState_:Fe,getVimGlobalState_:function(){return de},maybeInitVimState_:Pe,suppressErrorLogging:!1,InsertModeKey:Ke,map:function(y,k,A){qn.map(y,k,A)},unmap:function(y,k){return qn.unmap(y,k)},noremap:function(y,k,A){qn.map(y,k,A,!0)},mapclear:function(y){var k=r.length,A=c,b=r.slice(0,k-A);if(r=r.slice(k-A),y)for(var P=b.length-1;P>=0;P--){var _=b[P];if(y!==_.context)if(_.context)this._mapCommand(_);else{var Z=["normal","insert","visual"];for(var re in Z)if(Z[re]!==y){var ce=Object.assign({},_);ce.context=Z[re],this._mapCommand(ce)}}}},langmap:$e,vimKeyFromEvent:xe,setOption:fe,getOption:me,defineOption:H,defineEx:function(y,k,A){if(!k)k=y;else if(y.indexOf(k)!==0)throw new Error('(Vim.defineEx) "'+k+'" is not a prefix of "'+y+'", command not registered');Li[y]=A,qn.commandMap_[k]={name:y,shortName:k,type:"api"}},handleKey:function(y,k,A){var b=this.findKey(y,k,A);if(typeof b=="function")return b()},multiSelectHandleKey:Ya,findKey:function(y,k,A){var b=Pe(y),P=y;function _(){var ve=de.macroModeState;if(ve.isRecording){if(k=="q")return ve.exitMacroRecordMode(),Ue(P),!0;A!="mapping"&&Ho(ve,k)}}function Z(){if(k=="<Esc>"){if(b.visualMode)q(P);else if(b.insertMode)In(P);else return;return Ue(P),!0}}function re(){if(Z())return!0;b.inputState.keyBuffer.push(k);var ve=b.inputState.keyBuffer.join(""),Ne=k.length==1,Xe=Pt.matchCommand(ve,r,b.inputState,"insert"),ze=b.inputState.changeQueue;if(Xe.type=="none")return Ue(P),!1;if(Xe.type=="partial"){if(Xe.expectLiteralNext&&(b.expectLiteralNext=!0),ct&&window.clearTimeout(ct),ct=Ne&&window.setTimeout(function(){b.insertMode&&b.inputState.keyBuffer.length&&Ue(P)},me("insertModeEscKeysTimeout")),Ne){var Qe=P.listSelections();(!ze||ze.removed.length!=Qe.length)&&(ze=b.inputState.changeQueue=new ot),ze.inserted+=k;for(var ut=0;ut<Qe.length;ut++){var vt=Ge(Qe[ut].anchor,Qe[ut].head),_t=nn(Qe[ut].anchor,Qe[ut].head),Ft=P.getRange(vt,P.state.overwrite?et(_t,0,1):_t);ze.removed[ut]=(ze.removed[ut]||"")+Ft}}return!Ne}else Xe.type=="full"&&(b.inputState.keyBuffer.length=0);if(b.expectLiteralNext=!1,ct&&window.clearTimeout(ct),Xe.command&&ze){for(var Qe=P.listSelections(),ut=0;ut<Qe.length;ut++){var ln=Qe[ut].head;P.replaceRange(ze.removed[ut]||"",et(ln,0,-ze.inserted.length),ln,"+input")}de.macroModeState.lastInsertModeChanges.changes.pop()}return Xe.command||Ue(P),Xe.command}function ce(){if(_()||Z())return!0;b.inputState.keyBuffer.push(k);var ve=b.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(ve))return!0;var Ne=/^(\d*)(.*)$/.exec(ve);if(!Ne)return Ue(P),!1;var Xe=b.visualMode?"visual":"normal",ze=Ne[2]||Ne[1];b.inputState.operatorShortcut&&b.inputState.operatorShortcut.slice(-1)==ze&&(ze=b.inputState.operatorShortcut);var Qe=Pt.matchCommand(ze,r,b.inputState,Xe);return Qe.type=="none"?(Ue(P),!1):Qe.type=="partial"?(Qe.expectLiteralNext&&(b.expectLiteralNext=!0),!0):Qe.type=="clear"?(Ue(P),!0):(b.expectLiteralNext=!1,b.inputState.keyBuffer.length=0,Ne=/^(\d*)(.*)$/.exec(ve),Ne&&Ne[1]&&Ne[1]!="0"&&b.inputState.pushRepeatDigit(Ne[1]),Qe.command)}var ge=b.insertMode?re():ce();if(ge===!1)return!b.insertMode&&(k.length===1||s.isMac&&/<A-.>/.test(k))?function(){return!0}:void 0;if(ge===!0)return function(){return!0};if(ge)return function(){return P.operation(function(){P.curOp.isVimOp=!0;try{if(typeof ge!="object")return;ge.type=="keyToKey"?W(P,ge.toKeys,ge):Pt.processCommand(P,b,ge)}catch(ve){throw P.state.vim=void 0,Pe(P),it.suppressErrorLogging||console.log(ve),ve}return!0})}},handleEx:function(y,k){qn.processCommand(y,k)},defineMotion:De,defineAction:It,defineOperator:bt,mapCommand:Er,_mapCommand:Bn,defineRegister:Ct,exitVisualMode:q,exitInsertMode:In},te=[],D=!1,F;function j(y){if(!F)throw new Error("No prompt to send key to");if(y[0]=="<"){var k=y.toLowerCase().slice(1,-1),A=k.split("-");if(k=A.pop()||"",k=="lt")y="<";else if(k=="space")y=" ";else if(k=="cr")y=`
`;else if(pe[k]){var b=F.value||"",P={key:pe[k],target:{value:b,selectionEnd:b.length,selectionStart:b.length}};F.onKeyDown&&F.onKeyDown(P,F.value,Z),F&&F.onKeyUp&&F.onKeyUp(P,F.value,Z);return}}if(y==`
`){var _=F;F=null,_.onClose&&_.onClose(_.value)}else F.value=(F.value||"")+y;function Z(re){F&&(typeof re=="string"?F.value=re:F=null)}}function W(y,k,A){var b=D;if(A){if(te.indexOf(A)!=-1)return;te.push(A),D=A.noremap!=!1}try{for(var P=Pe(y),_=/<(?:[CSMA]-)*\w+>|./gi,Z;Z=_.exec(k);){var re=Z[0],ce=P.insertMode;if(F){j(re);continue}var ge=it.handleKey(y,re,"mapping");if(!ge&&ce&&P.insertMode){if(re[0]=="<"){var ve=re.toLowerCase().slice(1,-1),Ne=ve.split("-");if(ve=Ne.pop()||"",ve=="lt")re="<";else if(ve=="space")re=" ";else if(ve=="cr")re=`
`;else if(pe.hasOwnProperty(ve)){re=pe[ve],ss(y,re);continue}else re=re[0],_.lastIndex=Z.index+1}y.replaceSelection(re)}}}finally{if(te.pop(),D=te.length?b:!1,!te.length&&F){var Xe=F;F=null,Ji(y,Xe)}}}var K={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},le={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1},pe={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(K)).forEach(function(y){pe[(K[y]||"").toLowerCase()]=pe[y.toLowerCase()]=y});function xe(y,k){var _;var A=y.key;if(!le[A]){A.length>1&&A[0]=="n"&&(A=A.replace("Numpad","")),A=K[A]||A;var b="";if(y.ctrlKey&&(b+="C-"),y.altKey&&(b+="A-"),y.metaKey&&(b+="M-"),s.isMac&&b=="A-"&&A.length==1&&(b=b.slice(2)),(b||A.length>1)&&y.shiftKey&&(b+="S-"),k&&!k.expectLiteralNext&&A.length==1){if(f.keymap&&A in f.keymap)(f.remapCtrl!=!1||!b)&&(A=f.keymap[A]);else if(A.charCodeAt(0)>128&&!a[A]){var P=((_=y.code)==null?void 0:_.slice(-1))||"";y.shiftKey||(P=P.toLowerCase()),P&&(A=P,!b&&y.altKey&&(b="A-"))}}return b+=A,b.length>1&&(b="<"+b+">"),b}}function $e(y,k){f.string!==y&&(f=_e(y)),f.remapCtrl=k}function _e(y){let k={};if(!y)return{keymap:k,string:""};function A(b){return b.split(/\\?(.)/).filter(Boolean)}return y.split(/((?:[^\\,]|\\.)+),/).map(b=>{if(!b)return;const P=b.split(/((?:[^\\;]|\\.)+);/);if(P.length==3){const _=A(P[1]),Z=A(P[2]);if(_.length!==Z.length)return;for(let re=0;re<_.length;++re)k[_[re]]=Z[re]}else if(P.length==1){const _=A(b);if(_.length%2!==0)return;for(let Z=0;Z<_.length;Z+=2)k[_[Z]]=_[Z+1]}}),{keymap:k,string:y}}H("langmap",void 0,"string",["lmap"],function(y,k){if(y===void 0)return f.string;$e(y)});class Be{constructor(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=void 0,this.changeQueue=null}pushRepeatDigit(k){this.operator?this.motionRepeat=this.motionRepeat.concat(k):this.prefixRepeat=this.prefixRepeat.concat(k)}getRepeat(){var k=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(k=1,this.prefixRepeat.length>0&&(k*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(k*=parseInt(this.motionRepeat.join(""),10))),k}}function Ue(y,k){y.state.vim.inputState=new Be,y.state.vim.expectLiteralNext=!1,s.signal(y,"vim-command-done",k)}function ot(){this.removed=[],this.inserted=""}class qe{constructor(k,A,b){this.clear(),this.keyBuffer=[k||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!A,this.blockwise=!!b}setText(k,A,b){this.keyBuffer=[k||""],this.linewise=!!A,this.blockwise=!!b}pushText(k,A){A&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(k)}pushInsertModeChanges(k){this.insertModeChanges.push(Se(k))}pushSearchQuery(k){this.searchQueries.push(k)}clear(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1}toString(){return this.keyBuffer.join("")}}function Ct(y,k){var A=de.registerController.registers;if(!y||y.length!=1)throw Error("Register name must be 1 character");if(A[y])throw Error("Register already defined "+y);A[y]=k,M.push(y)}class Nt{constructor(k){this.registers=k,this.unnamedRegister=k['"']=new qe,k["."]=new qe,k[":"]=new qe,k["/"]=new qe,k["+"]=new qe}pushText(k,A,b,P,_){if(k!=="_"){P&&b.charAt(b.length-1)!==`
`&&(b+=`
`);var Z=this.isValidRegister(k)?this.getRegister(k):null;if(!Z||!k){switch(A){case"yank":this.registers[0]=new qe(b,P,_);break;case"delete":case"change":b.indexOf(`
`)==-1?this.registers["-"]=new qe(b,P):(this.shiftNumericRegisters_(),this.registers[1]=new qe(b,P));break}this.unnamedRegister.setText(b,P,_);return}var re=I(k);re?Z.pushText(b,P):Z.setText(b,P,_),k==="+"&&navigator.clipboard.writeText(b),this.unnamedRegister.setText(Z.toString(),P)}}getRegister(k){return this.isValidRegister(k)?(k=k.toLowerCase(),this.registers[k]||(this.registers[k]=new qe),this.registers[k]):this.unnamedRegister}isValidRegister(k){return k&&(z(k,M)||$.test(k))}shiftNumericRegisters_(){for(var k=9;k>=2;k--)this.registers[k]=this.getRegister(""+(k-1))}}class gt{constructor(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}nextMatch(k,A){var b=this.historyBuffer,P=A?-1:1;this.initialPrefix===null&&(this.initialPrefix=k);for(var _=this.iterator+P;A?_>=0:_<b.length;_+=P)for(var Z=b[_],re=0;re<=Z.length;re++)if(this.initialPrefix==Z.substring(0,re))return this.iterator=_,Z;if(_>=b.length)return this.iterator=b.length,this.initialPrefix;if(_<0)return k}pushInput(k){var A=this.historyBuffer.indexOf(k);A>-1&&this.historyBuffer.splice(A,1),k.length&&this.historyBuffer.push(k)}reset(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}}var Pt={matchCommand:function(y,k,A,b){var P=St(y,k,b,A),_=P.full[0];if(!_)return P.partial.length?{type:"partial",expectLiteralNext:P.partial.length==1&&P.partial[0].keys.slice(-11)=="<character>"}:{type:"none"};if(_.keys.slice(-11)=="<character>"||_.keys.slice(-10)=="<register>"){var Z=Lt(y);if(!Z||Z.length>1)return{type:"clear"};A.selectedCharacter=Z}return{type:"full",command:_}},processCommand:function(y,k,A){switch(k.inputState.repeatOverride=A.repeatOverride,A.type){case"motion":this.processMotion(y,k,A);break;case"operator":this.processOperator(y,k,A);break;case"operatorMotion":this.processOperatorMotion(y,k,A);break;case"action":this.processAction(y,k,A);break;case"search":this.processSearch(y,k,A);break;case"ex":case"keyToEx":this.processEx(y,k,A);break}},processMotion:function(y,k,A){k.inputState.motion=A.motion,k.inputState.motionArgs=Bt(A.motionArgs),this.evalInput(y,k)},processOperator:function(y,k,A){var b=k.inputState;if(b.operator)if(b.operator==A.operator){b.motion="expandToLine",b.motionArgs={linewise:!0,repeat:1},this.evalInput(y,k);return}else Ue(y);b.operator=A.operator,b.operatorArgs=Bt(A.operatorArgs),A.keys.length>1&&(b.operatorShortcut=A.keys),A.exitVisualBlock&&(k.visualBlock=!1,ye(y)),k.visualMode&&this.evalInput(y,k)},processOperatorMotion:function(y,k,A){var b=k.visualMode,P=Bt(A.operatorMotionArgs);P&&b&&P.visualLine&&(k.visualLine=!0),this.processOperator(y,k,A),b||this.processMotion(y,k,A)},processAction:function(y,k,A){var b=k.inputState,P=b.getRepeat(),_=!!P,Z=Bt(A.actionArgs)||{repeat:1};b.selectedCharacter&&(Z.selectedCharacter=b.selectedCharacter),A.operator&&this.processOperator(y,k,A),A.motion&&this.processMotion(y,k,A),(A.motion||A.operator)&&this.evalInput(y,k),Z.repeat=P||1,Z.repeatIsExplicit=_,Z.registerName=b.registerName,Ue(y),k.lastMotion=null,A.isEdit&&this.recordLastEdit(k,b,A),ht[A.action](y,Z,k)},processSearch:function(y,k,A){if(!y.getSearchCursor)return;var b=A.searchArgs.forward,P=A.searchArgs.wholeWordOnly;gr(y).setReversed(!b);var _=b?"/":"?",Z=gr(y).getQuery(),re=y.getScrollInfo(),ce="";function ge(Ft,ln,mn){de.searchHistoryController.pushInput(Ft),de.searchHistoryController.reset();try{es(y,Ft,ln,mn)}catch{Sn(y,"Invalid regex: "+Ft),Ue(y);return}Pt.processMotion(y,k,{keys:"",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:A.searchArgs.toJumplist}})}function ve(Ft){y.scrollTo(re.left,re.top),ge(Ft,!0,!0);var ln=de.macroModeState;ln.isRecording&&is(ln,Ft)}function Ne(){return me("pcre")?"(JavaScript regexp: set pcre)":"(Vim regexp: set nopcre)"}function Xe(Ft,ln,mn){var On=xe(Ft),An,jn;On=="<Up>"||On=="<Down>"?(An=On=="<Up>",jn=Ft.target?Ft.target.selectionEnd:0,ln=de.searchHistoryController.nextMatch(ln,An)||"",mn(ln),jn&&Ft.target&&(Ft.target.selectionEnd=Ft.target.selectionStart=Math.min(jn,Ft.target.value.length))):On&&On!="<Left>"&&On!="<Right>"&&de.searchHistoryController.reset(),ce=ln,ze()}function ze(){var Ft;try{Ft=es(y,ce,!0,!0)}catch{}Ft?y.scrollIntoView(ns(y,!b,Ft),30):(yn(y),y.scrollTo(re.left,re.top))}function Qe(Ft,ln,mn){var On=xe(Ft);On=="<Esc>"||On=="<C-c>"||On=="<C-[>"||On=="<BS>"&&ln==""?(de.searchHistoryController.pushInput(ln),de.searchHistoryController.reset(),es(y,(Z==null?void 0:Z.source)||""),yn(y),y.scrollTo(re.left,re.top),s.e_stop(Ft),Ue(y),mn(),y.focus()):On=="<Up>"||On=="<Down>"?s.e_stop(Ft):On=="<C-u>"&&(s.e_stop(Ft),mn(""))}switch(A.searchArgs.querySrc){case"prompt":var ut=de.macroModeState;if(ut.isPlaying){let ln=ut.replaySearchQueries.shift();ge(ln||"",!0,!1)}else Ji(y,{onClose:ve,prefix:_,desc:Kn("span",{$cursor:"pointer",onmousedown:function(ln){ln.preventDefault(),fe("pcre",!me("pcre")),this.textContent=Ne(),ze()}},Ne()),onKeyUp:Xe,onKeyDown:Qe});break;case"wordUnderCursor":var vt=Ze(y,{noSymbol:!0}),_t=!0;if(vt||(vt=Ze(y,{noSymbol:!1}),_t=!1),!vt){Sn(y,"No word under cursor"),Ue(y);return}let Ft=y.getLine(vt.start.line).substring(vt.start.ch,vt.end.ch);_t&&P?Ft="\\b"+Ft+"\\b":Ft=Qt(Ft),de.jumpList.cachedCursor=y.getCursor(),y.setCursor(vt.start),ge(Ft,!0,!1);break}},processEx:function(y,k,A){function b(re){de.exCommandHistoryController.pushInput(re),de.exCommandHistoryController.reset(),qn.processCommand(y,re),y.state.vim&&Ue(y),yn(y)}function P(re,ce,ge){var ve=xe(re),Ne,Xe;(ve=="<Esc>"||ve=="<C-c>"||ve=="<C-[>"||ve=="<BS>"&&ce=="")&&(de.exCommandHistoryController.pushInput(ce),de.exCommandHistoryController.reset(),s.e_stop(re),Ue(y),yn(y),ge(),y.focus()),ve=="<Up>"||ve=="<Down>"?(s.e_stop(re),Ne=ve=="<Up>",Xe=re.target?re.target.selectionEnd:0,ce=de.exCommandHistoryController.nextMatch(ce,Ne)||"",ge(ce),Xe&&re.target&&(re.target.selectionEnd=re.target.selectionStart=Math.min(Xe,re.target.value.length))):ve=="<C-u>"?(s.e_stop(re),ge("")):ve&&ve!="<Left>"&&ve!="<Right>"&&de.exCommandHistoryController.reset()}function _(re,ce){var ge=new s.StringStream(ce),ve={};try{if(qn.parseInput_(y,ge,ve),ve.commandName!="s"){yn(y);return}var Ne=qn.matchCommand_(ve.commandName);if(!Ne||(qn.parseCommandArgs_(ge,ve,Ne),!ve.argString))return;var Xe=gi(ve.argString.slice(1),!0,!0);Xe&&ts(y,Xe)}catch{}}if(A.type=="keyToEx")qn.processCommand(y,A.exArgs.input);else{var Z={onClose:b,onKeyDown:P,onKeyUp:_,prefix:":"};k.visualMode&&(Z.value="'<,'>",Z.selectValueOnOpen=!1),Ji(y,Z)}},evalInput:function(y,k){var A=k.inputState,b=A.motion,P=A.motionArgs||{repeat:1},_=A.operator,Z=A.operatorArgs||{},re=A.registerName,ce=k.sel,ge=Te(k.visualMode?Mt(y,ce.head):y.getCursor("head")),ve=Te(k.visualMode?Mt(y,ce.anchor):y.getCursor("anchor")),Ne=Te(ge),Xe=Te(ve),ze,Qe,ut;if(_&&this.recordLastEdit(k,A),A.repeatOverride!==void 0?ut=A.repeatOverride:ut=A.getRepeat(),ut>0&&P.explicitRepeat?P.repeatIsExplicit=!0:(P.noRepeat||!P.explicitRepeat&&ut===0)&&(ut=1,P.repeatIsExplicit=!1),A.selectedCharacter&&(P.selectedCharacter=Z.selectedCharacter=A.selectedCharacter),P.repeat=ut,Ue(y),b){var vt=tt[b](y,ge,P,k,A);if(k.lastMotion=tt[b],!vt)return;if(P.toJumplist){var _t=de.jumpList,Ft=_t.cachedCursor;Ft?(at(y,Ft,vt),delete _t.cachedCursor):at(y,ge,vt)}vt instanceof Array?(Qe=vt[0],ze=vt[1]):ze=vt,ze||(ze=Te(ge)),k.visualMode?(k.visualBlock&&ze.ch===1/0||(ze=Mt(y,ze,Ne)),Qe&&(Qe=Mt(y,Qe)),Qe=Qe||Xe,ce.anchor=Qe,ce.head=ze,ye(y),Nn(y,k,"<",Je(Qe,ze)?Qe:ze),Nn(y,k,">",Je(Qe,ze)?ze:Qe)):_||(ze=Mt(y,ze,Ne),y.setCursor(ze.line,ze.ch))}if(_){if(Z.lastSel){Qe=Xe;var ln=Z.lastSel,mn=Math.abs(ln.head.line-ln.anchor.line),On=Math.abs(ln.head.ch-ln.anchor.ch);ln.visualLine?ze=new e(Xe.line+mn,Xe.ch):ln.visualBlock?ze=new e(Xe.line+mn,Xe.ch+On):ln.head.line==ln.anchor.line?ze=new e(Xe.line,Xe.ch+On):ze=new e(Xe.line+mn,Xe.ch),k.visualMode=!0,k.visualLine=ln.visualLine,k.visualBlock=ln.visualBlock,ce=k.sel={anchor:Qe,head:ze},ye(y)}else k.visualMode&&(Z.lastSel={anchor:Te(ce.anchor),head:Te(ce.head),visualBlock:k.visualBlock,visualLine:k.visualLine});var An,jn,xn,hn,Vn;if(k.visualMode){An=Ge(ce.head,ce.anchor),jn=nn(ce.head,ce.anchor),xn=k.visualLine||Z.linewise,hn=k.visualBlock?"block":xn?"line":"char";var Xr=n(y,An,jn);if(Vn=B(y,{anchor:Xr.start,head:Xr.end},hn),xn){var Jn=Vn.ranges;if(hn=="block")for(var Pr=0;Pr<Jn.length;Pr++)Jn[Pr].head.ch=Ce(y,Jn[Pr].head.line);else hn=="line"&&(Jn[0].head=new e(Jn[0].head.line+1,0))}}else{if(An=Te(Qe||Xe),jn=Te(ze||Ne),Je(jn,An)){var ji=An;An=jn,jn=ji}xn=P.linewise||Z.linewise,xn?be(y,An,jn):P.forward&&he(y,An,jn),hn="char";var Mc=!P.inclusive||xn,Xr=n(y,An,jn);Vn=B(y,{anchor:Xr.start,head:Xr.end},hn,Mc)}y.setSelections(Vn.ranges,Vn.primary),k.lastMotion=null,Z.repeat=ut,Z.registerName=re,Z.linewise=xn;var Ha=We[_](y,Z,Vn.ranges,Xe,ze);k.visualMode&&q(y,Ha!=null),Ha&&y.setCursor(Ha)}},recordLastEdit:function(y,k,A){var b=de.macroModeState;b.isPlaying||(y.lastEditInputState=k,y.lastEditActionCommand=A,b.lastInsertModeChanges.changes=[],b.lastInsertModeChanges.expectCursorActivityForChange=!1,b.lastInsertModeChanges.visualBlock=y.visualBlock?y.sel.head.line-y.sel.anchor.line:0)}},tt={moveToTopLine:function(y,k,A){var b=rs(y).top+A.repeat-1;return new e(b,Ee(y.getLine(b)))},moveToMiddleLine:function(y){var k=rs(y),A=Math.floor((k.top+k.bottom)*.5);return new e(A,Ee(y.getLine(A)))},moveToBottomLine:function(y,k,A){var b=rs(y).bottom-A.repeat+1;return new e(b,Ee(y.getLine(b)))},expandToLine:function(y,k,A){var b=k;return new e(b.line+A.repeat-1,1/0)},findNext:function(y,k,A){var b=gr(y),P=b.getQuery();if(P){var _=!A.forward;_=b.isReversed()?!_:_,ts(y,P);var Z=ns(y,_,P,A.repeat);return Z||Sn(y,"No match found "+P+(me("pcre")?" (set nopcre to use Vim regexps)":"")),Z}},findAndSelectNextInclusive:function(y,k,A,b,P){var _=gr(y),Z=_.getQuery();if(Z){var re=!A.forward;re=_.isReversed()?!re:re;var ce=qa(y,re,Z,A.repeat,b);if(ce){if(P.operator)return ce;var ge=ce[0],ve=new e(ce[1].line,ce[1].ch-1);if(b.visualMode){(b.visualLine||b.visualBlock)&&(b.visualLine=!1,b.visualBlock=!1,s.signal(y,"vim-mode-change",{mode:"visual",subMode:""}));var Ne=b.sel.anchor;if(Ne)return _.isReversed()?A.forward?[Ne,ge]:[Ne,ve]:A.forward?[Ne,ve]:[Ne,ge]}else b.visualMode=!0,b.visualLine=!1,b.visualBlock=!1,s.signal(y,"vim-mode-change",{mode:"visual",subMode:""});return re?[ve,ge]:[ge,ve]}}},goToMark:function(y,k,A,b){var P=un(y,b,A.selectedCharacter||"");return P?A.linewise?{line:P.line,ch:Ee(y.getLine(P.line))}:P:null},moveToOtherHighlightedEnd:function(y,k,A,b){var P=b.sel;return b.visualBlock&&A.sameLine?[Mt(y,new e(P.anchor.line,P.head.ch)),Mt(y,new e(P.head.line,P.anchor.ch))]:[P.head,P.anchor]},jumpToMark:function(y,k,A,b){for(var P=k,_=0;_<A.repeat;_++){var Z=P;for(var re in b.marks)if(Y(re)){var ce=b.marks[re].find(),ge=A.forward?Je(ce,Z):Je(Z,ce);if(!ge&&!(A.linewise&&ce.line==Z.line)){var ve=we(Z,P),Ne=A.forward?Ht(Z,ce,P):Ht(P,ce,Z);(ve||Ne)&&(P=ce)}}}return A.linewise&&(P=new e(P.line,Ee(y.getLine(P.line)))),P},moveByCharacters:function(y,k,A){var b=k,P=A.repeat,_=A.forward?b.ch+P:b.ch-P;return new e(b.line,_)},moveByLines:function(y,k,A,b){var P=k,_=P.ch;switch(b.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:_=b.lastHPos;break;default:b.lastHPos=_}var Z=A.repeat+(A.repeatOffset||0),re=A.forward?P.line+Z:P.line-Z,ce=y.firstLine(),ge=y.lastLine(),ve=y.findPosV(P,A.forward?Z:-Z,"line",b.lastHSPos),Ne=A.forward?ve.line>re:ve.line<re;return Ne&&(re=ve.line,_=ve.ch),re<ce&&P.line==ce?this.moveToStartOfLine(y,k,A,b):re>ge&&P.line==ge?an(y,k,A,b,!0):(A.toFirstChar&&(_=Ee(y.getLine(re)),b.lastHPos=_),b.lastHSPos=y.charCoords(new e(re,_),"div").left,new e(re,_))},moveByDisplayLines:function(y,k,A,b){var P=k;switch(b.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:b.lastHSPos=y.charCoords(P,"div").left}var _=A.repeat,Z=y.findPosV(P,A.forward?_:-_,"line",b.lastHSPos);if(Z.hitSide)if(A.forward){var re=y.charCoords(Z,"div"),ce={top:re.top+8,left:b.lastHSPos};Z=y.coordsChar(ce,"div")}else{var ge=y.charCoords(new e(y.firstLine(),0),"div");ge.left=b.lastHSPos,Z=y.coordsChar(ge,"div")}return b.lastHPos=Z.ch,Z},moveByPage:function(y,k,A){var b=k,P=A.repeat;return y.findPosV(b,A.forward?P:-P,"page")},moveByParagraph:function(y,k,A){var b=A.forward?1:-1;return Hn(y,k,A.repeat,b).start},moveBySentence:function(y,k,A){var b=A.forward?1:-1;return Ki(y,k,A.repeat,b)},moveByScroll:function(y,k,A,b){var P=y.getScrollInfo(),_=null,Z=A.repeat;Z||(Z=P.clientHeight/(2*y.defaultTextHeight()));var re=y.charCoords(k,"local");if(A.repeat=Z,_=tt.moveByDisplayLines(y,k,A,b),!_)return null;var ce=y.charCoords(_,"local");return y.scrollTo(null,P.top+ce.top-re.top),_},moveByWords:function(y,k,A){return Jt(y,k,A.repeat,!!A.forward,!!A.wordEnd,!!A.bigWord)},moveTillCharacter:function(y,k,A){var b=A.repeat,P=vn(y,b,A.forward,A.selectedCharacter,k),_=A.forward?-1:1;return wt(_,A),P?(P.ch+=_,P):null},moveToCharacter:function(y,k,A){var b=A.repeat;return wt(0,A),vn(y,b,A.forward,A.selectedCharacter,k)||k},moveToSymbol:function(y,k,A){var b=A.repeat;return A.selectedCharacter&&Rt(y,b,A.forward,A.selectedCharacter)||k},moveToColumn:function(y,k,A,b){var P=A.repeat;return b.lastHPos=P-1,b.lastHSPos=y.charCoords(k,"div").left,En(y,P)},moveToEol:function(y,k,A,b){return an(y,k,A,b,!1)},moveToFirstNonWhiteSpaceCharacter:function(y,k){var A=k;return new e(A.line,Ee(y.getLine(A.line)))},moveToMatchedSymbol:function(y,k){for(var A=k,b=A.line,P=A.ch,_=y.getLine(b),Z;P<_.length;P++)if(Z=_.charAt(P),Z&&G(Z)){var re=y.getTokenTypeAt(new e(b,P+1));if(re!=="string"&&re!=="comment")break}if(P<_.length){var ce=Z==="<"||Z===">"?/[(){}[\]<>]/:/[(){}[\]]/,ge=y.findMatchingBracket(new e(b,P),{bracketRegex:ce});return ge.to}else return A},moveToStartOfLine:function(y,k){return new e(k.line,0)},moveToLineOrEdgeOfDocument:function(y,k,A){var b=A.forward?y.lastLine():y.firstLine();return A.repeatIsExplicit&&(b=A.repeat-y.getOption("firstLineNumber")),new e(b,Ee(y.getLine(b)))},moveToStartOfDisplayLine:function(y){return y.execCommand("goLineLeft"),y.getCursor()},moveToEndOfDisplayLine:function(y){y.execCommand("goLineRight");var k=y.getCursor();return k.sticky=="before"&&k.ch--,k},textObjectManipulation:function(y,k,A,b){var P={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},_={"'":!0,'"':!0,"`":!0},Z=A.selectedCharacter||"";Z=="b"?Z="(":Z=="B"&&(Z="{");var re=!A.textObjectInner,ce,ge;if(P[Z]){if(ge=!0,ce=mi(y,k,Z,re),!ce){var ve=y.getSearchCursor(new RegExp("\\"+Z,"g"),k);ve.find()&&(ce=mi(y,ve.from(),Z,re))}}else if(_[Z])ge=!0,ce=ta(y,k,Z,re);else if(Z==="W"||Z==="w")for(var Ne=A.repeat||1;Ne-- >0;){var Xe=Ze(y,{inclusive:re,innerWord:!re,bigWord:Z==="W",noSymbol:Z==="W",multiline:!0},ce&&ce.end);Xe&&(ce||(ce=Xe),ce.end=Xe.end)}else if(Z==="p")if(ce=Hn(y,k,A.repeat,0,re),A.linewise=!0,b.visualMode)b.visualLine||(b.visualLine=!0);else{var ze=b.inputState.operatorArgs;ze&&(ze.linewise=!0),ce.end.line--}else if(Z==="t")ce=rt(y,k,re);else if(Z==="s"){var Qe=y.getLine(k.line);k.ch>0&&ne(Qe[k.ch])&&(k.ch-=1);var ut=gn(y,k,A.repeat,1,re),vt=gn(y,k,A.repeat,-1,re);ee(y.getLine(vt.line)[vt.ch])&&ee(y.getLine(ut.line)[ut.ch-1])&&(vt={line:vt.line,ch:vt.ch+1}),ce={start:vt,end:ut}}return ce?y.state.vim.visualMode?Dt(y,ce.start,ce.end,ge):[ce.start,ce.end]:null},repeatLastCharacterSearch:function(y,k,A){var b=de.lastCharacterSearch,P=A.repeat,_=A.forward===b.forward,Z=(b.increment?1:0)*(_?-1:1);y.moveH(-Z,"char"),A.inclusive=!!_;var re=vn(y,P,_,b.selectedCharacter);return re?(re.ch+=Z,re):(y.moveH(Z,"char"),k)}};function De(y,k){tt[y]=k}function Me(y,k){for(var A=[],b=0;b<k;b++)A.push(y);return A}var We={change:function(y,k,A){var b,P,_=y.state.vim,Z=A[0].anchor,re=A[0].head;if(_.visualMode)if(k.fullLine)re.ch=Number.MAX_VALUE,re.line--,y.setSelection(Z,re),P=y.getSelection(),y.replaceSelection(""),b=Z;else{P=y.getSelection();var ve=Me("",A.length);y.replaceSelections(ve),b=Ge(A[0].head,A[0].anchor)}else{P=y.getRange(Z,re);var ce=_.lastEditInputState;if((ce==null?void 0:ce.motion)=="moveByWords"&&!ee(P)){var ge=/\s+$/.exec(P);ge&&ce.motionArgs&&ce.motionArgs.forward&&(re=et(re,0,-ge[0].length),P=P.slice(0,-ge[0].length))}k.linewise&&(Z=new e(Z.line,Ee(y.getLine(Z.line))),re.line>Z.line&&(re=new e(re.line-1,Number.MAX_VALUE))),y.replaceRange("",Z,re),b=Z}de.registerController.pushText(k.registerName,"change",P,k.linewise,A.length>1),ht.enterInsertMode(y,{head:b},y.state.vim)},delete:function(y,k,A){var b,P,_=y.state.vim;if(_.visualBlock){P=y.getSelection();var ce=Me("",A.length);y.replaceSelections(ce),b=Ge(A[0].head,A[0].anchor)}else{var Z=A[0].anchor,re=A[0].head;k.linewise&&re.line!=y.firstLine()&&Z.line==y.lastLine()&&Z.line==re.line-1&&(Z.line==y.firstLine()?Z.ch=0:Z=new e(Z.line-1,Ce(y,Z.line-1))),P=y.getRange(Z,re),y.replaceRange("",Z,re),b=Z,k.linewise&&(b=tt.moveToFirstNonWhiteSpaceCharacter(y,Z))}return de.registerController.pushText(k.registerName,"delete",P,k.linewise,_.visualBlock),Mt(y,b)},indent:function(y,k,A){var b=y.state.vim,P=b.visualMode&&k.repeat||1;if(b.visualBlock){for(var _=y.getOption("tabSize"),Z=y.getOption("indentWithTabs")?"	":" ".repeat(_),re,ce=A.length-1;ce>=0;ce--)if(re=Ge(A[ce].anchor,A[ce].head),k.indentRight)y.replaceRange(Z.repeat(P),re,re);else{for(var ge=y.getLine(re.line),ve=0,Ne=0;Ne<P;Ne++){var Xe=ge[re.ch+ve];if(Xe=="	")ve++;else if(Xe==" "){ve++;for(var ze=1;ze<Z.length&&(Xe=ge[re.ch+ve],Xe===" ");ze++)ve++}else break}y.replaceRange("",re,et(re,0,ve))}return re}else if(y.indentMore)for(var Ne=0;Ne<P;Ne++)k.indentRight?y.indentMore():y.indentLess();else{var Qe=A[0].anchor.line,ut=b.visualBlock?A[A.length-1].anchor.line:A[0].head.line;k.linewise&&ut--;for(var ce=Qe;ce<=ut;ce++)for(var Ne=0;Ne<P;Ne++)y.indentLine(ce,k.indentRight)}return tt.moveToFirstNonWhiteSpaceCharacter(y,A[0].anchor)},indentAuto:function(y,k,A){return y.execCommand("indentAuto"),tt.moveToFirstNonWhiteSpaceCharacter(y,A[0].anchor)},hardWrap:function(y,k,A,b){if(y.hardWrap){var P=A[0].anchor.line,_=A[0].head.line;k.linewise&&_--;var Z=y.hardWrap({from:P,to:_});return Z>P&&k.linewise&&Z--,k.keepCursor?b:new e(Z,0)}},changeCase:function(y,k,A,b,P){for(var _=y.getSelections(),Z=[],re=k.toLower,ce=0;ce<_.length;ce++){var ge=_[ce],ve="";if(re===!0)ve=ge.toLowerCase();else if(re===!1)ve=ge.toUpperCase();else for(var Ne=0;Ne<ge.length;Ne++){var Xe=ge.charAt(Ne);ve+=I(Xe)?Xe.toLowerCase():Xe.toUpperCase()}Z.push(ve)}return y.replaceSelections(Z),k.shouldMoveCursor?P:!y.state.vim.visualMode&&k.linewise&&A[0].anchor.line+1==A[0].head.line?tt.moveToFirstNonWhiteSpaceCharacter(y,b):k.linewise?b:Ge(A[0].anchor,A[0].head)},yank:function(y,k,A,b){var P=y.state.vim,_=y.getSelection(),Z=P.visualMode?Ge(P.sel.anchor,P.sel.head,A[0].head,A[0].anchor):b;return de.registerController.pushText(k.registerName,"yank",_,k.linewise,P.visualBlock),Z},rot13:function(y,k,A,b,P){for(var _=y.getSelections(),Z=[],re=0;re<_.length;re++){const ce=_[re].split("").map(ge=>{const ve=ge.charCodeAt(0);return ve>=65&&ve<=90?String.fromCharCode(65+(ve-65+13)%26):ve>=97&&ve<=122?String.fromCharCode(97+(ve-97+13)%26):ge}).join("");Z.push(ce)}return y.replaceSelections(Z),k.shouldMoveCursor?P:!y.state.vim.visualMode&&k.linewise&&A[0].anchor.line+1==A[0].head.line?tt.moveToFirstNonWhiteSpaceCharacter(y,b):k.linewise?b:Ge(A[0].anchor,A[0].head)}};function bt(y,k){We[y]=k}var ht={jumpListWalk:function(y,k,A){if(!A.visualMode){var b=k.repeat||1,P=k.forward,_=de.jumpList,Z=_.move(y,P?b:-b),re=Z?Z.find():void 0;re=re||y.getCursor(),y.setCursor(re)}},scroll:function(y,k,A){if(!A.visualMode){var b=k.repeat||1,P=y.defaultTextHeight(),_=y.getScrollInfo().top,Z=P*b,re=k.forward?_+Z:_-Z,ce=Te(y.getCursor()),ge=y.charCoords(ce,"local");if(k.forward)re>ge.top?(ce.line+=(re-ge.top)/P,ce.line=Math.ceil(ce.line),y.setCursor(ce),ge=y.charCoords(ce,"local"),y.scrollTo(null,ge.top)):y.scrollTo(null,re);else{var ve=re+y.getScrollInfo().clientHeight;ve<ge.bottom?(ce.line-=(ge.bottom-ve)/P,ce.line=Math.floor(ce.line),y.setCursor(ce),ge=y.charCoords(ce,"local"),y.scrollTo(null,ge.bottom-y.getScrollInfo().clientHeight)):y.scrollTo(null,re)}}},scrollToCursor:function(y,k){var A=y.getCursor().line,b=y.charCoords(new e(A,0),"local"),P=y.getScrollInfo().clientHeight,_=b.top;switch(k.position){case"center":_=b.bottom-P/2;break;case"bottom":var Z=new e(A,y.getLine(A).length-1),re=y.charCoords(Z,"local"),ce=re.bottom-_;_=_-P+ce;break}y.scrollTo(null,_)},replayMacro:function(y,k,A){var b=k.selectedCharacter||"",P=k.repeat||1,_=de.macroModeState;for(b=="@"?b=_.latestRegister||"":_.latestRegister=b;P--;)si(y,A,_,b)},enterMacroRecordMode:function(y,k){var A=de.macroModeState,b=k.selectedCharacter;de.registerController.isValidRegister(b)&&A.enterMacroRecordMode(y,b)},toggleOverwrite:function(y){y.state.overwrite?(y.toggleOverwrite(!1),y.setOption("keyMap","vim-insert"),s.signal(y,"vim-mode-change",{mode:"insert"})):(y.toggleOverwrite(!0),y.setOption("keyMap","vim-replace"),s.signal(y,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(y,k,A){if(!y.getOption("readOnly")){A.insertMode=!0,A.insertModeRepeat=k&&k.repeat||1;var b=k?k.insertAt:null,P=A.sel,_=k.head||y.getCursor("head"),Z=y.listSelections().length;if(b=="eol")_=new e(_.line,Ce(y,_.line));else if(b=="bol")_=new e(_.line,0);else if(b=="charAfter"){var re=n(y,_,et(_,0,1));_=re.end}else if(b=="firstNonBlank"){var re=n(y,_,tt.moveToFirstNonWhiteSpaceCharacter(y,_));_=re.end}else if(b=="startOfSelectedArea"){if(!A.visualMode)return;A.visualBlock?(_=new e(Math.min(P.head.line,P.anchor.line),Math.min(P.head.ch,P.anchor.ch)),Z=Math.abs(P.head.line-P.anchor.line)+1):P.head.line<P.anchor.line?_=P.head:_=new e(P.anchor.line,0)}else if(b=="endOfSelectedArea"){if(!A.visualMode)return;A.visualBlock?(_=new e(Math.min(P.head.line,P.anchor.line),Math.max(P.head.ch,P.anchor.ch)+1),Z=Math.abs(P.head.line-P.anchor.line)+1):P.head.line>=P.anchor.line?_=et(P.head,0,1):_=new e(P.anchor.line,0)}else if(b=="inplace"){if(A.visualMode)return}else b=="lastEdit"&&(_=ca(y)||_);y.setOption("disableInput",!1),k&&k.replace?(y.toggleOverwrite(!0),y.setOption("keyMap","vim-replace"),s.signal(y,"vim-mode-change",{mode:"replace"})):(y.toggleOverwrite(!1),y.setOption("keyMap","vim-insert"),s.signal(y,"vim-mode-change",{mode:"insert"})),de.macroModeState.isPlaying||(y.on("change",ua),A.insertEnd&&A.insertEnd.clear(),A.insertEnd=y.setBookmark(_,{insertLeft:!0}),s.on(y.getInputField(),"keydown",fa)),A.visualMode&&q(y),jt(y,_,Z)}},toggleVisualMode:function(y,k,A){var b=k.repeat,P=y.getCursor(),_;if(A.visualMode)A.visualLine!=!!k.linewise||A.visualBlock!=!!k.blockwise?(A.visualLine=!!k.linewise,A.visualBlock=!!k.blockwise,s.signal(y,"vim-mode-change",{mode:"visual",subMode:A.visualLine?"linewise":A.visualBlock?"blockwise":""}),ye(y)):q(y);else{A.visualMode=!0,A.visualLine=!!k.linewise,A.visualBlock=!!k.blockwise,_=Mt(y,new e(P.line,P.ch+b-1));var Z=n(y,P,_);A.sel={anchor:Z.start,head:Z.end},s.signal(y,"vim-mode-change",{mode:"visual",subMode:A.visualLine?"linewise":A.visualBlock?"blockwise":""}),ye(y),Nn(y,A,"<",Ge(P,_)),Nn(y,A,">",nn(P,_))}},reselectLastSelection:function(y,k,A){var b=A.lastSelection;if(A.visualMode&&Kt(y,A),b){var P=b.anchorMark.find(),_=b.headMark.find();if(!P||!_)return;A.sel={anchor:P,head:_},A.visualMode=!0,A.visualLine=b.visualLine,A.visualBlock=b.visualBlock,ye(y),Nn(y,A,"<",Ge(P,_)),Nn(y,A,">",nn(P,_)),s.signal(y,"vim-mode-change",{mode:"visual",subMode:A.visualLine?"linewise":A.visualBlock?"blockwise":""})}},joinLines:function(y,k,A){var b,P;if(A.visualMode){if(b=y.getCursor("anchor"),P=y.getCursor("head"),Je(P,b)){var _=P;P=b,b=_}P.ch=Ce(y,P.line)-1}else{var Z=Math.max(k.repeat,2);b=y.getCursor(),P=Mt(y,new e(b.line+Z-1,1/0))}for(var re=0,ce=b.line;ce<P.line;ce++){re=Ce(y,b.line);var ge="",ve=0;if(!k.keepSpaces){var Ne=y.getLine(b.line+1);ve=Ne.search(/\S/),ve==-1?ve=Ne.length:ge=" "}y.replaceRange(ge,new e(b.line,re),new e(b.line+1,ve))}var Xe=Mt(y,new e(b.line,re));A.visualMode&&q(y,!1),y.setCursor(Xe)},newLineAndEnterInsertMode:function(y,k,A){A.insertMode=!0;var b=Te(y.getCursor());if(b.line===y.firstLine()&&!k.after)y.replaceRange(`
`,new e(y.firstLine(),0)),y.setCursor(y.firstLine(),0);else{b.line=k.after?b.line:b.line-1,b.ch=Ce(y,b.line),y.setCursor(b);var P=s.commands.newlineAndIndentContinueComment||s.commands.newlineAndIndent;P(y)}this.enterInsertMode(y,{repeat:k.repeat},A)},paste:function(y,k,A){var b=de.registerController.getRegister(k.registerName);if(k.registerName==="+")navigator.clipboard.readText().then(_=>{this.continuePaste(y,k,A,_,b)});else{var P=b.toString();this.continuePaste(y,k,A,P,b)}},continuePaste:function(y,k,A,b,P){var _=Te(y.getCursor());if(b){if(k.matchIndent){var Z=y.getOption("tabSize"),re=function(Jn){var Pr=Jn.split("	").length-1,ji=Jn.split(" ").length-1;return Pr*Z+ji*1},ce=y.getLine(y.getCursor().line),ge=re(ce.match(/^\s*/)[0]),ve=b.replace(/\n$/,""),Ne=b!==ve,Xe=re(b.match(/^\s*/)[0]),b=ve.replace(/^\s*/gm,function(Jn){var Pr=ge+(re(Jn)-Xe);if(Pr<0)return"";if(y.getOption("indentWithTabs")){var ji=Math.floor(Pr/Z);return Array(ji+1).join("	")}else return Array(Pr+1).join(" ")});b+=Ne?`
`:""}k.repeat>1&&(b=Array(k.repeat+1).join(b));var ze=P.linewise,Qe=P.blockwise,ut=Qe?b.split(`
`):void 0;if(ut){ze&&ut.pop();for(var vt=0;vt<ut.length;vt++)ut[vt]=ut[vt]==""?" ":ut[vt];_.ch+=k.after?1:0,_.ch=Math.min(Ce(y,_.line),_.ch)}else ze?A.visualMode?b=A.visualLine?b.slice(0,-1):`
`+b.slice(0,b.length-1)+`
`:k.after?(b=`
`+b.slice(0,b.length-1),_.ch=Ce(y,_.line)):_.ch=0:_.ch+=k.after?1:0;var _t;if(A.visualMode){A.lastPastedText=b;var Ft,ln=ft(y),mn=ln[0],On=ln[1],An=y.getSelection(),jn=y.listSelections(),xn=new Array(jn.length).join("1").split("1");A.lastSelection&&(Ft=A.lastSelection.headMark.find()),de.registerController.unnamedRegister.setText(An),Qe?(y.replaceSelections(xn),On=new e(mn.line+b.length-1,mn.ch),y.setCursor(mn),$t(y,On),y.replaceSelections(b),_t=mn):A.visualBlock?(y.replaceSelections(xn),y.setCursor(mn),y.replaceRange(b,mn,mn),_t=mn):(y.replaceRange(b,mn,On),_t=y.posFromIndex(y.indexFromPos(mn)+b.length-1)),Ft&&(A.lastSelection.headMark=y.setBookmark(Ft)),ze&&(_t.ch=0)}else if(Qe&&ut){y.setCursor(_);for(var vt=0;vt<ut.length;vt++){var hn=_.line+vt;hn>y.lastLine()&&y.replaceRange(`
`,new e(hn,0));var Vn=Ce(y,hn);Vn<_.ch&&kt(y,hn,_.ch)}y.setCursor(_),$t(y,new e(_.line+ut.length-1,_.ch)),y.replaceSelections(ut),_t=_}else if(y.replaceRange(b,_),ze){var hn=k.after?_.line+1:_.line;_t=new e(hn,Ee(y.getLine(hn)))}else _t=Te(_),/\n/.test(b)||(_t.ch+=b.length-(k.after?1:0));A.visualMode&&q(y,!1),y.setCursor(_t)}},undo:function(y,k){y.operation(function(){Ve(y,s.commands.undo,k.repeat)(),y.setCursor(Mt(y,y.getCursor("start")))})},redo:function(y,k){Ve(y,s.commands.redo,k.repeat)()},setRegister:function(y,k,A){A.inputState.registerName=k.selectedCharacter},insertRegister:function(y,k,A){var b=k.selectedCharacter,P=de.registerController.getRegister(b),_=P&&P.toString();_&&y.replaceSelection(_)},oneNormalCommand:function(y,k,A){In(y,!0),A.insertModeReturn=!0,s.on(y,"vim-command-done",function b(){A.visualMode||(A.insertModeReturn&&(A.insertModeReturn=!1,A.insertMode||ht.enterInsertMode(y,{},A)),s.off(y,"vim-command-done",b))})},setMark:function(y,k,A){var b=k.selectedCharacter;b&&Nn(y,A,b,y.getCursor())},replace:function(y,k,A){var b=k.selectedCharacter||"",P=y.getCursor(),_,Z,re=y.listSelections();if(A.visualMode)P=y.getCursor("start"),Z=y.getCursor("end");else{var ce=y.getLine(P.line);_=P.ch+k.repeat,_>ce.length&&(_=ce.length),Z=new e(P.line,_)}var ge=n(y,P,Z);if(P=ge.start,Z=ge.end,b==`
`)A.visualMode||y.replaceRange("",P,Z),(s.commands.newlineAndIndentContinueComment||s.commands.newlineAndIndent)(y);else{var ve=y.getRange(P,Z);if(ve=ve.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b),ve=ve.replace(/[^\n]/g,b),A.visualBlock){var Ne=new Array(y.getOption("tabSize")+1).join(" ");ve=y.getSelection(),ve=ve.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b);var Xe=ve.replace(/\t/g,Ne).replace(/[^\n]/g,b).split(`
`);y.replaceSelections(Xe)}else y.replaceRange(ve,P,Z);A.visualMode?(P=Je(re[0].anchor,re[0].head)?re[0].anchor:re[0].head,y.setCursor(P),q(y,!1)):y.setCursor(et(Z,0,-1))}},incrementNumberToken:function(y,k){for(var A=y.getCursor(),b=y.getLine(A.line),P=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,_,Z,re,ce;(_=P.exec(b))!==null&&(Z=_.index,re=Z+_[0].length,!(A.ch<re)););if(!(!k.backtrack&&re<=A.ch)){if(_){var ge=_[2]||_[4],ve=_[3]||_[5],Ne=k.increase?1:-1,Xe={"0b":2,0:8,"":10,"0x":16}[ge.toLowerCase()],ze=parseInt(_[1]+ve,Xe)+Ne*k.repeat;ce=ze.toString(Xe);var Qe=ge?new Array(ve.length-ce.length+1+_[1].length).join("0"):"";ce.charAt(0)==="-"?ce="-"+ge+Qe+ce.substr(1):ce=ge+Qe+ce;var ut=new e(A.line,Z),vt=new e(A.line,re);y.replaceRange(ce,ut,vt)}else return;y.setCursor(new e(A.line,Z+ce.length-1))}},repeatLastEdit:function(y,k,A){var b=A.lastEditInputState;if(b){var P=k.repeat;P&&k.repeatIsExplicit?b.repeatOverride=P:P=b.repeatOverride||P,ai(y,A,P,!1)}},indent:function(y,k){y.indentLine(y.getCursor().line,k.indentRight)},exitInsertMode:function(y,k){In(y)}};function It(y,k){ht[y]=k}function Mt(y,k,A){var b=y.state.vim,P=b.insertMode||b.visualMode,_=Math.min(Math.max(y.firstLine(),k.line),y.lastLine()),Z=y.getLine(_),re=Z.length-1+ +!!P,ce=Math.min(Math.max(0,k.ch),re),ge=Z.charCodeAt(ce);if(56320<=ge&&ge<=57343){var ve=1;A&&A.line==_&&A.ch>ce&&(ve=-1),ce+=ve,ce>re&&(ce-=2)}return new e(_,ce)}function Bt(y){var k={};for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(k[A]=y[A]);return k}function et(y,k,A){return typeof k=="object"&&(A=k.ch,k=k.line),new e(y.line+k,y.ch+A)}function St(y,k,A,b){b.operator&&(A="operatorPending");for(var P,_=[],Z=[],re=D?k.length-c:0,ce=re;ce<k.length;ce++){var ge=k[ce];A=="insert"&&ge.context!="insert"||ge.context&&ge.context!=A||b.operator&&ge.type=="action"||!(P=Et(y,ge.keys))||(P=="partial"&&_.push(ge),P=="full"&&Z.push(ge))}return{partial:_,full:Z}}function Et(y,k){const A=k.slice(-11)=="<character>",b=k.slice(-10)=="<register>";if(A||b){var P=k.length-(A?11:10),_=y.slice(0,P),Z=k.slice(0,P);return _==Z&&y.length>P?"full":Z.indexOf(_)==0?"partial":!1}else return y==k?"full":k.indexOf(y)==0?"partial":!1}function Lt(y){var k=/^.*(<[^>]+>)$/.exec(y),A=k?k[1]:y.slice(-1);if(A.length>1)switch(A){case"<CR>":case"<S-CR>":A=`
`;break;case"<Space>":case"<S-Space>":A=" ";break;default:A="";break}return A}function Ve(y,k,A){return function(){for(var b=0;b<A;b++)k(y)}}function Te(y){return new e(y.line,y.ch)}function we(y,k){return y.ch==k.ch&&y.line==k.line}function Je(y,k){return y.line<k.line||y.line==k.line&&y.ch<k.ch}function Ge(y,k){return arguments.length>2&&(k=Ge.apply(void 0,Array.prototype.slice.call(arguments,1))),Je(y,k)?y:k}function nn(y,k){return arguments.length>2&&(k=nn.apply(void 0,Array.prototype.slice.call(arguments,1))),Je(y,k)?k:y}function Ht(y,k,A){var b=Je(y,k),P=Je(k,A);return b&&P}function Ce(y,k){return y.getLine(k).length}function Ot(y){return y.trim?y.trim():y.replace(/^\s+|\s+$/g,"")}function Qt(y){return y.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function kt(y,k,A){var b=Ce(y,k),P=new Array(A-b+1).join(" ");y.setCursor(new e(k,b)),y.replaceRange(P,y.getCursor())}function $t(y,k){var A=[],b=y.listSelections(),P=Te(y.clipPos(k)),_=!we(k,P),Z=y.getCursor("head"),re=rn(b,Z),ce=we(b[re].head,b[re].anchor),ge=b.length-1,ve=ge-re>re?ge:0,Ne=b[ve].anchor,Xe=Math.min(Ne.line,P.line),ze=Math.max(Ne.line,P.line),Qe=Ne.ch,ut=P.ch,vt=b[ve].head.ch-Qe,_t=ut-Qe;vt>0&&_t<=0?(Qe++,_||ut--):vt<0&&_t>=0?(Qe--,ce||ut++):vt<0&&_t==-1&&(Qe--,ut++);for(var Ft=Xe;Ft<=ze;Ft++){var ln={anchor:new e(Ft,Qe),head:new e(Ft,ut)};A.push(ln)}return y.setSelections(A),k.ch=ut,Ne.ch=Qe,Ne}function jt(y,k,A){for(var b=[],P=0;P<A;P++){var _=et(k,P,0);b.push({anchor:_,head:_})}y.setSelections(b,0)}function rn(y,k,A){for(var b=0;b<y.length;b++){var P=we(y[b].anchor,k),_=we(y[b].head,k);if(P||_)return b}return-1}function ft(y,k){var A=y.listSelections(),b=A[0],P=A[A.length-1],_=Je(b.anchor,b.head)?b.anchor:b.head,Z=Je(P.anchor,P.head)?P.head:P.anchor;return[_,Z]}function Kt(y,k){var A=k.sel.anchor,b=k.sel.head;k.lastPastedText&&(b=y.posFromIndex(y.indexFromPos(A)+k.lastPastedText.length),k.lastPastedText=void 0),k.lastSelection={anchorMark:y.setBookmark(A),headMark:y.setBookmark(b),anchor:Te(A),head:Te(b),visualMode:k.visualMode,visualLine:k.visualLine,visualBlock:k.visualBlock}}function Dt(y,k,A,b){var P=y.state.vim.sel,_=b?k:P.head,Z=b?k:P.anchor,re;return Je(A,k)&&(re=A,A=k,k=re),Je(_,Z)?(_=Ge(k,_),Z=nn(Z,A)):(Z=Ge(k,Z),_=nn(_,A),_=et(_,0,-1),_.ch==-1&&_.line!=y.firstLine()&&(_=new e(_.line-1,Ce(y,_.line-1)))),[Z,_]}function ye(y,k,A){var b=y.state.vim;k=k||b.sel,A||(A=b.visualLine?"line":b.visualBlock?"block":"char");var P=B(y,k,A);y.setSelections(P.ranges,P.primary)}function B(y,k,A,b){var P=Te(k.head),_=Te(k.anchor);if(A=="char"){var Z=!b&&!Je(k.head,k.anchor)?1:0,re=Je(k.head,k.anchor)?1:0;return P=et(k.head,0,Z),_=et(k.anchor,0,re),{ranges:[{anchor:_,head:P}],primary:0}}else if(A=="line"){if(Je(k.head,k.anchor))P.ch=0,_.ch=Ce(y,_.line);else{_.ch=0;var ce=y.lastLine();P.line>ce&&(P.line=ce),P.ch=Ce(y,P.line)}return{ranges:[{anchor:_,head:P}],primary:0}}else if(A=="block"){var ge=Math.min(_.line,P.line),ve=_.ch,Ne=Math.max(_.line,P.line),Xe=P.ch;ve<Xe?Xe+=1:ve+=1;for(var ze=Ne-ge+1,Qe=P.line==ge?0:ze-1,ut=[],vt=0;vt<ze;vt++)ut.push({anchor:new e(ge+vt,ve),head:new e(ge+vt,Xe)});return{ranges:ut,primary:Qe}}throw"never happens"}function oe(y){var k=y.getCursor("head");return y.getSelection().length==1&&(k=Ge(k,y.getCursor("anchor"))),k}function q(y,k){var A=y.state.vim;k!==!1&&y.setCursor(Mt(y,A.sel.head)),Kt(y,A),A.visualMode=!1,A.visualLine=!1,A.visualBlock=!1,A.insertMode||s.signal(y,"vim-mode-change",{mode:"normal"})}function he(y,k,A){var b=y.getRange(k,A);if(/\n\s*$/.test(b)){var P=b.split(`
`);P.pop();for(var _=P.pop();P.length>0&&_&&ee(_);_=P.pop())A.line--,A.ch=0;_?(A.line--,A.ch=Ce(y,A.line)):A.ch=0}}function be(y,k,A){k.ch=0,A.ch=0,A.line++}function Ee(y){if(!y)return 0;var k=y.search(/\S/);return k==-1?y.length:k}function Ze(y,{inclusive:k,innerWord:A,bigWord:b,noSymbol:P,multiline:_},Z){var re=Z||oe(y),ce=y.getLine(re.line),ge=ce,ve=re.line,Ne=ve,Xe=re.ch,ze,Qe=P?T[0]:E[0];if(A&&/\s/.test(ce.charAt(Xe)))Qe=function(mn){return/\s/.test(mn)};else{for(;!Qe(ce.charAt(Xe));)if(Xe++,Xe>=ce.length){if(!_)return null;Xe--,ze=zt(y,re,!0,b,!0);break}b?Qe=E[0]:(Qe=T[0],Qe(ce.charAt(Xe))||(Qe=T[1]))}for(var ut=Xe,vt=Xe;Qe(ce.charAt(vt))&&vt>=0;)vt--;if(vt++,ze)ut=ze.to,Ne=ze.line,ge=y.getLine(Ne),!ge&&ut==0&&ut++;else for(;Qe(ce.charAt(ut))&&ut<ce.length;)ut++;if(k){var _t=ut,Ft=re.ch<=vt&&/\s/.test(ce.charAt(re.ch));if(!Ft)for(;/\s/.test(ge.charAt(ut))&&ut<ge.length;)ut++;if(_t==ut||Ft){for(var ln=vt;/\s/.test(ce.charAt(vt-1))&&vt>0;)vt--;!vt&&!Ft&&(vt=ln)}}return{start:new e(ve,vt),end:new e(Ne,ut)}}function rt(y,k,A){var b=k;if(!s.findMatchingTag||!s.findEnclosingTag)return{start:b,end:b};var P=s.findMatchingTag(y,k)||s.findEnclosingTag(y,k);return!P||!P.open||!P.close?{start:b,end:b}:A?{start:P.open.from,end:P.close.to}:{start:P.open.to,end:P.close.from}}function at(y,k,A){we(k,A)||de.jumpList.add(y,k,A)}function wt(y,k){de.lastCharacterSearch.increment=y,de.lastCharacterSearch.forward=k.forward,de.lastCharacterSearch.selectedCharacter=k.selectedCharacter}var xt={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},dt={bracket:{isComplete:function(y){if(y.nextCh===y.symb){if(y.depth++,y.depth>=1)return!0}else y.nextCh===y.reverseSymb&&y.depth--;return!1}},section:{init:function(y){y.curMoveThrough=!0,y.symb=(y.forward?"]":"[")===y.symb?"{":"}"},isComplete:function(y){return y.index===0&&y.nextCh===y.symb}},comment:{isComplete:function(y){var k=y.lastCh==="*"&&y.nextCh==="/";return y.lastCh=y.nextCh,k}},method:{init:function(y){y.symb=y.symb==="m"?"{":"}",y.reverseSymb=y.symb==="{"?"}":"{"},isComplete:function(y){return y.nextCh===y.symb}},preprocess:{init:function(y){y.index=0},isComplete:function(y){var A;if(y.nextCh==="#"){var k=(A=y.lineText.match(/^#(\w+)/))==null?void 0:A[1];if(k==="endif"){if(y.forward&&y.depth===0)return!0;y.depth++}else if(k==="if"){if(!y.forward&&y.depth===0)return!0;y.depth--}if(k==="else"&&y.depth===0)return!0}return!1}}};function Rt(y,k,A,b){var P=Te(y.getCursor()),_=A?1:-1,Z=A?y.lineCount():-1,re=P.ch,ce=P.line,ge=y.getLine(ce),ve={lineText:ge,nextCh:ge.charAt(re),lastCh:null,index:re,symb:b,reverseSymb:(A?{")":"(","}":"{"}:{"(":")","{":"}"})[b],forward:A,depth:0,curMoveThrough:!1},Ne=xt[b];if(!Ne)return P;var Xe=dt[Ne].init,ze=dt[Ne].isComplete;for(Xe&&Xe(ve);ce!==Z&&k;){if(ve.index+=_,ve.nextCh=ve.lineText.charAt(ve.index),!ve.nextCh){if(ce+=_,ve.lineText=y.getLine(ce)||"",_>0)ve.index=0;else{var Qe=ve.lineText.length;ve.index=Qe>0?Qe-1:0}ve.nextCh=ve.lineText.charAt(ve.index)}ze(ve)&&(P.line=ce,P.ch=ve.index,k--)}return ve.nextCh||ve.curMoveThrough?new e(ce,ve.index):P}function zt(y,k,A,b,P){var _=k.line,Z=k.ch,re=y.getLine(_),ce=A?1:-1,ge=b?E:T;if(P&&re==""){if(_+=ce,re=y.getLine(_),!X(y,_))return null;Z=A?0:re.length}for(;;){if(P&&re=="")return{from:0,to:0,line:_};for(var ve=ce>0?re.length:-1,Ne=ve,Xe=ve;Z!=ve;){for(var ze=!1,Qe=0;Qe<ge.length&&!ze;++Qe)if(ge[Qe](re.charAt(Z))){for(Ne=Z;Z!=ve&&ge[Qe](re.charAt(Z));)Z+=ce;if(Xe=Z,ze=Ne!=Xe,Ne==k.ch&&_==k.line&&Xe==Ne+ce)continue;return{from:Math.min(Ne,Xe+1),to:Math.max(Ne,Xe),line:_}}ze||(Z+=ce)}if(_+=ce,!X(y,_))return null;re=y.getLine(_),Z=ce>0?0:re.length}}function Jt(y,k,A,b,P,_){var Z=Te(k),re=[];(b&&!P||!b&&P)&&A++;for(var ce=!(b&&P),ge=0;ge<A;ge++){var ve=zt(y,k,b,_,ce);if(!ve){var Ne=Ce(y,y.lastLine());re.push(b?{line:y.lastLine(),from:Ne,to:Ne}:{line:0,from:0,to:0});break}re.push(ve),k=new e(ve.line,b?ve.to-1:ve.from)}var Xe=re.length!=A,ze=re[0],Qe=re.pop();return b&&!P?(!Xe&&(ze.from!=Z.ch||ze.line!=Z.line)&&(Qe=re.pop()),Qe&&new e(Qe.line,Qe.from)):b&&P?Qe&&new e(Qe.line,Qe.to-1):!b&&P?(!Xe&&(ze.to!=Z.ch||ze.line!=Z.line)&&(Qe=re.pop()),Qe&&new e(Qe.line,Qe.to)):Qe&&new e(Qe.line,Qe.from)}function an(y,k,A,b,P){var _=k,Z=new e(_.line+A.repeat-1,1/0),re=y.clipPos(Z);return re.ch--,P||(b.lastHPos=1/0,b.lastHSPos=y.charCoords(re,"div").left),Z}function vn(y,k,A,b,P){if(b){for(var _=P||y.getCursor(),Z=_.ch,re,ce=0;ce<k;ce++){var ge=y.getLine(_.line);if(re=Cr(Z,ge,b,A),re==-1)return;Z=re}if(re!=null)return new e(y.getCursor().line,re)}}function En(y,k){var A=y.getCursor().line;return Mt(y,new e(A,k-1))}function Nn(y,k,A,b){!z(A,R)&&!$.test(A)||(k.marks[A]&&k.marks[A].clear(),k.marks[A]=y.setBookmark(b))}function Cr(y,k,A,b,P){var _;return b?_=k.indexOf(A,y+1):_=k.lastIndexOf(A,y-1),_}function Hn(y,k,A,b,P){var _=k.line,Z=y.firstLine(),re=y.lastLine(),ce,ge,ve=_;function Ne(vt){return!y.getLine(vt)}function Xe(vt,_t,Ft){return Ft?Ne(vt)!=Ne(vt+_t):!Ne(vt)&&Ne(vt+_t)}if(b){for(;Z<=ve&&ve<=re&&A>0;)Xe(ve,b)&&A--,ve+=b;return{start:new e(ve,0),end:k}}var ze=y.state.vim;if(ze.visualLine&&Xe(_,1,!0)){var Qe=ze.sel.anchor;Xe(Qe.line,-1,!0)&&(!P||Qe.line!=_)&&(_+=1)}var ut=Ne(_);for(ve=_;ve<=re&&A;ve++)Xe(ve,1,!0)&&(!P||Ne(ve)!=ut)&&A--;for(ge=new e(ve,0),ve>re&&!ut?ut=!0:P=!1,ve=_;ve>Z&&!((!P||Ne(ve)==ut||ve==_)&&Xe(ve,-1,!0));ve--);return ce=new e(ve,0),{start:ce,end:ge}}function gn(y,k,A,b,P){function _(ge){ge.line!==null&&(ge.pos+ge.dir<0||ge.pos+ge.dir>=ge.line.length?ge.line=null:ge.pos+=ge.dir)}function Z(ge,ve,Ne,Xe){var ze=ge.getLine(ve),Qe={line:ze,ln:ve,pos:Ne,dir:Xe};if(Qe.line==="")return{ln:Qe.ln,pos:Qe.pos};var ut=Qe.pos;for(_(Qe);Qe.line!==null;){if(ut=Qe.pos,ne(Qe.line[Qe.pos]))if(P){for(_(Qe);Qe.line!==null&&ee(Qe.line[Qe.pos]);)ut=Qe.pos,_(Qe);return{ln:Qe.ln,pos:ut+1}}else return{ln:Qe.ln,pos:Qe.pos+1};_(Qe)}return{ln:Qe.ln,pos:ut+1}}function re(ge,ve,Ne,Xe){var ze=ge.getLine(ve),Qe={line:ze,ln:ve,pos:Ne,dir:Xe};if(Qe.line==="")return{ln:Qe.ln,pos:Qe.pos};var ut=Qe.pos;for(_(Qe);Qe.line!==null;){if(!ee(Qe.line[Qe.pos])&&!ne(Qe.line[Qe.pos]))ut=Qe.pos;else if(ne(Qe.line[Qe.pos]))return P?ee(Qe.line[Qe.pos+1])?{ln:Qe.ln,pos:Qe.pos+1}:{ln:Qe.ln,pos:ut}:{ln:Qe.ln,pos:ut};_(Qe)}return Qe.line=ze,P&&ee(Qe.line[Qe.pos])?{ln:Qe.ln,pos:Qe.pos}:{ln:Qe.ln,pos:ut}}for(var ce={ln:k.line,pos:k.ch};A>0;)b<0?ce=re(y,ce.ln,ce.pos,b):ce=Z(y,ce.ln,ce.pos,b),A--;return new e(ce.ln,ce.pos)}function Ki(y,k,A,b){function P(ce,ge){if(ge.line!==null)if(ge.pos+ge.dir<0||ge.pos+ge.dir>=ge.line.length){if(ge.ln+=ge.dir,!X(ce,ge.ln)){ge.line=null;return}ge.line=ce.getLine(ge.ln),ge.pos=ge.dir>0?0:ge.line.length-1}else ge.pos+=ge.dir}function _(ce,ge,ve,Ne){var vt=ce.getLine(ge),Xe=vt==="",ze={line:vt,ln:ge,pos:ve,dir:Ne},Qe={ln:ze.ln,pos:ze.pos},ut=ze.line==="";for(P(ce,ze);ze.line!==null;){if(Qe.ln=ze.ln,Qe.pos=ze.pos,ze.line===""&&!ut)return{ln:ze.ln,pos:ze.pos};if(Xe&&ze.line!==""&&!ee(ze.line[ze.pos]))return{ln:ze.ln,pos:ze.pos};ne(ze.line[ze.pos])&&!Xe&&(ze.pos===ze.line.length-1||ee(ze.line[ze.pos+1]))&&(Xe=!0),P(ce,ze)}var vt=ce.getLine(Qe.ln);Qe.pos=0;for(var _t=vt.length-1;_t>=0;--_t)if(!ee(vt[_t])){Qe.pos=_t;break}return Qe}function Z(ce,ge,ve,Ne){var vt=ce.getLine(ge),Xe={line:vt,ln:ge,pos:ve,dir:Ne},ze=Xe.ln,Qe=null,ut=Xe.line==="";for(P(ce,Xe);Xe.line!==null;){if(Xe.line===""&&!ut)return Qe!==null?{ln:ze,pos:Qe}:{ln:Xe.ln,pos:Xe.pos};if(ne(Xe.line[Xe.pos])&&Qe!==null&&!(Xe.ln===ze&&Xe.pos+1===Qe))return{ln:ze,pos:Qe};Xe.line!==""&&!ee(Xe.line[Xe.pos])&&(ut=!1,ze=Xe.ln,Qe=Xe.pos),P(ce,Xe)}var vt=ce.getLine(ze);Qe=0;for(var _t=0;_t<vt.length;++_t)if(!ee(vt[_t])){Qe=_t;break}return{ln:ze,pos:Qe}}for(var re={ln:k.line,pos:k.ch};A>0;)b<0?re=Z(y,re.ln,re.pos,b):re=_(y,re.ln,re.pos,b),A--;return new e(re.ln,re.pos)}function mi(y,k,A,b){var P=k,_={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[A],Z={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[A],re=y.getLine(P.line).charAt(P.ch),ce=re===Z?1:0,ge=y.scanForBracket(new e(P.line,P.ch+ce),-1,void 0,{bracketRegex:_}),ve=y.scanForBracket(new e(P.line,P.ch+ce),1,void 0,{bracketRegex:_});if(!ge||!ve)return null;var Ne=ge.pos,Xe=ve.pos;if(Ne.line==Xe.line&&Ne.ch>Xe.ch||Ne.line>Xe.line){var ze=Ne;Ne=Xe,Xe=ze}return b?Xe.ch+=1:Ne.ch+=1,{start:Ne,end:Xe}}function ta(y,k,A,b){var P=Te(k),_=y.getLine(P.line),Z=_.split(""),re,ce,ge,ve,Ne=Z.indexOf(A);if(P.ch<Ne)P.ch=Ne;else if(Ne<P.ch&&Z[P.ch]==A){var Xe=/string/.test(y.getTokenTypeAt(et(k,0,1))),ze=/string/.test(y.getTokenTypeAt(k)),Qe=Xe&&!ze;Qe||(ce=P.ch,--P.ch)}if(Z[P.ch]==A&&!ce)re=P.ch+1;else for(ge=P.ch;ge>-1&&!re;ge--)Z[ge]==A&&(re=ge+1);if(re&&!ce)for(ge=re,ve=Z.length;ge<ve&&!ce;ge++)Z[ge]==A&&(ce=ge);return!re||!ce?{start:P,end:P}:(b&&(--re,++ce),{start:new e(P.line,re),end:new e(P.line,ce)})}H("pcre",!0,"boolean");class na{constructor(){this.highlightTimeout}getQuery(){return de.query}setQuery(k){de.query=k}getOverlay(){return this.searchOverlay}setOverlay(k){this.searchOverlay=k}isReversed(){return de.isReversed}setReversed(k){de.isReversed=k}getScrollbarAnnotate(){return this.annotate}setScrollbarAnnotate(k){this.annotate=k}}function gr(y){var k=y.state.vim;return k.searchState_||(k.searchState_=new na)}function ra(y){return As(y,"/")}function ia(y){return Rs(y,"/")}function As(y,k){var A=Rs(y,k)||[];if(!A.length)return[];var b=[];if(A[0]===0){for(var P=0;P<A.length;P++)typeof A[P]=="number"&&b.push(y.substring(A[P]+1,A[P+1]));return b}}function Rs(y,k){k||(k="/");for(var A=!1,b=[],P=0;P<y.length;P++){var _=y.charAt(P);!A&&_==k&&b.push(P),A=!A&&_=="\\"}return b}function Xa(y){var k={V:"|(){+?*.[$^",M:"|(){+?*.[",m:"|(){+?",v:"<>"},A={">":"(?<=[\\w])(?=[^\\w]|$)","<":"(?<=[^\\w]|^)(?=[\\w])"},b=k.m,P=y.replace(/\\.|[\[|(){+*?.$^<>]/g,function(Z){if(Z[0]==="\\"){var re=Z[1];return re==="}"||b.indexOf(re)!=-1?re:re in k?(b=k[re],""):re in A?A[re]:Z}else return b.indexOf(Z)!=-1?A[Z]||"\\"+Z:Z}),_=P.indexOf("\\zs");return _!=-1&&(P="(?<="+P.slice(0,_)+")"+P.slice(_+3)),_=P.indexOf("\\ze"),_!=-1&&(P=P.slice(0,_)+"(?="+P.slice(_+3)+")"),P}var za={"\\n":`
`,"\\r":"\r","\\t":"	"};function sa(y){for(var k=!1,A=[],b=-1;b<y.length;b++){var P=y.charAt(b)||"",_=y.charAt(b+1)||"";za[P+_]?(A.push(za[P+_]),b++):k?(A.push(P),k=!1):P==="\\"?(k=!0,L(_)||_==="$"?A.push("$"):_!=="/"&&_!=="\\"&&A.push("\\")):(P==="$"&&A.push("$"),A.push(P),_==="/"&&A.push("\\"))}return A.join("")}var Di={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function Ur(y){for(var k=new s.StringStream(y),A=[];!k.eol();){for(;k.peek()&&k.peek()!="\\";)A.push(k.next());var b=!1;for(var P in Di)if(k.match(P,!0)){b=!0,A.push(Di[P]);break}b||A.push(k.next())}return A.join("")}function gi(y,k,A){var b=de.registerController.getRegister("/");b.setText(y);var P=ia(y),_,Z;if(!P.length)_=y;else{_=y.substring(0,P[0]);var re=y.substring(P[0]);Z=re.indexOf("i")!=-1}if(!_)return null;me("pcre")||(_=Xa(_)),A&&(k=/^[^A-Z]*$/.test(_));var ce=new RegExp(_,k||Z?"im":"m");return ce}function Kn(y){typeof y=="string"&&(y=document.createElement(y));for(var k=1;k<arguments.length;k++){var A=arguments[k];if(A)if(typeof A!="object"&&(A=document.createTextNode(A)),A.nodeType)y.appendChild(A);else for(var b in A)Object.prototype.hasOwnProperty.call(A,b)&&(b[0]==="$"?y.style[b.slice(1)]=A[b]:typeof A[b]=="function"?y[b]=A[b]:y.setAttribute(b,A[b]))}return y}function Sn(y,k,A){var b=Kn("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},k);y.openNotification?A?(b=Kn("div",{},b,Kn("div",{},"Press ENTER or type command to continue")),y.state.closeVimNotification&&y.state.closeVimNotification(),y.state.closeVimNotification=y.openNotification(b,{bottom:!0,duration:0})):y.openNotification(b,{bottom:!0,duration:15e3}):alert(b.innerText)}function aa(y,k){return Kn("div",{$display:"flex",$flex:1},Kn("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1,$display:"flex"},y,Kn("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$flex:1})),k&&Kn("span",{$color:"#888"},k))}function Ji(y,k){var P;if(te.length){k.value||(k.value=""),F=k;return}var A=aa(k.prefix,k.desc);if(y.openDialog)y.openDialog(A,k.onClose,{onKeyDown:k.onKeyDown,onKeyUp:k.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:k.value});else{var b="";typeof k.prefix!="string"&&k.prefix&&(b+=k.prefix.textContent),k.desc&&(b+=" "+k.desc),(P=k.onClose)==null||P.call(k,prompt(b,""))}}function oa(y,k){return y instanceof RegExp&&k instanceof RegExp?y.flags==k.flags&&y.source==k.source:!1}function es(y,k,A,b){if(k){var P=gr(y),_=gi(k,!!A,!!b);if(_)return ts(y,_),oa(_,P.getQuery())||P.setQuery(_),_}}function Mi(y){if(y.source.charAt(0)=="^")var k=!0;return{token:function(A){if(k&&!A.sol()){A.skipToEnd();return}var b=A.match(y,!1);if(b)return b[0].length==0?(A.next(),"searching"):!A.sol()&&(A.backUp(1),!y.exec(A.next()+b[0]))?(A.next(),null):(A.match(y),"searching");for(;!A.eol()&&(A.next(),!A.match(y,!1)););},query:y}}var $i=0;function ts(y,k){clearTimeout($i);var A=gr(y);A.highlightTimeout=$i,$i=setTimeout(function(){if(y.state.vim){var b=gr(y);b.highlightTimeout=void 0;var P=b.getOverlay();(!P||k!=P.query)&&(P&&y.removeOverlay(P),P=Mi(k),y.addOverlay(P),y.showMatchesOnScrollbar&&(b.getScrollbarAnnotate()&&b.getScrollbarAnnotate().clear(),b.setScrollbarAnnotate(y.showMatchesOnScrollbar(k))),b.setOverlay(P))}},50)}function ns(y,k,A,b){return y.operation(function(){b===void 0&&(b=1);for(var P=y.getCursor(),_=y.getSearchCursor(A,P),Z=0;Z<b;Z++){var re=_.find(k);if(Z==0&&re&&we(_.from(),P)){var ce=k?_.from():_.to();re=_.find(k),re&&!re[0]&&we(_.from(),ce)&&y.getLine(ce.line).length==ce.ch&&(re=_.find(k))}if(!re&&(_=y.getSearchCursor(A,k?new e(y.lastLine()):new e(y.firstLine(),0)),!_.find(k)))return}return _.from()})}function qa(y,k,A,b,P){return y.operation(function(){b===void 0&&(b=1);var _=y.getCursor(),Z=y.getSearchCursor(A,_),re=Z.find(!k);!P.visualMode&&re&&we(Z.from(),_)&&Z.find(!k);for(var ce=0;ce<b;ce++)if(re=Z.find(k),!re&&(Z=y.getSearchCursor(A,k?new e(y.lastLine()):new e(y.firstLine(),0)),!Z.find(k)))return;var ge=Z.from(),ve=Z.to();return ge&&ve&&[ge,ve]})}function yn(y){var k=gr(y);k.highlightTimeout&&(clearTimeout(k.highlightTimeout),k.highlightTimeout=void 0),y.removeOverlay(gr(y).getOverlay()),k.setOverlay(null),k.getScrollbarAnnotate()&&(k.getScrollbarAnnotate().clear(),k.setScrollbarAnnotate(null))}function la(y,k,A){return typeof y!="number"&&(y=y.line),k instanceof Array?z(y,k):typeof A=="number"?y>=k&&y<=A:y==k}function rs(y){var k=y.getScrollInfo(),A=6,b=10,P=y.coordsChar({left:0,top:A+k.top},"local"),_=k.clientHeight-b+k.top,Z=y.coordsChar({left:0,top:_},"local");return{top:P.line,bottom:Z.line}}function un(y,k,A){if(A=="'"||A=="`")return de.jumpList.find(y,-1)||new e(0,0);if(A==".")return ca(y);var b=k.marks[A];return b&&b.find()}function ca(y){if(y.getLastEditEnd)return y.getLastEditEnd();for(var k=y.doc.history.done,A=k.length;A--;)if(k[A].changes)return Te(k[A].changes[0].to)}class hr{constructor(){this.commandMap_,this.buildCommandMap_()}processCommand(k,A,b){var P=this;k.operation(function(){k.curOp&&(k.curOp.isVimOp=!0),P._processCommand(k,A,b)})}_processCommand(k,A,b){var P=k.state.vim,_=de.registerController.getRegister(":"),Z=_.toString(),re=new s.StringStream(A);_.setText(A);var ce=b||{};ce.input=A;try{this.parseInput_(k,re,ce)}catch(Ne){throw Sn(k,Ne+""),Ne}P.visualMode&&q(k);var ge,ve;if(!ce.commandName)ce.line!==void 0&&(ve="move");else if(ge=this.matchCommand_(ce.commandName),ge){if(ve=ge.name,ge.excludeFromCommandHistory&&_.setText(Z),this.parseCommandArgs_(re,ce,ge),ge.type=="exToKey"){W(k,ge.toKeys||"",ge);return}else if(ge.type=="exToEx"){this.processCommand(k,ge.toInput||"");return}}if(!ve){Sn(k,'Not an editor command ":'+A+'"');return}try{Li[ve](k,ce),(!ge||!ge.possiblyAsync)&&ce.callback&&ce.callback()}catch(Ne){throw Sn(k,Ne+""),Ne}}parseInput_(k,A,b){var _,Z;A.eatWhile(":"),A.eat("%")?(b.line=k.firstLine(),b.lineEnd=k.lastLine()):(b.line=this.parseLineSpec_(k,A),b.line!==void 0&&A.eat(",")&&(b.lineEnd=this.parseLineSpec_(k,A))),b.line==null?k.state.vim.visualMode?(b.selectionLine=(_=un(k,k.state.vim,"<"))==null?void 0:_.line,b.selectionLineEnd=(Z=un(k,k.state.vim,">"))==null?void 0:Z.line):b.selectionLine=k.getCursor().line:(b.selectionLine=b.line,b.selectionLineEnd=b.lineEnd);var P=A.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return P?b.commandName=P[1]:b.commandName=(A.match(/.*/)||[""])[0],b}parseLineSpec_(k,A){var b=A.match(/^(\d+)/);if(b)return parseInt(b[1],10)-1;switch(A.next()){case".":return this.parseLineSpecOffset_(A,k.getCursor().line);case"$":return this.parseLineSpecOffset_(A,k.lastLine());case"'":var P=A.next()||"",_=un(k,k.state.vim,P);if(!_)throw new Error("Mark not set");return this.parseLineSpecOffset_(A,_.line);case"-":case"+":return A.backUp(1),this.parseLineSpecOffset_(A,k.getCursor().line);default:A.backUp(1);return}}parseLineSpecOffset_(k,A){var b=k.match(/^([+-])?(\d+)/);if(b){var P=parseInt(b[2],10);b[1]=="-"?A-=P:A+=P}return A}parseCommandArgs_(k,A,b){var Z;if(!k.eol()){A.argString=(Z=k.match(/.*/))==null?void 0:Z[0];var P=b.argDelimiter||/\s+/,_=Ot(A.argString||"").split(P);_.length&&_[0]&&(A.args=_)}}matchCommand_(k){for(var A=k.length;A>0;A--){var b=k.substring(0,A);if(this.commandMap_[b]){var P=this.commandMap_[b];if(P.name.indexOf(k)===0)return P}}}buildCommandMap_(){this.commandMap_={};for(var k=0;k<u.length;k++){var A=u[k],b=A.shortName||A.name;this.commandMap_[b]=A}}map(k,A,b,P){if(k!=":"&&k.charAt(0)==":"){if(b)throw Error("Mode not supported for ex mappings");var _=k.substring(1);A!=":"&&A.charAt(0)==":"?this.commandMap_[_]={name:_,type:"exToEx",toInput:A.substring(1),user:!0}:this.commandMap_[_]={name:_,type:"exToKey",toKeys:A,user:!0}}else{var Z={keys:k,type:"keyToKey",toKeys:A,noremap:!!P};b&&(Z.context=b),Bn(Z)}}unmap(k,A){if(k!=":"&&k.charAt(0)==":"){if(A)throw Error("Mode not supported for ex mappings");var b=k.substring(1);if(this.commandMap_[b]&&this.commandMap_[b].user)return delete this.commandMap_[b],!0}else for(var P=k,_=0;_<r.length;_++)if(P==r[_].keys&&r[_].context===A)return r.splice(_,1),$r(P),!0}}var Li={colorscheme:function(y,k){if(!k.args||k.args.length<1){Sn(y,y.getOption("theme"));return}y.setOption("theme",k.args[0])},map:function(y,k,A,b){var P=k.args;if(!P||P.length<2){y&&Sn(y,"Invalid mapping: "+k.input);return}qn.map(P[0],P[1],A,b)},imap:function(y,k){this.map(y,k,"insert")},nmap:function(y,k){this.map(y,k,"normal")},vmap:function(y,k){this.map(y,k,"visual")},omap:function(y,k){this.map(y,k,"operatorPending")},noremap:function(y,k){this.map(y,k,void 0,!0)},inoremap:function(y,k){this.map(y,k,"insert",!0)},nnoremap:function(y,k){this.map(y,k,"normal",!0)},vnoremap:function(y,k){this.map(y,k,"visual",!0)},onoremap:function(y,k){this.map(y,k,"operatorPending",!0)},unmap:function(y,k,A){var b=k.args;(!b||b.length<1||!qn.unmap(b[0],A))&&y&&Sn(y,"No such mapping: "+k.input)},mapclear:function(y,k){it.mapclear()},imapclear:function(y,k){it.mapclear("insert")},nmapclear:function(y,k){it.mapclear("normal")},vmapclear:function(y,k){it.mapclear("visual")},omapclear:function(y,k){it.mapclear("operatorPending")},move:function(y,k){Pt.processCommand(y,y.state.vim,{keys:"",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:k.line+1})},set:function(y,k){var A=k.args,b=k.setCfg||{};if(!A||A.length<1){y&&Sn(y,"Invalid mapping: "+k.input);return}var P=A[0].split("="),_=P.shift()||"",Z=P.length>0?P.join("="):void 0,re=!1,ce=!1;if(_.charAt(_.length-1)=="?"){if(Z)throw Error("Trailing characters: "+k.argString);_=_.substring(0,_.length-1),re=!0}else _.charAt(_.length-1)=="!"&&(_=_.substring(0,_.length-1),ce=!0);Z===void 0&&_.substring(0,2)=="no"&&(_=_.substring(2),Z=!1);var ge=ae[_]&&ae[_].type=="boolean";if(ge&&(ce?Z=!me(_,y,b):Z==null&&(Z=!0)),!ge&&Z===void 0||re){var ve=me(_,y,b);ve instanceof Error?Sn(y,ve.message):ve===!0||ve===!1?Sn(y," "+(ve?"":"no")+_):Sn(y,"  "+_+"="+ve)}else{var Ne=fe(_,Z,y,b);Ne instanceof Error&&Sn(y,Ne.message)}},setlocal:function(y,k){k.setCfg={scope:"local"},this.set(y,k)},setglobal:function(y,k){k.setCfg={scope:"global"},this.set(y,k)},registers:function(y,k){var A=k.args,b=de.registerController.registers,P=`----------Registers----------

`;if(A)for(var re=A.join(""),ce=0;ce<re.length;ce++){var _=re.charAt(ce);if(de.registerController.isValidRegister(_)){var ge=b[_]||new qe;P+='"'+_+"    "+ge.toString()+`
`}}else for(var _ in b){var Z=b[_].toString();Z.length&&(P+='"'+_+"    "+Z+`
`)}Sn(y,P,!0)},marks:function(y,k){var A=k.args,b=y.state.vim.marks,P=`-----------Marks-----------
mark	line	col

`;if(A)for(var re=A.join(""),ce=0;ce<re.length;ce++){var _=re.charAt(ce),Z=b[_]&&b[_].find();Z&&(P+=_+"	"+Z.line+"	"+Z.ch+`
`)}else for(var _ in b){var Z=b[_]&&b[_].find();Z&&(P+=_+"	"+Z.line+"	"+Z.ch+`
`)}Sn(y,P,!0)},sort:function(y,k){var A,b,P,_,Z;function re(){if(k.argString){var xn=new s.StringStream(k.argString);if(xn.eat("!")&&(A=!0),xn.eol())return;if(!xn.eatSpace())return"Invalid arguments";var hn=xn.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!hn||!xn.eol())return"Invalid arguments";if(hn[1]){b=hn[1].indexOf("i")!=-1,P=hn[1].indexOf("u")!=-1;var Vn=hn[1].indexOf("d")!=-1||hn[1].indexOf("n")!=-1,Xr=hn[1].indexOf("x")!=-1,Jn=hn[1].indexOf("o")!=-1;if(Number(Vn)+Number(Xr)+Number(Jn)>1)return"Invalid arguments";_=Vn&&"decimal"||Xr&&"hex"||Jn&&"octal"}hn[2]&&(Z=new RegExp(hn[2].substr(1,hn[2].length-2),b?"i":""))}}var ce=re();if(ce){Sn(y,ce+": "+k.argString);return}var ge=k.line||y.firstLine(),ve=k.lineEnd||k.line||y.lastLine();if(ge==ve)return;var Ne=new e(ge,0),Xe=new e(ve,Ce(y,ve)),ze=y.getRange(Ne,Xe).split(`
`),Qe=_=="decimal"?/(-?)([\d]+)/:_=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:_=="octal"?/([0-7]+)/:null,ut=_=="decimal"?10:_=="hex"?16:_=="octal"?8:void 0,vt=[],_t=[];if(_||Z)for(var Ft=0;Ft<ze.length;Ft++){var ln=Z?ze[Ft].match(Z):null;ln&&ln[0]!=""?vt.push(ln):Qe&&Qe.exec(ze[Ft])?vt.push(ze[Ft]):_t.push(ze[Ft])}else _t=ze;function mn(xn,hn){if(A){var Vn;Vn=xn,xn=hn,hn=Vn}b&&(xn=xn.toLowerCase(),hn=hn.toLowerCase());var Xr=Qe&&Qe.exec(xn),Jn=Qe&&Qe.exec(hn);if(!Xr||!Jn)return xn<hn?-1:1;var Pr=parseInt((Xr[1]+Xr[2]).toLowerCase(),ut),ji=parseInt((Jn[1]+Jn[2]).toLowerCase(),ut);return Pr-ji}function On(xn,hn){if(A){var Vn;Vn=xn,xn=hn,hn=Vn}return b&&(xn[0]=xn[0].toLowerCase(),hn[0]=hn[0].toLowerCase()),xn[0]<hn[0]?-1:1}if(vt.sort(Z?On:mn),Z)for(var Ft=0;Ft<vt.length;Ft++)vt[Ft]=vt[Ft].input;else _||_t.sort(mn);if(ze=A?vt.concat(_t):_t.concat(vt),P){var An=ze,jn;ze=[];for(var Ft=0;Ft<An.length;Ft++)An[Ft]!=jn&&ze.push(An[Ft]),jn=An[Ft]}y.replaceRange(ze.join(`
`),Ne,Xe)},vglobal:function(y,k){this.global(y,k)},normal:function(y,k){var A=!1,b=k.argString;if(b&&b[0]=="!"&&(b=b.slice(1),A=!0),b=b.trimStart(),!b){Sn(y,"Argument is required.");return}var P=k.line;if(typeof P=="number")for(var _=isNaN(k.lineEnd)?P:k.lineEnd,Z=P;Z<=_;Z++)y.setCursor(Z,0),W(y,k.argString.trimStart(),{noremap:A}),y.state.vim.insertMode&&In(y,!0);else W(y,k.argString.trimStart(),{noremap:A}),y.state.vim.insertMode&&In(y,!0)},global:function(y,k){var A=k.argString;if(!A){Sn(y,"Regular Expression missing from global");return}var b=k.commandName[0]==="v";A[0]==="!"&&k.commandName[0]==="g"&&(b=!0,A=A.slice(1));var P=k.line!==void 0?k.line:y.firstLine(),_=k.lineEnd||k.line||y.lastLine(),Z=ra(A),re=A,ce="";if(Z&&Z.length&&(re=Z[0],ce=Z.slice(1,Z.length).join("/")),re)try{es(y,re,!0,!0)}catch{Sn(y,"Invalid regex: "+re);return}for(var ge=gr(y).getQuery(),ve=[],Ne=P;Ne<=_;Ne++){var Xe=y.getLine(Ne),ze=ge.test(Xe);ze!==b&&ve.push(ce?y.getLineHandle(Ne):Xe)}if(!ce){Sn(y,ve.join(`
`));return}var Qe=0,ut=function(){if(Qe<ve.length){var vt=ve[Qe++],_t=y.getLineNumber(vt);if(_t==null){ut();return}var Ft=_t+1+ce;qn.processCommand(y,Ft,{callback:ut})}else y.releaseLineHandles&&y.releaseLineHandles()};ut()},substitute:function(y,k){if(!y.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var A=k.argString,b=A?As(A,A[0]):[],P="",_="",Z,re,ce,ge=!1,ve=!1;if(b&&b.length)P=b[0],me("pcre")&&P!==""&&(P=new RegExp(P).source),_=b[1],_!==void 0&&(me("pcre")?_=Ur(_.replace(/([^\\])&/g,"$1$$&")):_=sa(_),de.lastSubstituteReplacePart=_),Z=b[2]?b[2].split(" "):[];else if(A&&A.length){Sn(y,"Substitutions should be of the form :s/pattern/replace/");return}if(Z&&(re=Z[0],ce=parseInt(Z[1]),re&&(re.indexOf("c")!=-1&&(ge=!0),re.indexOf("g")!=-1&&(ve=!0),me("pcre")?P=P+"/"+re:P=P.replace(/\//g,"\\/")+"/"+re)),P)try{es(y,P,!0,!0)}catch{Sn(y,"Invalid regex: "+P);return}if(_=_||de.lastSubstituteReplacePart,_===void 0){Sn(y,"No previous substitute regular expression");return}var Ne=gr(y),Xe=Ne.getQuery(),ze=k.line!==void 0?k.line:y.getCursor().line,Qe=k.lineEnd||ze;ze==y.firstLine()&&Qe==y.lastLine()&&(Qe=1/0),ce&&(ze=Qe,Qe=ze+ce-1);var ut=Mt(y,new e(ze,0)),vt=y.getSearchCursor(Xe,ut);Za(y,ge,ve,ze,Qe,vt,Xe,_,k.callback)},startinsert:function(y,k){W(y,k.argString=="!"?"A":"i",{})},redo:s.commands.redo,undo:s.commands.undo,write:function(y){s.commands.save?s.commands.save(y):y.save&&y.save()},nohlsearch:function(y){yn(y)},yank:function(y){var k=Te(y.getCursor()),A=k.line,b=y.getLine(A);de.registerController.pushText("0","yank",b,!0,!0)},delete:function(y,k){var A=k.selectionLine,b=isNaN(k.selectionLineEnd)?A:k.selectionLineEnd;We.delete(y,{linewise:!0},[{anchor:new e(A,0),head:new e(b+1,0)}])},join:function(y,k){var A=k.selectionLine,b=isNaN(k.selectionLineEnd)?A:k.selectionLineEnd;y.setCursor(new e(A,0)),ht.joinLines(y,{repeat:b-A},y.state.vim)},delmarks:function(y,k){if(!k.argString||!Ot(k.argString)){Sn(y,"Argument required");return}for(var A=y.state.vim,b=new s.StringStream(Ot(k.argString));!b.eol();){b.eatSpace();var P=b.pos;if(!b.match(/[a-zA-Z]/,!1)){Sn(y,"Invalid argument: "+k.argString.substring(P));return}var _=b.next();if(b.match("-",!0)){if(!b.match(/[a-zA-Z]/,!1)){Sn(y,"Invalid argument: "+k.argString.substring(P));return}var Z=_,re=b.next();if(Z&&re&&Y(Z)==Y(re)){var ce=Z.charCodeAt(0),ge=re.charCodeAt(0);if(ce>=ge){Sn(y,"Invalid argument: "+k.argString.substring(P));return}for(var ve=0;ve<=ge-ce;ve++){var Ne=String.fromCharCode(ce+ve);delete A.marks[Ne]}}else{Sn(y,"Invalid argument: "+Z+"-");return}}else _&&delete A.marks[_]}}},qn=new hr;it.defineEx("version","ve",y=>{Sn(y,"Codemirror-vim version: 6.3.0")});function Za(y,k,A,b,P,_,Z,re,ce){y.state.vim.exMode=!0;var ge=!1,ve=0,Ne,Xe,ze;function Qe(){y.operation(function(){for(;!ge;)ut(),_t();Ft()})}function ut(){var mn="",On=_.match||_.pos&&_.pos.match;if(On)mn=re.replace(/\$(\d{1,3}|[$&])/g,function(xn,hn){if(hn=="$")return"$";if(hn=="&")return On[0];for(var Vn=hn;parseInt(Vn)>=On.length&&Vn.length>0;)Vn=Vn.slice(0,Vn.length-1);return Vn?On[Vn]+hn.slice(Vn.length,hn.length):xn});else{var An=y.getRange(_.from(),_.to());mn=An.replace(Z,re)}var jn=_.to().line;_.replace(mn),Xe=_.to().line,P+=Xe-jn,ze=Xe<jn}function vt(){var mn=Ne&&Te(_.to()),On=_.findNext();return On&&!On[0]&&mn&&we(_.from(),mn)&&(On=_.findNext()),On&&ve++,On}function _t(){for(;vt()&&la(_.from(),b,P);)if(!(!A&&_.from().line==Xe&&!ze)){y.scrollIntoView(_.from(),30),y.setSelection(_.from(),_.to()),Ne=_.from(),ge=!1;return}ge=!0}function Ft(mn){if(mn&&mn(),y.focus(),Ne){y.setCursor(Ne);var On=y.state.vim;On.exMode=!1,On.lastHPos=On.lastHSPos=Ne.ch}ce?ce():ge&&Sn(y,(ve?"Found "+ve+" matches":"No matches found")+" for pattern: "+Z+(me("pcre")?" (set nopcre to use Vim regexps)":""))}function ln(mn,On,An){s.e_stop(mn);var jn=xe(mn);switch(jn){case"y":ut(),_t();break;case"n":_t();break;case"a":var xn=ce;ce=void 0,y.operation(Qe),ce=xn;break;case"l":ut();case"q":case"<Esc>":case"<C-c>":case"<C-[>":Ft(An);break}return ge&&Ft(An),!0}if(_t(),ge){Sn(y,"No matches for "+Z+(me("pcre")?" (set nopcre to use vim regexps)":""));return}if(!k){Qe(),ce&&ce();return}Ji(y,{prefix:Kn("span","replace with ",Kn("strong",re)," (y/n/a/q/l)"),onKeyDown:ln})}function In(y,k){var A=y.state.vim,b=de.macroModeState,P=de.registerController.getRegister("."),_=b.isPlaying,Z=b.lastInsertModeChanges;_||(y.off("change",ua),A.insertEnd&&A.insertEnd.clear(),A.insertEnd=void 0,s.off(y.getInputField(),"keydown",fa)),!_&&A.insertModeRepeat&&A.insertModeRepeat>1&&(ai(y,A,A.insertModeRepeat-1,!0),A.lastEditInputState.repeatOverride=A.insertModeRepeat),delete A.insertModeRepeat,A.insertMode=!1,k||y.setCursor(y.getCursor().line,y.getCursor().ch-1),y.setOption("keyMap","vim"),y.setOption("disableInput",!0),y.toggleOverwrite(!1),P.setText(Z.changes.join("")),s.signal(y,"vim-mode-change",{mode:"normal"}),b.isRecording&&Qs(b)}function Bn(y){r.unshift(y),y.keys&&Wa(y.keys)}function Wa(y){y.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(k){k&&(a[k]||(a[k]=0),a[k]++)})}function $r(y){y.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(k){a[k]&&a[k]--})}function Er(y,k,A,b,P){var _={keys:y,type:k};_[k]=A,_[k+"Args"]=b;for(var Z in P)_[Z]=P[Z];Bn(_)}H("insertModeEscKeysTimeout",200,"number");function si(y,k,A,b){var P=de.registerController.getRegister(b);if(b==":"){P.keyBuffer[0]&&qn.processCommand(y,P.keyBuffer[0]),A.isPlaying=!1;return}var _=P.keyBuffer,Z=0;A.isPlaying=!0,A.replaySearchQueries=P.searchQueries.slice(0);for(var re=0;re<_.length;re++)for(var ce=_[re],ge,ve,Ne=/<(?:[CSMA]-)*\w+>|./gi;ge=Ne.exec(ce);)if(ve=ge[0],it.handleKey(y,ve,"macro"),k.insertMode){var Xe=P.insertModeChanges[Z++].changes;de.macroModeState.lastInsertModeChanges.changes=Xe,vi(y,Xe,1),In(y)}A.isPlaying=!1}function Ho(y,k){if(!y.isPlaying){var A=y.latestRegister,b=de.registerController.getRegister(A);b&&b.pushText(k)}}function Qs(y){if(!y.isPlaying){var k=y.latestRegister,A=de.registerController.getRegister(k);A&&A.pushInsertModeChanges&&A.pushInsertModeChanges(y.lastInsertModeChanges)}}function is(y,k){if(!y.isPlaying){var A=y.latestRegister,b=de.registerController.getRegister(A);b&&b.pushSearchQuery&&b.pushSearchQuery(k)}}function ua(y,k){var A=de.macroModeState,b=A.lastInsertModeChanges;if(!A.isPlaying)for(var P=y.state.vim;k;){if(b.expectCursorActivityForChange=!0,b.ignoreCount>1)b.ignoreCount--;else if(k.origin=="+input"||k.origin=="paste"||k.origin===void 0){var _=y.listSelections().length;_>1&&(b.ignoreCount=_);var Z=k.text.join(`
`);if(b.maybeReset&&(b.changes=[],b.maybeReset=!1),Z)if(y.state.overwrite&&!/\n/.test(Z))b.changes.push([Z]);else{if(Z.length>1){var re=P&&P.insertEnd&&P.insertEnd.find(),ce=y.getCursor();if(re&&re.line==ce.line){var ge=re.ch-ce.ch;ge>0&&ge<Z.length&&(b.changes.push([Z,ge]),Z="")}}Z&&b.changes.push(Z)}}k=k.next}}function Oi(y){var P;var k=y.state.vim;if(k.insertMode){var A=de.macroModeState;if(A.isPlaying)return;var b=A.lastInsertModeChanges;b.expectCursorActivityForChange?b.expectCursorActivityForChange=!1:(b.maybeReset=!0,k.insertEnd&&k.insertEnd.clear(),k.insertEnd=y.setBookmark(y.getCursor(),{insertLeft:!0}))}else(P=y.curOp)!=null&&P.isVimOp||ha(y,k)}function ha(y,k){var A=y.getCursor("anchor"),b=y.getCursor("head");if(k.visualMode&&!y.somethingSelected()?q(y,!1):!k.visualMode&&!k.insertMode&&y.somethingSelected()&&(k.visualMode=!0,k.visualLine=!1,s.signal(y,"vim-mode-change",{mode:"visual"})),k.visualMode){var P=Je(b,A)?0:-1,_=Je(b,A)?-1:0;b=et(b,0,P),A=et(A,0,_),k.sel={anchor:A,head:b},Nn(y,k,"<",Ge(b,A)),Nn(y,k,">",nn(b,A))}else k.insertMode||(k.lastHPos=y.getCursor().ch)}function fa(y){var k=de.macroModeState,A=k.lastInsertModeChanges,b=s.keyName?s.keyName(y):y.key;b&&(b.indexOf("Delete")!=-1||b.indexOf("Backspace")!=-1)&&(A.maybeReset&&(A.changes=[],A.maybeReset=!1),A.changes.push(new Ke(b,y)))}function ai(y,k,A,b){var P=de.macroModeState;P.isPlaying=!0;var _=k.lastEditActionCommand,Z=k.inputState;function re(){_?Pt.processAction(y,k,_):Pt.evalInput(y,k)}function ce(ve){if(P.lastInsertModeChanges.changes.length>0){ve=k.lastEditActionCommand?ve:1;var Ne=P.lastInsertModeChanges;vi(y,Ne.changes,ve)}}if(k.inputState=k.lastEditInputState,_&&_.interlaceInsertRepeat)for(var ge=0;ge<A;ge++)re(),ce(1);else b||re(),ce(A);k.inputState=Z,k.insertMode&&!b&&In(y),P.isPlaying=!1}function ss(y,k){s.lookupKey(k,"vim-insert",function(b){return typeof b=="string"?s.commands[b](y):b(y),!0})}function vi(y,k,A){var b=y.getCursor("head"),P=de.macroModeState.lastInsertModeChanges.visualBlock;P&&(jt(y,b,P+1),A=y.listSelections().length,y.setCursor(b));for(var _=0;_<A;_++){P&&y.setCursor(et(b,_,0));for(var Z=0;Z<k.length;Z++){var re=k[Z];if(re instanceof Ke)ss(y,re.keyName);else if(typeof re=="string")y.replaceSelection(re);else{var ce=y.getCursor(),ge=et(ce,0,re[0].length-(re[1]||0));y.replaceRange(re[0],ce,re[1]?ce:ge),y.setCursor(ge)}}}P&&y.setCursor(et(b,0,1))}function Ni(y){var k=new y.constructor;return Object.keys(y).forEach(function(A){if(A!="insertEnd"){var b=y[A];Array.isArray(b)?b=b.slice():b&&typeof b=="object"&&b.constructor!=Object&&(b=Ni(b)),k[A]=b}}),y.sel&&(k.sel={head:y.sel.head&&Te(y.sel.head),anchor:y.sel.anchor&&Te(y.sel.anchor)}),k}function Ya(y,k,A){var _=Pe(y),b=y,P=!1,_=it.maybeInitVimState_(b),Z=_.visualBlock||_.wasInVisualBlock;if(b.state.closeVimNotification){var re=b.state.closeVimNotification;if(b.state.closeVimNotification=null,re(),k=="<CR>")return Ue(b),!0}var ce=b.isInMultiSelectMode();if(_.wasInVisualBlock&&!ce?_.wasInVisualBlock=!1:ce&&_.visualBlock&&(_.wasInVisualBlock=!0),k=="<Esc>"&&!_.insertMode&&!_.visualMode&&ce&&_.status=="<Esc>")Ue(b);else if(Z||!ce||b.inVirtualSelectionMode)P=it.handleKey(b,k,A);else{var ge=Ni(_),ve=_.inputState.changeQueueList||[];b.operation(function(){var Xe;b.curOp&&(b.curOp.isVimOp=!0);var Ne=0;b.forEachSelection(function(){b.state.vim.inputState.changeQueue=ve[Ne];var ze=b.getCursor("head"),Qe=b.getCursor("anchor"),ut=Je(ze,Qe)?0:-1,vt=Je(ze,Qe)?-1:0;ze=et(ze,0,ut),Qe=et(Qe,0,vt),b.state.vim.sel.head=ze,b.state.vim.sel.anchor=Qe,P=it.handleKey(b,k,A),b.virtualSelection&&(ve[Ne]=b.state.vim.inputState.changeQueue,b.state.vim=Ni(ge)),Ne++}),(Xe=b.curOp)!=null&&Xe.cursorActivity&&!P&&(b.curOp.cursorActivity=!1),b.state.vim=_,_.inputState.changeQueueList=ve,_.inputState.changeQueue=null},!0)}return P&&!_.visualMode&&!_.insertMode&&_.visualMode!=b.somethingSelected()&&ha(b,_),P}return Fe(),it}function indexFromPos(s,e){var n=e.ch,r=e.line+1;r<1&&(r=1,n=0),r>s.lines&&(r=s.lines,n=Number.MAX_VALUE);var a=s.line(r);return Math.min(a.from+Math.max(0,n),a.to)}function posFromIndex(s,e){let n=s.lineAt(e);return{line:n.number-1,ch:e-n.from}}class Pos{constructor(e,n){this.line=e,this.ch=n}}function on(s,e,n){if(s.addEventListener)s.addEventListener(e,n,!1);else{var r=s._handlers||(s._handlers={});r[e]=(r[e]||[]).concat(n)}}function off(s,e,n){if(s.removeEventListener)s.removeEventListener(e,n,!1);else{var r=s._handlers,a=r&&r[e];if(a){var c=a.indexOf(n);c>-1&&(r[e]=a.slice(0,c).concat(a.slice(c+1)))}}}function signal(s,e,...n){var r,a=(r=s._handlers)===null||r===void 0?void 0:r[e];if(a)for(var c=0;c<a.length;++c)a[c](...n)}function signalTo(s,...e){if(s)for(var n=0;n<s.length;++n)s[n](...e)}let wordChar;try{wordChar=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{wordChar=/[\w]/}function dispatchChange(s,e){var n=s.cm6;if(!n.state.readOnly){var r="input.type.compose";if(s.curOp&&(s.curOp.lastChange||(r="input.type.compose.start")),e.annotations)try{e.annotations.some(function(a){a.value=="input"&&(a.value=r)})}catch(a){console.error(a)}else e.userEvent=r;return n.dispatch(e)}}function runHistoryCommand(s,e){var n;s.curOp&&(s.curOp.$changeStart=void 0),(e?undo:redo)(s.cm6);let r=(n=s.curOp)===null||n===void 0?void 0:n.$changeStart;r!=null&&s.cm6.dispatch({selection:{anchor:r}})}var keys={Left:s=>runScopeHandlers(s.cm6,{key:"Left"},"editor"),Right:s=>runScopeHandlers(s.cm6,{key:"Right"},"editor"),Up:s=>runScopeHandlers(s.cm6,{key:"Up"},"editor"),Down:s=>runScopeHandlers(s.cm6,{key:"Down"},"editor"),Backspace:s=>runScopeHandlers(s.cm6,{key:"Backspace"},"editor"),Delete:s=>runScopeHandlers(s.cm6,{key:"Delete"},"editor")};class CodeMirror{openDialog(e,n,r){return openDialog(this,e,n,r)}openNotification(e,n){return openNotification(this,e,n)}constructor(e){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=e,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}on(e,n){on(this,e,n)}off(e,n){off(this,e,n)}signal(e,n,r){signal(this,e,n,r)}indexFromPos(e){return indexFromPos(this.cm6.state.doc,e)}posFromIndex(e){return posFromIndex(this.cm6.state.doc,e)}foldCode(e){let n=this.cm6,r=n.state.selection.ranges,a=this.cm6.state.doc,c=indexFromPos(a,e),u=EditorSelection.create([EditorSelection.range(c,c)],0).ranges;n.state.selection.ranges=u,foldCode(n),n.state.selection.ranges=r}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(e,n){typeof e=="object"&&(n=e.ch,e=e.line);var r=indexFromPos(this.cm6.state.doc,{line:e,ch:n||0});this.cm6.dispatch({selection:{anchor:r}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(e){var n=this.cm6.state.selection.main,r=e=="head"||!e?n.head:e=="anchor"?n.anchor:e=="start"?n.from:e=="end"?n.to:null;if(r==null)throw new Error("Invalid cursor type");return this.posFromIndex(r)}listSelections(){var e=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(n=>({anchor:posFromIndex(e,n.anchor),head:posFromIndex(e,n.head)}))}setSelections(e,n){var r=this.cm6.state.doc,a=e.map(c=>{var u=indexFromPos(r,c.head),f=indexFromPos(r,c.anchor);return u==f?EditorSelection.cursor(u,1):EditorSelection.range(f,u)});this.cm6.dispatch({selection:EditorSelection.create(a,n)})}setSelection(e,n,r){this.setSelections([{anchor:e,head:n}],0),r&&r.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(e){var n=this.cm6.state.doc;return e<0||e>=n.lines?"":this.cm6.state.doc.line(e+1).text}getLineHandle(e){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:e,index:this.indexFromPos(new Pos(e,0))}}getLineNumber(e){var n=this.$lineHandleChanges;if(!n)return null;for(var r=e.index,a=0;a<n.length;a++)if(r=n[a].changes.mapPos(r,1,MapMode.TrackAfter),r==null)return null;var c=this.posFromIndex(r);return c.ch==0?c.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(e,n){var r=this.cm6.state.doc;return this.cm6.state.sliceDoc(indexFromPos(r,e),indexFromPos(r,n))}replaceRange(e,n,r,a){r||(r=n);var c=this.cm6.state.doc,u=indexFromPos(c,n),f=indexFromPos(c,r);dispatchChange(this,{changes:{from:u,to:f,insert:e}})}replaceSelection(e){dispatchChange(this,this.cm6.state.replaceSelection(e))}replaceSelections(e){var n=this.cm6.state.selection.ranges,r=n.map((a,c)=>({from:a.from,to:a.to,insert:e[c]||""}));dispatchChange(this,{changes:r})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var e=this.cm6;return e.state.selection.ranges.map(n=>e.state.sliceDoc(n.from,n.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(e=>!e.empty)}getInputField(){return this.cm6.contentDOM}clipPos(e){var n=this.cm6.state.doc,r=e.ch,a=e.line+1;a<1&&(a=1,r=0),a>n.lines&&(a=n.lines,r=Number.MAX_VALUE);var c=n.line(a);return r=Math.min(Math.max(0,r),c.to-c.from),new Pos(a-1,r)}getValue(){return this.cm6.state.doc.toString()}setValue(e){var n=this.cm6;return n.dispatch({changes:{from:0,to:n.state.doc.length,insert:e},selection:EditorSelection.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(e,n){var r=this.cm6.state,a=indexFromPos(r.doc,e),c=matchBrackets(r,a+1,-1);return c&&c.end?{to:posFromIndex(r.doc,c.end.from)}:(c=matchBrackets(r,a,1),c&&c.end?{to:posFromIndex(r.doc,c.end.from)}:{to:void 0})}scanForBracket(e,n,r,a){return scanForBracket(this,e,n,r,a)}indentLine(e,n){n?this.indentMore():this.indentLess()}indentMore(){indentMore(this.cm6)}indentLess(){indentLess(this.cm6)}execCommand(e){if(e=="indentAuto")CodeMirror.commands.indentAuto(this);else if(e=="goLineLeft")cursorLineBoundaryBackward(this.cm6);else if(e=="goLineRight"){cursorLineBoundaryForward(this.cm6);let n=this.cm6.state,r=n.selection.main.head;r<n.doc.length&&n.sliceDoc(r,r+1)!==`
`&&cursorCharBackward(this.cm6)}else console.log(e+" is not implemented")}setBookmark(e,n){var r=n!=null&&n.insertLeft?1:-1,a=this.indexFromPos(e),c=new Marker(this,a,r);return c}addOverlay({query:e}){let n=new SearchQuery({regexp:!0,search:e.source,caseSensitive:!/i/.test(e.flags)});if(n.valid){n.forVim=!0,this.cm6Query=n;let r=setSearchQuery.of(n);return this.cm6.dispatch({effects:r}),n}}removeOverlay(e){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let n=setSearchQuery.of(this.cm6Query);this.cm6.dispatch({effects:n})}getSearchCursor(e,n){var r=this,a=null,c=null,u=!1;n.ch==null&&(n.ch=Number.MAX_VALUE);var f=indexFromPos(r.cm6.state.doc,n),d=e.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(E,R){return R||"\\"+E});function O(E,R=0,M=E.length){return new RegExpCursor(E,d,{ignoreCase:e.ignoreCase},R,M)}function g(E){var R=r.cm6.state.doc;if(E>R.length)return null;let M=O(R,E).next();return M.done?null:M.value}var x=1e4;function T(E,R){var M=r.cm6.state.doc;for(let $=1;;$++){let V=Math.max(E,R-$*x),X=O(M,V,R),Y=null;for(;!X.next().done;)Y=X.value;if(Y&&(V==E||Y.from>V+10))return Y;if(V==E)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(E){var R=r.cm6.state.doc;if(E){let M=a?u?a.to-1:a.from:f;a=T(0,M)}else{let M=a?u?a.to+1:a.to:f;a=g(M)}return c=a&&{from:posFromIndex(R,a.from),to:posFromIndex(R,a.to),match:a.match},u=a?a.from==a.to:!1,a&&a.match},from:function(){return c==null?void 0:c.from},to:function(){return c==null?void 0:c.to},replace:function(E){a&&(dispatchChange(r,{changes:{from:a.from,to:a.to,insert:E}}),a.to=a.from+E.length,c&&(c.to=posFromIndex(r.cm6.state.doc,a.to)))},get match(){return c&&c.match}}}findPosV(e,n,r,a){let{cm6:c}=this;const u=c.state.doc;let f=r=="page"?c.dom.clientHeight:0;const d=indexFromPos(u,e);let O=EditorSelection.cursor(d,1,void 0,a),g=Math.round(Math.abs(n));for(let T=0;T<g;T++)r=="page"?O=c.moveVertically(O,n>0,f):r=="line"&&(O=c.moveVertically(O,n>0));let x=posFromIndex(u,O.head);return(n<0&&O.head==0&&a!=0&&e.line==0&&e.ch!=0||n>0&&O.head==u.length&&x.ch!=a&&e.line==x.line)&&(x.hitSide=!0),x}charCoords(e,n){var r=this.cm6.contentDOM.getBoundingClientRect(),a=indexFromPos(this.cm6.state.doc,e),c=this.cm6.coordsAtPos(a),u=-r.top;return{left:((c==null?void 0:c.left)||0)-r.left,top:((c==null?void 0:c.top)||0)+u,bottom:((c==null?void 0:c.bottom)||0)+u}}coordsChar(e,n){var r=this.cm6.contentDOM.getBoundingClientRect(),a=this.cm6.posAtCoords({x:e.left+r.left,y:e.top+r.top})||0;return posFromIndex(this.cm6.state.doc,a)}getScrollInfo(){var e=this.cm6.scrollDOM;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight,width:e.scrollWidth,clientHeight:e.clientHeight,clientWidth:e.clientWidth}}scrollTo(e,n){e!=null&&(this.cm6.scrollDOM.scrollLeft=e),n!=null&&(this.cm6.scrollDOM.scrollTop=n)}scrollIntoView(e,n){if(e){var r=this.indexFromPos(e);this.cm6.dispatch({effects:EditorView.scrollIntoView(r)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(e,n){this.cm6.dom.style.width=e+4+"px",this.cm6.dom.style.height=n+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(e){this.$lineHandleChanges&&this.$lineHandleChanges.push(e);for(let r in this.marks)this.marks[r].update(e.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(r=>r.map(e.changes)));var n=this.curOp=this.curOp||{};e.changes.iterChanges((r,a,c,u,f)=>{(n.$changeStart==null||n.$changeStart>c)&&(n.$changeStart=c),this.$lastChangeEndOffset=u;var d={text:f.toJSON()};n.lastChange?n.lastChange.next=n.lastChange=d:n.lastChange=n.change=d},!0),n.changeHandlers||(n.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var e=this.curOp=this.curOp||{};e.cursorActivityHandlers||(e.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(e,n){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var r=e()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return r}onBeforeEndOperation(){var e=this.curOp,n=!1;e&&(e.change&&signalTo(e.changeHandlers,this,e.change),e&&e.cursorActivity&&(signalTo(e.cursorActivityHandlers,this,null),e.isVimOp&&(n=!0)),this.curOp=null),n&&this.scrollIntoView()}moveH(e,n){if(n=="char"){var r=this.getCursor();this.setCursor(r.line,r.ch+e)}}setOption(e,n){switch(e){case"keyMap":this.state.keyMap=n;break;case"textwidth":this.state.textwidth=n;break}}getOption(e){switch(e){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readOnly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(indentUnit)=="	";case"indentUnit":return this.cm6.state.facet(indentUnit).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(e){this.state.overwrite=e}getTokenTypeAt(e){var n,r=this.indexFromPos(e),a=ensureSyntaxTree(this.cm6.state,r),c=a==null?void 0:a.resolve(r),u=((n=c==null?void 0:c.type)===null||n===void 0?void 0:n.name)||"";return/comment/i.test(u)?"comment":/string/i.test(u)?"string":""}overWriteSelection(e){var n=this.cm6.state.doc,r=this.cm6.state.selection,a=r.ranges.map(c=>{if(c.empty){var u=c.to<n.length?n.sliceString(c.from,c.to+1):"";if(u&&!/\n/.test(u))return EditorSelection.range(c.from,c.to+1)}return c});this.cm6.dispatch({selection:EditorSelection.create(a,r.mainIndex)}),this.replaceSelection(e)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(e){var n=this.cm6.state.selection;this.virtualSelection=EditorSelection.create(n.ranges,n.mainIndex);for(var r=0;r<this.virtualSelection.ranges.length;r++){var a=this.virtualSelection.ranges[r];a&&(this.cm6.dispatch({selection:EditorSelection.create([a])}),e(),this.virtualSelection.ranges[r]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(e){return hardWrap(this,e)}}CodeMirror.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform);CodeMirror.Pos=Pos;CodeMirror.StringStream=StringStream;CodeMirror.commands={cursorCharLeft:function(s){cursorCharLeft(s.cm6)},redo:function(s){runHistoryCommand(s,!1)},undo:function(s){runHistoryCommand(s,!0)},newlineAndIndent:function(s){insertNewlineAndIndent({state:s.cm6.state,dispatch:e=>dispatchChange(s,e)})},indentAuto:function(s){indentSelection(s.cm6)},newlineAndIndentContinueComment:void 0,save:void 0};CodeMirror.isWordChar=function(s){return wordChar.test(s)};CodeMirror.keys=keys;CodeMirror.addClass=function(s,e){};CodeMirror.rmClass=function(s,e){};CodeMirror.e_preventDefault=function(s){s.preventDefault()};CodeMirror.e_stop=function(s){var e,n;(e=s==null?void 0:s.stopPropagation)===null||e===void 0||e.call(s),(n=s==null?void 0:s.preventDefault)===null||n===void 0||n.call(s)};CodeMirror.lookupKey=function(e,n,r){var a=CodeMirror.keys[e];!a&&/^Arrow/.test(e)&&(a=CodeMirror.keys[e.slice(5)]),a&&r(a)};CodeMirror.on=on;CodeMirror.off=off;CodeMirror.signal=signal;CodeMirror.findMatchingTag=findMatchingTag;CodeMirror.findEnclosingTag=findEnclosingTag;CodeMirror.keyName=void 0;function dialogDiv(s,e,n){var r=document.createElement("div");return r.appendChild(e),r}function closeNotification(s,e){s.state.currentNotificationClose&&s.state.currentNotificationClose(),s.state.currentNotificationClose=e}function openNotification(s,e,n){closeNotification(s,f);var r=dialogDiv(s,e,n&&n.bottom),a=!1,c,u=n&&typeof n.duration<"u"?n.duration:5e3;function f(){a||(a=!0,clearTimeout(c),r.remove(),hideDialog(s,r))}return r.onclick=function(d){d.preventDefault(),f()},showDialog(s,r),u&&(c=setTimeout(f,u)),f}function showDialog(s,e){var n=s.state.dialog;s.state.dialog=e,e.style.flex="1",e&&n!==e&&(n&&n.contains(document.activeElement)&&s.focus(),n&&n.parentElement?n.parentElement.replaceChild(e,n):n&&n.remove(),CodeMirror.signal(s,"dialog"))}function hideDialog(s,e){s.state.dialog==e&&(s.state.dialog=null,CodeMirror.signal(s,"dialog"))}function openDialog(s,e,n,r){r||(r={}),closeNotification(s,void 0);var a=dialogDiv(s,e,r.bottom),c=!1;showDialog(s,a);function u(d){if(typeof d=="string")f.value=d;else{if(c)return;c=!0,hideDialog(s,a),s.state.dialog||s.focus(),r.onClose&&r.onClose(a)}}var f=a.getElementsByTagName("input")[0];return f&&(r.value&&(f.value=r.value,r.selectValueOnOpen!==!1&&f.select()),r.onInput&&CodeMirror.on(f,"input",function(d){r.onInput(d,f.value,u)}),r.onKeyUp&&CodeMirror.on(f,"keyup",function(d){r.onKeyUp(d,f.value,u)}),CodeMirror.on(f,"keydown",function(d){r&&r.onKeyDown&&r.onKeyDown(d,f.value,u)||(d.keyCode==13&&n&&n(f.value),(d.keyCode==27||r.closeOnEnter!==!1&&d.keyCode==13)&&(f.blur(),CodeMirror.e_stop(d),u()))}),r.closeOnBlur!==!1&&CodeMirror.on(f,"blur",function(){setTimeout(function(){document.activeElement!==f&&u()})}),f.focus()),u}var matching={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function bracketRegex(s){return s&&s.bracketRegex||/[(){}[\]]/}function scanForBracket(s,e,n,r,a){for(var c=a&&a.maxScanLineLength||1e4,u=a&&a.maxScanLines||1e3,f=[],d=bracketRegex(a),O=n>0?Math.min(e.line+u,s.lastLine()+1):Math.max(s.firstLine()-1,e.line-u),g=e.line;g!=O;g+=n){var x=s.getLine(g);if(x){var T=n>0?0:x.length-1,E=n>0?x.length:-1;if(!(x.length>c))for(g==e.line&&(T=e.ch-(n<0?1:0));T!=E;T+=n){var R=x.charAt(T);if(d.test(R)){var M=matching[R];if(M&&M.charAt(1)==">"==n>0)f.push(R);else if(f.length)f.pop();else return{pos:new Pos(g,T),ch:R}}}}}return g-n==(n>0?s.lastLine():s.firstLine())?!1:null}function findMatchingTag(s,e){return null}function findEnclosingTag(s,e){var n,r,a=s.cm6.state,c=s.indexFromPos(e);if(c<a.doc.length){var u=a.sliceDoc(c,c+1);u=="<"&&c++}for(var f=ensureSyntaxTree(a,c),d=(f==null?void 0:f.resolve(c))||null;d;){if(((n=d.firstChild)===null||n===void 0?void 0:n.type.name)=="OpenTag"&&((r=d.lastChild)===null||r===void 0?void 0:r.type.name)=="CloseTag")return{open:convertRange(a.doc,d.firstChild),close:convertRange(a.doc,d.lastChild)};d=d.parent}}function convertRange(s,e){return{from:posFromIndex(s,e.from),to:posFromIndex(s,e.to)}}class Marker{constructor(e,n,r){this.cm=e,this.id=e.$mid++,this.offset=n,this.assoc=r,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,MapMode.TrackDel))}}function hardWrap(s,e){for(var n,r=e.column||s.getOption("textwidth")||80,a=e.allowMerge!=!1,c=Math.min(e.from,e.to),u=Math.max(e.from,e.to);c<=u;){var f=s.getLine(c);if(f.length>r){var d=R(f,r,5);if(d){var O=(n=/^\s*/.exec(f))===null||n===void 0?void 0:n[0];s.replaceRange(`
`+O,new Pos(c,d.start),new Pos(c,d.end))}u++}else if(a&&/\S/.test(f)&&c!=u){var g=s.getLine(c+1);if(g&&/\S/.test(g)){var x=f.replace(/\s+$/,""),T=g.replace(/^\s+/,""),E=x+" "+T,d=R(E,r,5);d&&d.start>x.length||E.length<r?(s.replaceRange(" ",new Pos(c,x.length),new Pos(c+1,g.length-T.length)),c--,u--):x.length<f.length&&s.replaceRange("",new Pos(c,x.length),new Pos(c,f.length))}}c++}return c;function R(M,$,V){if(!(M.length<$)){var X=M.slice(0,$),Y=M.slice($),G=/^(?:(\s+)|(\S+)(\s+))/.exec(Y),L=/(?:(\s+)|(\s+)(\S+))$/.exec(X),I=0,ee=0;if(L&&!L[2]&&(I=$-L[1].length,ee=$),G&&!G[2]&&(I||(I=$),ee=$+G[1].length),I)return{start:I,end:ee};if(L&&L[2]&&L.index>V)return{start:L.index,end:L.index+L[2].length};if(G&&G[2])return I=$+G[2].length,{start:I,end:I+G[3].length}}}}let getDrawSelectionConfig=getDrawSelectionConfig$1||function(){let s={cursorBlinkRate:1200};return function(){return s}}();class Piece{constructor(e,n,r,a,c,u,f,d,O,g){this.left=e,this.top=n,this.height=r,this.fontFamily=a,this.fontSize=c,this.fontWeight=u,this.color=f,this.className=d,this.letter=O,this.partial=g}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}}class BlockCursorPlugin{constructor(e,n){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=n,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let n=getDrawSelectionConfig(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=n+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),configChanged(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,n=[];for(let r of e.selection.ranges){let a=r==e.selection.main,c=measureCursor(this.cm,this.view,r,a);c&&n.push(c)}return{cursors:n}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((n,r)=>!n.eq(this.cursors[r]))){let n=this.cursorLayer.children;if(n.length!==e.length){this.cursorLayer.textContent="";for(const r of e)this.cursorLayer.appendChild(r.draw())}else e.forEach((r,a)=>r.adjust(n[a]));this.cursors=e}}destroy(){this.cursorLayer.remove()}}function configChanged(s){return getDrawSelectionConfig(s.startState)!=getDrawSelectionConfig(s.state)}const themeSpec={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},hideNativeSelection=Prec.highest(EditorView.theme(themeSpec));function getBase(s){let e=s.scrollDOM.getBoundingClientRect();return{left:(s.textDirection==Direction.LTR?e.left:e.right-s.scrollDOM.clientWidth)-s.scrollDOM.scrollLeft*s.scaleX,top:e.top-s.scrollDOM.scrollTop*s.scaleY}}function measureCursor(s,e,n,r){var a,c,u,f;let d=n.head,O=!1,g=1,x=s.state.vim;if(x&&(!x.insertMode||s.state.overwrite)){if(O=!0,x.visualBlock&&!r)return null;n.anchor<n.head&&(d<e.state.doc.length&&e.state.sliceDoc(d,d+1))!=`
`&&d--,s.state.overwrite?g=.2:x.status&&(g=.5)}if(O){let E=d<e.state.doc.length&&e.state.sliceDoc(d,d+1);E&&/[\uDC00-\uDFFF]/.test(E)&&d>1&&(d--,E=e.state.sliceDoc(d,d+1));let R=e.coordsAtPos(d,1);if(!R)return null;let M=getBase(e),$=e.domAtPos(d),V=$?$.node:e.contentDOM;for(V instanceof Text&&$.offset>=V.data.length&&!((a=V.parentElement)===null||a===void 0)&&a.nextSibling&&(V=(c=V.parentElement)===null||c===void 0?void 0:c.nextSibling,$={node:V,offset:0});$&&$.node instanceof HTMLElement;)V=$.node,$={node:$.node.childNodes[$.offset],offset:0};if(!(V instanceof HTMLElement)){if(!V.parentNode)return null;V=V.parentNode}let X=getComputedStyle(V),Y=R.left,G=(f=(u=e).coordsForChar)===null||f===void 0?void 0:f.call(u,d);if(G&&(Y=G.left),!E||E==`
`||E=="\r")E="";else if(E=="	"){E="";var T=e.coordsAtPos(d+1,-1);T&&(Y=T.left-(T.left-R.left)/parseInt(X.tabSize))}else/[\uD800-\uDBFF]/.test(E)&&d<e.state.doc.length-1&&(E+=e.state.sliceDoc(d+1,d+2));let L=R.bottom-R.top;return new Piece((Y-M.left)/e.scaleX,(R.top-M.top+L*(1-g))/e.scaleY,L*g/e.scaleY,X.fontFamily,X.fontSize,X.fontWeight,X.color,r?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",E,g!=1)}else return null}var FIREFOX_LINUX=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const Vim=initVim(CodeMirror),HighlightMargin=250,vimStyle=EditorView.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em",display:"flex"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),vimPlugin=ViewPlugin.fromClass(class{constructor(s){this.status="",this.query=null,this.decorations=Decoration.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.compositionText="",this.view=s;const e=this.cm=new CodeMirror(s);Vim.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new BlockCursorPlugin(s,e),this.updateClass(),this.cm.on("vim-command-done",()=>{e.state.vim&&(e.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",n=>{e.state.vim&&(e.state.vim.mode=n.mode,n.subMode&&(e.state.vim.mode+=" block"),e.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus())}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():s.dispatch({effects:showVimPanel.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.spacer=document.createElement("span"),this.spacer.style.flex="1",this.statusButton=document.createElement("span"),this.statusButton.onclick=n=>{Vim.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(s){var e;if((s.viewportChanged||s.docChanged)&&this.query&&this.highlight(this.query),s.docChanged&&this.cm.onChange(s),s.selectionSet&&this.cm.onSelectionChange(),s.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),s.transactions){for(let n of s.transactions)for(let r of n.effects)if(r.is(setSearchQuery))if(!((e=r.value)===null||e===void 0?void 0:e.forVim))this.highlight(null);else{let c=r.value.create();this.highlight(c)}}this.blockCursor.update(s)}updateClass(){const s=this.cm.state;!s.vim||s.vim.insertMode&&!s.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let s=this.cm.state.statusbar,e=this.cm.state.vim;if(!s||!e)return;let n=this.cm.state.dialog;if(n)n.parentElement!=s&&(s.textContent="",s.appendChild(n));else{s.textContent="";var r=(e.mode||"normal").toUpperCase();e.insertModeReturn&&(r+="(C-O)"),this.statusButton.textContent=`--${r}--`,s.appendChild(this.statusButton),s.appendChild(this.spacer)}this.dom.textContent=e.status,s.appendChild(this.dom)}destroy(){Vim.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(s){if(this.query=s,!s)return this.decorations=Decoration.none;let{view:e}=this,n=new RangeSetBuilder;for(let r=0,a=e.visibleRanges,c=a.length;r<c;r++){let{from:u,to:f}=a[r];for(;r<c-1&&f>a[r+1].from-2*HighlightMargin;)f=a[++r].to;s.highlight(e.state,u,f,(d,O)=>{n.add(d,O,matchMark)})}return this.decorations=n.finish()}handleKey(s,e){const n=this.cm;let r=n.state.vim;if(!r)return;const a=Vim.vimKeyFromEvent(s,r);if(CodeMirror.signal(this.cm,"inputEvent",{type:"handleKey",key:a}),!a)return;if(a=="<Esc>"&&!r.insertMode&&!r.visualMode&&this.query){const f=r.searchState_;f&&(n.removeOverlay(f.getOverlay()),f.setOverlay(null))}if(a==="<C-c>"&&!CodeMirror.isMac&&n.somethingSelected())return this.waitForCopy=!0,!0;r.status=(r.status||"")+a;let u=Vim.multiSelectHandleKey(n,a,"user");return r=Vim.maybeInitVimState_(n),!u&&r.insertMode&&n.state.overwrite&&(s.key&&s.key.length==1&&!/\n/.test(s.key)?(u=!0,n.overWriteSelection(s.key)):s.key=="Backspace"&&(u=!0,CodeMirror.commands.cursorCharLeft(n))),u&&(CodeMirror.signal(this.cm,"vim-keypress",a),s.preventDefault(),s.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!u}},{eventHandlers:{copy:function(s,e){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var n=this.cm,r=n.state.vim;r&&(r.insertMode?n.setSelection(n.getCursor(),n.getCursor()):n.operation(()=>{n.curOp&&(n.curOp.isVimOp=!0),Vim.handleKey(n,"<Esc>","user")}))}))},compositionstart:function(s,e){this.useNextTextInput=!0,CodeMirror.signal(this.cm,"inputEvent",s)},compositionupdate:function(s,e){CodeMirror.signal(this.cm,"inputEvent",s)},compositionend:function(s,e){CodeMirror.signal(this.cm,"inputEvent",s)},keypress:function(s,e){CodeMirror.signal(this.cm,"inputEvent",s),this.lastKeydown=="Dead"&&this.handleKey(s,e)},keydown:function(s,e){CodeMirror.signal(this.cm,"inputEvent",s),this.lastKeydown=s.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(s,e))}},provide:()=>[EditorView.inputHandler.of((s,e,n,r)=>{var a,c,u=getCM(s);if(!u)return!1;var f=(a=u.state)===null||a===void 0?void 0:a.vim,d=u.state.vimPlugin;if(f&&!f.insertMode&&!(!((c=u.curOp)===null||c===void 0)&&c.isVimOp)){if(r==="\0\0")return!0;if(CodeMirror.signal(u,"inputEvent",{type:"text",text:r,from:e,to:n}),r.length==1&&d.useNextTextInput){if(f.expectLiteralNext&&s.composing)return d.compositionText=r,!1;if(d.compositionText){var O=d.compositionText;d.compositionText="";var g=s.state.selection.main.head,x=s.state.sliceDoc(g-O.length,g);if(O===x){var T=u.getCursor();u.replaceRange("",u.posFromIndex(g-O.length),T)}}return d.handleKey({key:r,preventDefault:()=>{},stopPropagation:()=>{}}),forceEndComposition(s),!0}}return!1})],decorations:s=>s.decorations});function forceEndComposition(s){var e=s.scrollDOM.parentElement;if(e){if(FIREFOX_LINUX){s.contentDOM.textContent="\0\0",s.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var n=s.scrollDOM.nextSibling,r=window.getSelection(),a=r&&{anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset};s.scrollDOM.remove(),e.insertBefore(s.scrollDOM,n);try{a&&r&&(r.setPosition(a.anchorNode,a.anchorOffset),a.focusNode&&r.extend(a.focusNode,a.focusOffset))}catch(c){console.error(c)}s.focus(),s.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),showVimPanel=StateEffect.define(),vimPanelState=StateField.define({create:()=>!1,update(s,e){for(let n of e.effects)n.is(showVimPanel)&&(s=n.value);return s},provide:s=>showPanel.from(s,e=>e?createVimPanel:null)});function createVimPanel(s){let e=document.createElement("div");e.className="cm-vim-panel";let n=s.cm;return n.state.dialog&&e.appendChild(n.state.dialog),{top:!1,dom:e}}function statusPanel(s){let e=document.createElement("div");e.className="cm-vim-panel";let n=s.cm;return n.state.statusbar=e,n.state.vimPlugin.updateStatus(),{dom:e}}function vim(s={}){return[vimStyle,vimPlugin,hideNativeSelection,s.status?showPanel.of(statusPanel):vimPanelState]}function getCM(s){return s.cm||null}const latexMode={name:"latex",startState:()=>({inMath:!1,mathType:null,depth:0}),token:(s,e)=>{if(s.eatSpace())return null;const n=s.peek();if(n==="%")return s.skipToEnd(),"comment";if(n==="$"){if(s.match("$$"))return e.inMath=!e.inMath,e.mathType=e.inMath?"display":null,"string-2";if(s.eat("$"))return e.inMath=!e.inMath,e.mathType=e.inMath?"inline":null,"string-2"}if(s.match(/\\begin\{(equation|align|gather|multline|displaymath)\*?\}/))return e.inMath=!0,e.mathType="display","keyword";if(s.match(/\\end\{(equation|align|gather|multline|displaymath)\*?\}/))return e.inMath=!1,e.mathType=null,"keyword";if(n==="\\")return s.next(),s.match(/documentclass|usepackage|begin|end/)?"def":s.match(/chapter|section|subsection|subsubsection|paragraph|subparagraph/)?"header":e.inMath&&s.match(/[a-zA-Z]+/)?"operator":(s.match(/[a-zA-Z]+/)||s.next(),"keyword");if(n==="{"||n==="}")return s.next(),n==="{"?e.depth++:e.depth--,"bracket";if(n==="["||n==="]")return s.next(),"bracket";if(e.inMath){if(s.match(/[0-9]+(\.[0-9]*)?/))return"number";if(s.match(/[a-zA-Z]+/))return"variable"}return s.next(),null},languageData:{commentTokens:{line:"%"},indentOnInput:/^\s*\\end\{/,wordChars:"a-zA-Z\\"}},latexLanguage=StreamLanguage.define(latexMode),latexCommands=["documentclass","usepackage","begin","end","title","author","date","maketitle","section","subsection","subsubsection","paragraph","subparagraph","chapter","part","appendix","textbf","textit","textsc","texttt","textsf","textsl","emph","underline","textcolor","colorbox","tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge","frac","sqrt","sum","int","prod","lim","sin","cos","tan","log","ln","exp","min","max","inf","sup","alpha","beta","gamma","delta","epsilon","theta","lambda","mu","nu","pi","rho","sigma","tau","phi","chi","psi","omega","Alpha","Beta","Gamma","Delta","Theta","Lambda","Pi","Sigma","Phi","Psi","Omega","equation","align","gather","multline","split","enumerate","itemize","description","figure","table","tabular","array","theorem","lemma","proof","definition","corollary","abstract","quote","quotation","verse","verbatim","label","ref","eqref","pageref","cite","citep","citet","bibliography","bibliographystyle","includegraphics","caption","centering","item","hline","cline","multicolumn","multirow","hspace","vspace","newline","linebreak","pagebreak","newpage","clearpage","cleardoublepage"].map(s=>({label:"\\"+s,type:"keyword"})),latexEnvironments=["document","abstract","quote","quotation","verse","equation","equation*","align","align*","gather","gather*","multline","multline*","split","cases","enumerate","itemize","description","figure","table","center","flushleft","flushright","tabular","array","matrix","pmatrix","bmatrix","vmatrix","theorem","lemma","proof","definition","corollary","verbatim","lstlisting","minipage"].map(s=>({label:s,type:"class"})),latexPackages=["amsmath","amsfonts","amssymb","graphicx","geometry","hyperref","babel","inputenc","fontenc","xcolor","tikz","pgfplots","listings","fancyhdr","setspace","natbib","biblatex","booktabs","multirow","longtable","algorithm","algorithmic","subfig","subcaption","mathtools","physics","siunitx","url","cleveref"].map(s=>({label:s,type:"namespace"})),latexSnippets=[snippetCompletion(`\\begin{#{env}}
	#{}
\\end{#{env}}`,{label:"begin",detail:"Environment"}),snippetCompletion("\\section{#{title}}",{label:"section",detail:"Section"}),snippetCompletion("\\subsection{#{title}}",{label:"subsection",detail:"Subsection"}),snippetCompletion("\\subsubsection{#{title}}",{label:"subsubsection",detail:"Subsubsection"}),snippetCompletion("\\frac{#{numerator}}{#{denominator}}",{label:"frac",detail:"Fraction"}),snippetCompletion("\\sqrt{#{content}}",{label:"sqrt",detail:"Square root"}),snippetCompletion("\\textbf{#{text}}",{label:"textbf",detail:"Bold text"}),snippetCompletion("\\textit{#{text}}",{label:"textit",detail:"Italic text"}),snippetCompletion("\\emph{#{text}}",{label:"emph",detail:"Emphasized text"}),snippetCompletion("\\label{#{label}}",{label:"label",detail:"Label"}),snippetCompletion("\\ref{#{label}}",{label:"ref",detail:"Reference"}),snippetCompletion("\\cite{#{key}}",{label:"cite",detail:"Citation"}),snippetCompletion("\\includegraphics[width=#{width}]{#{file}}",{label:"includegraphics",detail:"Include graphics"}),snippetCompletion(`\\begin{figure}[#{position}]
	\\centering
	\\includegraphics[width=#{width}]{#{file}}
	\\caption{#{caption}}
	\\label{#{label}}
\\end{figure}`,{label:"figure",detail:"Figure environment"}),snippetCompletion(`\\begin{table}[#{position}]
	\\centering
	\\begin{tabular}{#{columns}}
		#{content}
	\\end{tabular}
	\\caption{#{caption}}
	\\label{#{label}}
\\end{table}`,{label:"table",detail:"Table environment"}),snippetCompletion(`\\begin{equation}
	#{equation}
\\end{equation}`,{label:"equation",detail:"Equation environment"}),snippetCompletion(`\\begin{align}
	#{equations}
\\end{align}`,{label:"align",detail:"Align environment"}),snippetCompletion(`\\begin{itemize}
	\\item #{item1}
	\\item #{item2}
\\end{itemize}`,{label:"itemize",detail:"Itemize environment"}),snippetCompletion(`\\begin{enumerate}
	\\item #{item1}
	\\item #{item2}
\\end{enumerate}`,{label:"enumerate",detail:"Enumerate environment"})],latexCompletions=completeFromList([...latexCommands,...latexEnvironments,...latexPackages,...latexSnippets]);function latex(){return new LanguageSupport(latexLanguage,[autocompletion({override:[latexCompletions]})])}const latexExtensions=["tex","latex","sty","cls","bib"];function isLatexFile(s){var n;const e=(n=s.split(".").pop())==null?void 0:n.toLowerCase();return latexExtensions.includes(e||"")}const getLanguageSupport=s=>{var n;const e=(n=s.split(".").pop())==null?void 0:n.toLowerCase();switch(e){case"tex":case"latex":case"sty":case"cls":case"bib":return latex();case"js":case"jsx":case"ts":case"tsx":return javascript({jsx:!0,typescript:e.includes("ts")});case"html":case"htm":return html();case"css":case"scss":case"sass":return css();case"json":return json();case"py":return python();case"md":case"markdown":return markdown();default:return[]}},Editor=({tabs:s,activeTabId:e,onTabSelect:n,onTabClose:r,onContentChange:a,onSave:c})=>{const u=reactExports.useRef(null),f=reactExports.useRef(null),[d,O]=reactExports.useState({}),g=reactExports.useRef({}),[x,T]=reactExports.useState(!1),[E,R]=reactExports.useState(!1),M=reactExports.useRef(new Compartment),$=reactExports.useRef(new Compartment),V=reactExports.useRef(new Compartment),X=s.find(H=>H.id===e),Y=s.some(H=>H.isDirty),G=H=>{const me=new Date().getTime()-H.getTime(),se=Math.floor(me/1e3),Se=Math.floor(se/60);return se<30?"just now":se<60?`${se}s ago`:Se<60?`${Se}m ago`:H.toLocaleTimeString()},L=reactExports.useCallback((H,fe)=>{g.current[H]&&clearTimeout(g.current[H]),g.current[H]=setTimeout(()=>{c(H,fe,!0),O(me=>({...me,[H]:new Date})),delete g.current[H]},750)},[c]),I=reactExports.useCallback(H=>{const fe=getLanguageSupport(H),me=x?oneDark:[],se=E?vim():[];return[basicSetup,M.current.of(fe),$.current.of(me),V.current.of(se),foldGutter(),syntaxHighlighting(defaultHighlightStyle),highlightSelectionMatches(),keymap.of([indentWithTab,...defaultKeymap,...searchKeymap,{key:"Cmd-s",mac:"Cmd-s",run:()=>(ee(),!0)},{key:"Ctrl-s",run:()=>(ee(),!0)},{key:"Cmd-f",mac:"Cmd-f",run:()=>(ne(),!0)},{key:"Ctrl-f",run:()=>(ne(),!0)},{key:"Cmd-Shift-[",mac:"Cmd-Shift-[",run:()=>(z(),!0)},{key:"Cmd-Shift-]",mac:"Cmd-Shift-]",run:()=>(ae(),!0)}]),EditorView.updateListener.of(Se=>{if(Se.docChanged&&e){const Ae=Se.state.doc.toString();a(e,Ae),L(e,Ae)}}),EditorView.lineWrapping,EditorView.theme({".cm-editor":{fontSize:"14px",fontFamily:'SF Mono, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'},".cm-scroller":{fontFamily:"inherit"},".cm-focused":{outline:"none"}})]},[e,x,E,L,a]);reactExports.useEffect(()=>{if(!u.current||!X)return;f.current&&(f.current.destroy(),f.current=null);const H=I(X.name),fe=EditorState.create({doc:X.content||"",extensions:H});return f.current=new EditorView({state:fe,parent:u.current}),()=>{f.current&&(f.current.destroy(),f.current=null)}},[X==null?void 0:X.id]),reactExports.useEffect(()=>{f.current&&X&&f.current.state.doc.toString()!==X.content&&f.current.dispatch({changes:{from:0,to:f.current.state.doc.length,insert:X.content}})},[X==null?void 0:X.content]),reactExports.useEffect(()=>{if(f.current&&X){const H=getLanguageSupport(X.name);f.current.dispatch({effects:M.current.reconfigure(H)})}},[X==null?void 0:X.name]),reactExports.useEffect(()=>{if(f.current){const H=x?oneDark:[];f.current.dispatch({effects:$.current.reconfigure(H)})}},[x]),reactExports.useEffect(()=>{if(f.current){const H=E?vim():[];f.current.dispatch({effects:V.current.reconfigure(H)})}},[E]),reactExports.useEffect(()=>()=>{Object.values(g.current).forEach(H=>{clearTimeout(H)})},[]);const ee=()=>{var H;if(e&&X){const fe=((H=f.current)==null?void 0:H.state.doc.toString())||X.content;c(e,fe,!1),O(me=>({...me,[e]:new Date}))}},ne=()=>{f.current&&openSearchPanel(f.current)},z=()=>{f.current&&foldAll(f.current)},ae=()=>{f.current&&unfoldAll(f.current)};return reactExports.useEffect(()=>{const H=fe=>{Y&&(fe.preventDefault(),fe.returnValue="")};return window.addEventListener("beforeunload",H),()=>window.removeEventListener("beforeunload",H)},[Y]),s.length===0?jsxDevRuntimeExports.jsxDEV("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:jsxDevRuntimeExports.jsxDEV("div",{className:"text-center text-gray-500",children:[jsxDevRuntimeExports.jsxDEV("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:303,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:302,columnNumber:11},globalThis),jsxDevRuntimeExports.jsxDEV("p",{className:"text-lg font-medium",children:"No files open"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:305,columnNumber:11},globalThis),jsxDevRuntimeExports.jsxDEV("p",{className:"text-sm",children:"Select a file from the file tree to start editing"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:306,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:301,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:300,columnNumber:7},globalThis):jsxDevRuntimeExports.jsxDEV("div",{className:"flex-1 flex flex-col bg-white",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"flex border-b border-gray-200 bg-gray-50",children:jsxDevRuntimeExports.jsxDEV("div",{className:"flex overflow-x-auto",children:s.map(H=>jsxDevRuntimeExports.jsxDEV("div",{className:`flex items-center px-4 py-2 border-r border-gray-200 cursor-pointer min-w-0 ${H.id===e?"bg-white text-gray-900":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,onClick:()=>n(H.id),children:[jsxDevRuntimeExports.jsxDEV("span",{className:"text-sm truncate mr-2",children:[H.isDirty&&jsxDevRuntimeExports.jsxDEV("span",{className:"text-orange-500 mr-1",children:""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:328,columnNumber:33},globalThis),H.name]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:327,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:fe=>{fe.stopPropagation(),!(H.isDirty&&!window.confirm(`"${H.name}" has unsaved changes. Close anyway?`))&&r(H.id)},className:"ml-1 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:346,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:345,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:331,columnNumber:15},globalThis)]},H.id,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:318,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:316,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:315,columnNumber:7},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex-1 relative",children:X&&jsxDevRuntimeExports.jsxDEV("div",{className:"absolute inset-0 flex flex-col",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50 border-b border-gray-200",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[jsxDevRuntimeExports.jsxDEV("span",{children:X.path},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:361,columnNumber:17},globalThis),isLatexFile(X.name)&&jsxDevRuntimeExports.jsxDEV("span",{className:"text-blue-500 text-xs bg-blue-100 px-2 py-1 rounded",children:"LaTeX"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:363,columnNumber:19},globalThis),X.isDirty?jsxDevRuntimeExports.jsxDEV("span",{className:"text-orange-500 text-xs flex items-center",children:[jsxDevRuntimeExports.jsxDEV("span",{className:"mr-1",children:""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:367,columnNumber:21},globalThis),g.current[X.id]?"Saving...":"Unsaved changes"]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:366,columnNumber:19},globalThis):d[X.id]&&jsxDevRuntimeExports.jsxDEV("span",{className:"text-green-500 text-xs flex items-center",children:[jsxDevRuntimeExports.jsxDEV("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:jsxDevRuntimeExports.jsxDEV("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:374,columnNumber:25},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:373,columnNumber:23},globalThis),"Saved ",G(d[X.id])]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:372,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:360,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2",children:[jsxDevRuntimeExports.jsxDEV("button",{onClick:ne,className:"px-2 py-1 rounded text-sm bg-gray-200 hover:bg-gray-300 text-gray-700",title:"Search (Cmd/Ctrl+F)",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:390,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:389,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:384,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:z,className:"px-2 py-1 rounded text-sm bg-gray-200 hover:bg-gray-300 text-gray-700",title:"Fold All",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:400,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:399,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:394,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:ae,className:"px-2 py-1 rounded text-sm bg-gray-200 hover:bg-gray-300 text-gray-700",title:"Unfold All",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:410,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:409,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:404,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>T(!x),className:"px-2 py-1 rounded text-sm bg-gray-200 hover:bg-gray-300 text-gray-700",title:"Toggle Dark Mode",children:x?"":""},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:414,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>R(!E),className:`px-2 py-1 rounded text-sm ${E?"bg-green-600 text-white hover:bg-green-700":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,title:"Toggle Vim Mode",children:"Vim"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:422,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:ee,disabled:!X.isDirty,className:`px-3 py-1 rounded text-sm ${X.isDirty?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"Save (Cmd/Ctrl+S)",children:"Save"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:434,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:382,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:359,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex-1 overflow-hidden",children:jsxDevRuntimeExports.jsxDEV("div",{ref:u,className:"h-full editor-container"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:451,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:450,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:357,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:355,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Editor.tsx",lineNumber:313,columnNumber:5},globalThis)};function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal=new Proxy({},{get(s,e){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${e}" in client code.  See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,n){module.exports=e.pdfjsLib=n()})(globalThis,()=>(()=>{var __webpack_modules__=[,(s,e)=>{var Lt;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Fe,e.bytesToString=xe,e.createValidAbsoluteUrl=ct,e.getModificationDate=ht,e.getUuid=St,e.getVerbosityLevel=Se,e.info=Ae,e.isArrayBuffer=We,e.isArrayEqual=bt,e.isNodeJS=void 0,e.normalizeUnicode=et,e.objectFromMap=Ue,e.objectSize=Be,e.setVerbosityLevel=se,e.shadow=it,e.string32=_e,e.stringToBytes=$e,e.stringToPDFString=tt,e.stringToUTF8String=De,e.unreachable=de,e.utf8StringToString=Me,e.warn=Pe;const n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=n;const r=[1,0,0,1,0,0];e.IDENTITY_MATRIX=r;const a=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=a;const c=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=c;const u=1.35;e.LINE_FACTOR=u;const f=.35;e.LINE_DESCENT_FACTOR=f;const d=f/u;e.BASELINE_FACTOR=d;const O={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=O;const g={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=g;const x="pdfjs_internal_editor_";e.AnnotationEditorPrefix=x;const T={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=T;const E={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=E;const R={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=R;const M={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=M;const $={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=$;const V={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=V;const X={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=X;const Y={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=Y;const G={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=G;const L={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=L;const I={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=I;const ee={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=ee;const ne={O:"PageOpen",C:"PageClose"};e.PageActionEventType=ne;const z={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=z;const ae={NONE:0,BINARY:1};e.CMapCompressionType=ae;const H={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=H;const fe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=fe;let me=z.WARNINGS;function se(Ve){Number.isInteger(Ve)&&(me=Ve)}function Se(){return me}function Ae(Ve){me>=z.INFOS&&console.log(`Info: ${Ve}`)}function Pe(Ve){me>=z.WARNINGS&&console.log(`Warning: ${Ve}`)}function de(Ve){throw new Error(Ve)}function Fe(Ve,Te){Ve||de(Te)}function Ke(Ve){switch(Ve==null?void 0:Ve.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ct(Ve,Te=null,we=null){if(!Ve)return null;try{if(we&&typeof Ve=="string"){if(we.addDefaultProtocol&&Ve.startsWith("www.")){const Ge=Ve.match(/\./g);(Ge==null?void 0:Ge.length)>=2&&(Ve=`http://${Ve}`)}if(we.tryConvertEncoding)try{Ve=De(Ve)}catch{}}const Je=Te?new URL(Ve,Te):new URL(Ve);if(Ke(Je))return Je}catch{}return null}function it(Ve,Te,we,Je=!1){return Object.defineProperty(Ve,Te,{value:we,enumerable:!Je,configurable:!0,writable:!1}),we}const te=function(){function Te(we,Je){this.constructor===Te&&de("Cannot initialize BaseException."),this.message=we,this.name=Je}return Te.prototype=new Error,Te.constructor=Te,Te}();e.BaseException=te;class D extends te{constructor(Te,we){super(Te,"PasswordException"),this.code=we}}e.PasswordException=D;class F extends te{constructor(Te,we){super(Te,"UnknownErrorException"),this.details=we}}e.UnknownErrorException=F;class j extends te{constructor(Te){super(Te,"InvalidPDFException")}}e.InvalidPDFException=j;class W extends te{constructor(Te){super(Te,"MissingPDFException")}}e.MissingPDFException=W;class K extends te{constructor(Te,we){super(Te,"UnexpectedResponseException"),this.status=we}}e.UnexpectedResponseException=K;class le extends te{constructor(Te){super(Te,"FormatError")}}e.FormatError=le;class pe extends te{constructor(Te){super(Te,"AbortException")}}e.AbortException=pe;function xe(Ve){(typeof Ve!="object"||(Ve==null?void 0:Ve.length)===void 0)&&de("Invalid argument for bytesToString");const Te=Ve.length,we=8192;if(Te<we)return String.fromCharCode.apply(null,Ve);const Je=[];for(let Ge=0;Ge<Te;Ge+=we){const nn=Math.min(Ge+we,Te),Ht=Ve.subarray(Ge,nn);Je.push(String.fromCharCode.apply(null,Ht))}return Je.join("")}function $e(Ve){typeof Ve!="string"&&de("Invalid argument for stringToBytes");const Te=Ve.length,we=new Uint8Array(Te);for(let Je=0;Je<Te;++Je)we[Je]=Ve.charCodeAt(Je)&255;return we}function _e(Ve){return String.fromCharCode(Ve>>24&255,Ve>>16&255,Ve>>8&255,Ve&255)}function Be(Ve){return Object.keys(Ve).length}function Ue(Ve){const Te=Object.create(null);for(const[we,Je]of Ve)Te[we]=Je;return Te}function ot(){const Ve=new Uint8Array(4);return Ve[0]=1,new Uint32Array(Ve.buffer,0,1)[0]===1}function qe(){try{return new Function(""),!0}catch{return!1}}class Ct{static get isLittleEndian(){return it(this,"isLittleEndian",ot())}static get isEvalSupported(){return it(this,"isEvalSupported",qe())}static get isOffscreenCanvasSupported(){return it(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?it(this,"platform",{isWin:!1,isMac:!1}):it(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Te,we;return it(this,"isCSSRoundSupported",(we=(Te=globalThis.CSS)==null?void 0:Te.supports)==null?void 0:we.call(Te,"width: round(1.5px, 1px)"))}}e.FeatureTest=Ct;const Nt=[...Array(256).keys()].map(Ve=>Ve.toString(16).padStart(2,"0"));class gt{static makeHexColor(Te,we,Je){return`#${Nt[Te]}${Nt[we]}${Nt[Je]}`}static scaleMinMax(Te,we){let Je;Te[0]?(Te[0]<0&&(Je=we[0],we[0]=we[1],we[1]=Je),we[0]*=Te[0],we[1]*=Te[0],Te[3]<0&&(Je=we[2],we[2]=we[3],we[3]=Je),we[2]*=Te[3],we[3]*=Te[3]):(Je=we[0],we[0]=we[2],we[2]=Je,Je=we[1],we[1]=we[3],we[3]=Je,Te[1]<0&&(Je=we[2],we[2]=we[3],we[3]=Je),we[2]*=Te[1],we[3]*=Te[1],Te[2]<0&&(Je=we[0],we[0]=we[1],we[1]=Je),we[0]*=Te[2],we[1]*=Te[2]),we[0]+=Te[4],we[1]+=Te[4],we[2]+=Te[5],we[3]+=Te[5]}static transform(Te,we){return[Te[0]*we[0]+Te[2]*we[1],Te[1]*we[0]+Te[3]*we[1],Te[0]*we[2]+Te[2]*we[3],Te[1]*we[2]+Te[3]*we[3],Te[0]*we[4]+Te[2]*we[5]+Te[4],Te[1]*we[4]+Te[3]*we[5]+Te[5]]}static applyTransform(Te,we){const Je=Te[0]*we[0]+Te[1]*we[2]+we[4],Ge=Te[0]*we[1]+Te[1]*we[3]+we[5];return[Je,Ge]}static applyInverseTransform(Te,we){const Je=we[0]*we[3]-we[1]*we[2],Ge=(Te[0]*we[3]-Te[1]*we[2]+we[2]*we[5]-we[4]*we[3])/Je,nn=(-Te[0]*we[1]+Te[1]*we[0]+we[4]*we[1]-we[5]*we[0])/Je;return[Ge,nn]}static getAxialAlignedBoundingBox(Te,we){const Je=this.applyTransform(Te,we),Ge=this.applyTransform(Te.slice(2,4),we),nn=this.applyTransform([Te[0],Te[3]],we),Ht=this.applyTransform([Te[2],Te[1]],we);return[Math.min(Je[0],Ge[0],nn[0],Ht[0]),Math.min(Je[1],Ge[1],nn[1],Ht[1]),Math.max(Je[0],Ge[0],nn[0],Ht[0]),Math.max(Je[1],Ge[1],nn[1],Ht[1])]}static inverseTransform(Te){const we=Te[0]*Te[3]-Te[1]*Te[2];return[Te[3]/we,-Te[1]/we,-Te[2]/we,Te[0]/we,(Te[2]*Te[5]-Te[4]*Te[3])/we,(Te[4]*Te[1]-Te[5]*Te[0])/we]}static singularValueDecompose2dScale(Te){const we=[Te[0],Te[2],Te[1],Te[3]],Je=Te[0]*we[0]+Te[1]*we[2],Ge=Te[0]*we[1]+Te[1]*we[3],nn=Te[2]*we[0]+Te[3]*we[2],Ht=Te[2]*we[1]+Te[3]*we[3],Ce=(Je+Ht)/2,Ot=Math.sqrt((Je+Ht)**2-4*(Je*Ht-nn*Ge))/2,Qt=Ce+Ot||1,kt=Ce-Ot||1;return[Math.sqrt(Qt),Math.sqrt(kt)]}static normalizeRect(Te){const we=Te.slice(0);return Te[0]>Te[2]&&(we[0]=Te[2],we[2]=Te[0]),Te[1]>Te[3]&&(we[1]=Te[3],we[3]=Te[1]),we}static intersect(Te,we){const Je=Math.max(Math.min(Te[0],Te[2]),Math.min(we[0],we[2])),Ge=Math.min(Math.max(Te[0],Te[2]),Math.max(we[0],we[2]));if(Je>Ge)return null;const nn=Math.max(Math.min(Te[1],Te[3]),Math.min(we[1],we[3])),Ht=Math.min(Math.max(Te[1],Te[3]),Math.max(we[1],we[3]));return nn>Ht?null:[Je,nn,Ge,Ht]}static bezierBoundingBox(Te,we,Je,Ge,nn,Ht,Ce,Ot){const Qt=[],kt=[[],[]];let $t,jt,rn,ft,Kt,Dt,ye,B;for(let be=0;be<2;++be){if(be===0?(jt=6*Te-12*Je+6*nn,$t=-3*Te+9*Je-9*nn+3*Ce,rn=3*Je-3*Te):(jt=6*we-12*Ge+6*Ht,$t=-3*we+9*Ge-9*Ht+3*Ot,rn=3*Ge-3*we),Math.abs($t)<1e-12){if(Math.abs(jt)<1e-12)continue;ft=-rn/jt,0<ft&&ft<1&&Qt.push(ft);continue}ye=jt*jt-4*rn*$t,B=Math.sqrt(ye),!(ye<0)&&(Kt=(-jt+B)/(2*$t),0<Kt&&Kt<1&&Qt.push(Kt),Dt=(-jt-B)/(2*$t),0<Dt&&Dt<1&&Qt.push(Dt))}let oe=Qt.length,q;const he=oe;for(;oe--;)ft=Qt[oe],q=1-ft,kt[0][oe]=q*q*q*Te+3*q*q*ft*Je+3*q*ft*ft*nn+ft*ft*ft*Ce,kt[1][oe]=q*q*q*we+3*q*q*ft*Ge+3*q*ft*ft*Ht+ft*ft*ft*Ot;return kt[0][he]=Te,kt[1][he]=we,kt[0][he+1]=Ce,kt[1][he+1]=Ot,kt[0].length=kt[1].length=he+2,[Math.min(...kt[0]),Math.min(...kt[1]),Math.max(...kt[0]),Math.max(...kt[1])]}}e.Util=gt;const Pt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function tt(Ve){if(Ve[0]>=""){let we;if(Ve[0]===""&&Ve[1]===""?we="utf-16be":Ve[0]===""&&Ve[1]===""?we="utf-16le":Ve[0]===""&&Ve[1]===""&&Ve[2]===""&&(we="utf-8"),we)try{const Je=new TextDecoder(we,{fatal:!0}),Ge=$e(Ve);return Je.decode(Ge)}catch(Je){Pe(`stringToPDFString: "${Je}".`)}}const Te=[];for(let we=0,Je=Ve.length;we<Je;we++){const Ge=Pt[Ve.charCodeAt(we)];Te.push(Ge?String.fromCharCode(Ge):Ve.charAt(we))}return Te.join("")}function De(Ve){return decodeURIComponent(escape(Ve))}function Me(Ve){return unescape(encodeURIComponent(Ve))}function We(Ve){return typeof Ve=="object"&&(Ve==null?void 0:Ve.byteLength)!==void 0}function bt(Ve,Te){if(Ve.length!==Te.length)return!1;for(let we=0,Je=Ve.length;we<Je;we++)if(Ve[we]!==Te[we])return!1;return!0}function ht(Ve=new Date){return[Ve.getUTCFullYear().toString(),(Ve.getUTCMonth()+1).toString().padStart(2,"0"),Ve.getUTCDate().toString().padStart(2,"0"),Ve.getUTCHours().toString().padStart(2,"0"),Ve.getUTCMinutes().toString().padStart(2,"0"),Ve.getUTCSeconds().toString().padStart(2,"0")].join("")}class It{constructor(){ke(this,Lt,!1);this.promise=new Promise((Te,we)=>{this.resolve=Je=>{Ie(this,Lt,!0),Te(Je)},this.reject=Je=>{Ie(this,Lt,!0),we(Je)}})}get settled(){return N(this,Lt)}}Lt=new WeakMap,e.PromiseCapability=It;let Mt=null,Bt=null;function et(Ve){return Mt||(Mt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Bt=new Map([["","t"]])),Ve.replaceAll(Mt,(Te,we,Je)=>we?we.normalize("NFKC"):Bt.get(Je))}function St(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Ve=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Ve);else for(let Te=0;Te<32;Te++)Ve[Te]=Math.floor(Math.random()*255);return xe(Ve)}const Et="pdfjs_internal_id_";e.AnnotationPrefix=Et},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var s,n,r,a,zo,u,Mh,d,O,g,x,T,E,R,M,$,$h,X,Y,Gm,L,I;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ne){if(typeof ne=="string"||ne instanceof URL?ne={url:ne}:(0,_util.isArrayBuffer)(ne)&&(ne={data:ne}),typeof ne!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ne.url&&!ne.data&&!ne.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const z=new PDFDocumentLoadingTask,{docId:ae}=z,H=ne.url?getUrlProp(ne.url):null,fe=ne.data?getDataProp(ne.data):null,me=ne.httpHeaders||null,se=ne.withCredentials===!0,Se=ne.password??null,Ae=ne.range instanceof PDFDataRangeTransport?ne.range:null,Pe=Number.isInteger(ne.rangeChunkSize)&&ne.rangeChunkSize>0?ne.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let de=ne.worker instanceof PDFWorker?ne.worker:null;const Fe=ne.verbosity,Ke=typeof ne.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ne.docBaseUrl)?ne.docBaseUrl:null,ct=typeof ne.cMapUrl=="string"?ne.cMapUrl:null,it=ne.cMapPacked!==!1,te=ne.CMapReaderFactory||DefaultCMapReaderFactory,D=typeof ne.standardFontDataUrl=="string"?ne.standardFontDataUrl:null,F=ne.StandardFontDataFactory||DefaultStandardFontDataFactory,j=ne.stopAtErrors!==!0,W=Number.isInteger(ne.maxImageSize)&&ne.maxImageSize>-1?ne.maxImageSize:-1,K=ne.isEvalSupported!==!1,le=typeof ne.isOffscreenCanvasSupported=="boolean"?ne.isOffscreenCanvasSupported:!_util.isNodeJS,pe=Number.isInteger(ne.canvasMaxAreaInBytes)?ne.canvasMaxAreaInBytes:-1,xe=typeof ne.disableFontFace=="boolean"?ne.disableFontFace:_util.isNodeJS,$e=ne.fontExtraProperties===!0,_e=ne.enableXfa===!0,Be=ne.ownerDocument||globalThis.document,Ue=ne.disableRange===!0,ot=ne.disableStream===!0,qe=ne.disableAutoFetch===!0,Ct=ne.pdfBug===!0,Nt=Ae?Ae.length:ne.length??NaN,gt=typeof ne.useSystemFonts=="boolean"?ne.useSystemFonts:!_util.isNodeJS&&!xe,Pt=typeof ne.useWorkerFetch=="boolean"?ne.useWorkerFetch:te===_display_utils.DOMCMapReaderFactory&&F===_display_utils.DOMStandardFontDataFactory&&ct&&D&&(0,_display_utils.isValidFetchUrl)(ct,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(D,document.baseURI),tt=ne.canvasFactory||new DefaultCanvasFactory({ownerDocument:Be}),De=ne.filterFactory||new DefaultFilterFactory({docId:ae,ownerDocument:Be}),Me=null;(0,_util.setVerbosityLevel)(Fe);const We={canvasFactory:tt,filterFactory:De};if(Pt||(We.cMapReaderFactory=new te({baseUrl:ct,isCompressed:it}),We.standardFontDataFactory=new F({baseUrl:D})),!de){const It={verbosity:Fe,port:_worker_options.GlobalWorkerOptions.workerPort};de=It.port?PDFWorker.fromPort(It):new PDFWorker(It),z._worker=de}const bt={docId:ae,apiVersion:"3.11.174",data:fe,password:Se,disableAutoFetch:qe,rangeChunkSize:Pe,length:Nt,docBaseUrl:Ke,enableXfa:_e,evaluatorOptions:{maxImageSize:W,disableFontFace:xe,ignoreErrors:j,isEvalSupported:K,isOffscreenCanvasSupported:le,canvasMaxAreaInBytes:pe,fontExtraProperties:$e,useSystemFonts:gt,cMapUrl:Pt?ct:null,standardFontDataUrl:Pt?D:null}},ht={ignoreErrors:j,isEvalSupported:K,disableFontFace:xe,fontExtraProperties:$e,enableXfa:_e,ownerDocument:Be,disableAutoFetch:qe,pdfBug:Ct,styleElement:Me};return de.promise.then(function(){if(z.destroyed)throw new Error("Loading aborted");const It=_fetchDocument(de,bt),Mt=new Promise(function(Bt){let et;Ae?et=new _transport_stream.PDFDataTransportStream({length:Nt,initialData:Ae.initialData,progressiveDone:Ae.progressiveDone,contentDispositionFilename:Ae.contentDispositionFilename,disableRange:Ue,disableStream:ot},Ae):fe||(et=(Et=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Et):(0,_display_utils.isValidFetchUrl)(Et.url)?new _displayFetch_stream.PDFFetchStream(Et):new _displayNetwork.PDFNetworkStream(Et))({url:H,length:Nt,httpHeaders:me,withCredentials:se,rangeChunkSize:Pe,disableRange:Ue,disableStream:ot})),Bt(et)});return Promise.all([It,Mt]).then(function([Bt,et]){if(z.destroyed)throw new Error("Loading aborted");const St=new _message_handler.MessageHandler(ae,Bt,de.port),Et=new WorkerTransport(St,z,et,ht,We);z._transport=Et,St.send("Ready",null)})}).catch(z._capability.reject),z}async function _fetchDocument(ne,z){if(ne.destroyed)throw new Error("Worker was destroyed");const ae=await ne.messageHandler.sendWithPromise("GetDocRequest",z,z.data?[z.data.buffer]:null);if(ne.destroyed)throw new Error("Worker was destroyed");return ae}function getUrlProp(ne){if(ne instanceof URL)return ne.href;try{return new URL(ne,window.location).href}catch{if(_util.isNodeJS&&typeof ne=="string")return ne}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ne){if(_util.isNodeJS&&typeof Buffer<"u"&&ne instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength)return ne;if(typeof ne=="string")return(0,_util.stringToBytes)(ne);if(typeof ne=="object"&&!isNaN(ne==null?void 0:ne.length)||(0,_util.isArrayBuffer)(ne))return new Uint8Array(ne);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Cc(e,s)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var z,ae,H;this.destroyed=!0;try{(z=this._worker)!=null&&z.port&&(this._worker._pendingDestroy=!0),await((ae=this._transport)==null?void 0:ae.destroy())}catch(fe){throw(H=this._worker)!=null&&H.port&&delete this._worker._pendingDestroy,fe}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};s=new WeakMap,ke(e,s,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(z,ae,H=!1,fe=null){this.length=z,this.initialData=ae,this.progressiveDone=H,this.contentDispositionFilename=fe,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(z){this._rangeListeners.push(z)}addProgressListener(z){this._progressListeners.push(z)}addProgressiveReadListener(z){this._progressiveReadListeners.push(z)}addProgressiveDoneListener(z){this._progressiveDoneListeners.push(z)}onDataRange(z,ae){for(const H of this._rangeListeners)H(z,ae)}onDataProgress(z,ae){this._readyCapability.promise.then(()=>{for(const H of this._progressListeners)H(z,ae)})}onDataProgressiveRead(z){this._readyCapability.promise.then(()=>{for(const ae of this._progressiveReadListeners)ae(z)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const z of this._progressiveDoneListeners)z()})}transportReady(){this._readyCapability.resolve()}requestDataRange(z,ae){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(z,ae){this._pdfInfo=z,this._transport=ae,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(H=>{if(!H)return H;const fe=[];for(const me in H)fe.push(...H[me]);return fe}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(z){return this._transport.getPage(z)}getPageIndex(z){return this._transport.getPageIndex(z)}getDestinations(){return this._transport.getDestinations()}getDestination(z){return this._transport.getDestination(z)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(z=!1){return this._transport.startCleanup(z||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(z,ae,H,fe=!1){ke(this,a);ke(this,u);ke(this,n,null);ke(this,r,!1);this._pageIndex=z,this._pageInfo=ae,this._transport=H,this._stats=fe?new _display_utils.StatTimer:null,this._pdfBug=fe,this.commonObjs=H.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:z,rotation:ae=this.rotate,offsetX:H=0,offsetY:fe=0,dontFlip:me=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:z,rotation:ae,offsetX:H,offsetY:fe,dontFlip:me})}getAnnotations({intent:z="display"}={}){const ae=this._transport.getRenderingIntent(z);return this._transport.getAnnotations(this._pageIndex,ae.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var z;return((z=this._transport._htmlForXfa)==null?void 0:z.children[this._pageIndex])||null}render({canvasContext:z,viewport:ae,intent:H="display",annotationMode:fe=_util.AnnotationMode.ENABLE,transform:me=null,background:se=null,optionalContentConfigPromise:Se=null,annotationCanvasMap:Ae=null,pageColors:Pe=null,printAnnotationStorage:de=null}){var F,j;(F=this._stats)==null||F.time("Overall");const Fe=this._transport.getRenderingIntent(H,fe,de);Ie(this,r,!1),Re(this,u,Mh).call(this),Se||(Se=this._transport.getOptionalContentConfig());let Ke=this._intentStates.get(Fe.cacheKey);Ke||(Ke=Object.create(null),this._intentStates.set(Fe.cacheKey,Ke)),Ke.streamReaderCancelTimeout&&(clearTimeout(Ke.streamReaderCancelTimeout),Ke.streamReaderCancelTimeout=null);const ct=!!(Fe.renderingIntent&_util.RenderingIntentFlag.PRINT);Ke.displayReadyCapability||(Ke.displayReadyCapability=new _util.PromiseCapability,Ke.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(j=this._stats)==null||j.time("Page Request"),this._pumpOperatorList(Fe));const it=W=>{var K,le;Ke.renderTasks.delete(te),(this._maybeCleanupAfterRender||ct)&&Ie(this,r,!0),Re(this,a,zo).call(this,!ct),W?(te.capability.reject(W),this._abortOperatorList({intentState:Ke,reason:W instanceof Error?W:new Error(W)})):te.capability.resolve(),(K=this._stats)==null||K.timeEnd("Rendering"),(le=this._stats)==null||le.timeEnd("Overall")},te=new InternalRenderTask({callback:it,params:{canvasContext:z,viewport:ae,transform:me,background:se},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ae,operatorList:Ke.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ct,pdfBug:this._pdfBug,pageColors:Pe});(Ke.renderTasks||(Ke.renderTasks=new Set)).add(te);const D=te.task;return Promise.all([Ke.displayReadyCapability.promise,Se]).then(([W,K])=>{var le;if(this.destroyed){it();return}(le=this._stats)==null||le.time("Rendering"),te.initializeGraphics({transparency:W,optionalContentConfig:K}),te.operatorListChanged()}).catch(it),D}getOperatorList({intent:z="display",annotationMode:ae=_util.AnnotationMode.ENABLE,printAnnotationStorage:H=null}={}){var Ae;function fe(){se.operatorList.lastChunk&&(se.opListReadCapability.resolve(se.operatorList),se.renderTasks.delete(Se))}const me=this._transport.getRenderingIntent(z,ae,H,!0);let se=this._intentStates.get(me.cacheKey);se||(se=Object.create(null),this._intentStates.set(me.cacheKey,se));let Se;return se.opListReadCapability||(Se=Object.create(null),Se.operatorListChanged=fe,se.opListReadCapability=new _util.PromiseCapability,(se.renderTasks||(se.renderTasks=new Set)).add(Se),se.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ae=this._stats)==null||Ae.time("Page Request"),this._pumpOperatorList(me)),se.opListReadCapability.promise}streamTextContent({includeMarkedContent:z=!1,disableNormalization:ae=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:z===!0,disableNormalization:ae===!0},{highWaterMark:100,size(fe){return fe.items.length}})}getTextContent(z={}){if(this._transport._htmlForXfa)return this.getXfa().then(H=>_xfa_text.XfaText.textContent(H));const ae=this.streamTextContent(z);return new Promise(function(H,fe){function me(){se.read().then(function({value:Ae,done:Pe}){if(Pe){H(Se);return}Object.assign(Se.styles,Ae.styles),Se.items.push(...Ae.items),me()},fe)}const se=ae.getReader(),Se={items:[],styles:Object.create(null)};me()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const z=[];for(const ae of this._intentStates.values())if(this._abortOperatorList({intentState:ae,reason:new Error("Page was destroyed."),force:!0}),!ae.opListReadCapability)for(const H of ae.renderTasks)z.push(H.completed),H.cancel();return this.objs.clear(),Ie(this,r,!1),Re(this,u,Mh).call(this),Promise.all(z)}cleanup(z=!1){Ie(this,r,!0);const ae=Re(this,a,zo).call(this,!1);return z&&ae&&this._stats&&(this._stats=new _display_utils.StatTimer),ae}_startRenderPage(z,ae){var fe,me;const H=this._intentStates.get(ae);H&&((fe=this._stats)==null||fe.timeEnd("Page Request"),(me=H.displayReadyCapability)==null||me.resolve(z))}_renderPageChunk(z,ae){for(let H=0,fe=z.length;H<fe;H++)ae.operatorList.fnArray.push(z.fnArray[H]),ae.operatorList.argsArray.push(z.argsArray[H]);ae.operatorList.lastChunk=z.lastChunk,ae.operatorList.separateAnnots=z.separateAnnots;for(const H of ae.renderTasks)H.operatorListChanged();z.lastChunk&&Re(this,a,zo).call(this,!0)}_pumpOperatorList({renderingIntent:z,cacheKey:ae,annotationStorageSerializable:H}){const{map:fe,transfers:me}=H,Se=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:z,cacheKey:ae,annotationStorage:fe},me).getReader(),Ae=this._intentStates.get(ae);Ae.streamReader=Se;const Pe=()=>{Se.read().then(({value:de,done:Fe})=>{if(Fe){Ae.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(de,Ae),Pe())},de=>{if(Ae.streamReader=null,!this._transport.destroyed){if(Ae.operatorList){Ae.operatorList.lastChunk=!0;for(const Fe of Ae.renderTasks)Fe.operatorListChanged();Re(this,a,zo).call(this,!0)}if(Ae.displayReadyCapability)Ae.displayReadyCapability.reject(de);else if(Ae.opListReadCapability)Ae.opListReadCapability.reject(de);else throw de}})};Pe()}_abortOperatorList({intentState:z,reason:ae,force:H=!1}){if(z.streamReader){if(z.streamReaderCancelTimeout&&(clearTimeout(z.streamReaderCancelTimeout),z.streamReaderCancelTimeout=null),!H){if(z.renderTasks.size>0)return;if(ae instanceof _display_utils.RenderingCancelledException){let fe=RENDERING_CANCELLED_TIMEOUT;ae.extraDelay>0&&ae.extraDelay<1e3&&(fe+=ae.extraDelay),z.streamReaderCancelTimeout=setTimeout(()=>{z.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:z,reason:ae,force:!0})},fe);return}}if(z.streamReader.cancel(new _util.AbortException(ae.message)).catch(()=>{}),z.streamReader=null,!this._transport.destroyed){for(const[fe,me]of this._intentStates)if(me===z){this._intentStates.delete(fe);break}this.cleanup()}}}get stats(){return this._stats}}n=new WeakMap,r=new WeakMap,a=new WeakSet,zo=function(z=!1){if(Re(this,u,Mh).call(this),!N(this,r)||this.destroyed)return!1;if(z)return Ie(this,n,setTimeout(()=>{Ie(this,n,null),Re(this,a,zo).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ae,operatorList:H}of this._intentStates.values())if(ae.size>0||!H.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ie(this,r,!1),!0},u=new WeakSet,Mh=function(){N(this,n)&&(clearTimeout(N(this,n)),Ie(this,n,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ke(this,d,new Set);ke(this,O,Promise.resolve())}postMessage(z,ae){const H={data:structuredClone(z,ae?{transfer:ae}:null)};N(this,O).then(()=>{for(const fe of N(this,d))fe.call(this,H)})}addEventListener(z,ae){N(this,d).add(ae)}removeEventListener(z,ae){N(this,d).delete(ae)}terminate(){N(this,d).clear()}}d=new WeakMap,O=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ne=(g=document==null?void 0:document.currentScript)==null?void 0:g.src;ne&&(PDFWorkerUtil.fallbackWorkerSrc=ne.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ne,z){let ae;try{if(ae=new URL(ne),!ae.origin||ae.origin==="null")return!1}catch{return!1}const H=new URL(z,ae);return ae.origin===H.origin},PDFWorkerUtil.createCDNWrapper=function(ne){const z=`importScripts("${ne}");`;return URL.createObjectURL(new Blob([z]))}}const _PDFWorker=class _PDFWorker{constructor({name:ne=null,port:z=null,verbosity:ae=(0,_util.getVerbosityLevel)()}={}){var H;if(this.name=ne,this.destroyed=!1,this.verbosity=ae,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,z){if((H=N(_PDFWorker,x))!=null&&H.has(z))throw new Error("Cannot use more than one PDFWorker per port.");(N(_PDFWorker,x)||Ie(_PDFWorker,x,new WeakMap)).set(z,this),this._initializeFromPort(z);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ne){this._port=ne,this._messageHandler=new _message_handler.MessageHandler("main","worker",ne),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ne}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ne)||(ne=PDFWorkerUtil.createCDNWrapper(new URL(ne,window.location).href));const z=new Worker(ne),ae=new _message_handler.MessageHandler("main","worker",z),H=()=>{z.removeEventListener("error",fe),ae.destroy(),z.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},fe=()=>{this._webWorker||H()};z.addEventListener("error",fe),ae.on("test",se=>{if(z.removeEventListener("error",fe),this.destroyed){H();return}se?(this._messageHandler=ae,this._port=z,this._webWorker=z,this._readyCapability.resolve(),ae.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ae.destroy(),z.terminate())}),ae.on("ready",se=>{if(z.removeEventListener("error",fe),this.destroyed){H();return}try{me()}catch{this._setupFakeWorker()}});const me=()=>{const se=new Uint8Array;ae.send("test",se,[se.buffer])};me();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ne=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const z=new LoopbackPort;this._port=z;const ae=`fake${PDFWorkerUtil.fakeWorkerId++}`,H=new _message_handler.MessageHandler(ae+"_worker",ae,z);ne.setup(H,z);const fe=new _message_handler.MessageHandler(ae,ae+"_worker",z);this._messageHandler=fe,this._readyCapability.resolve(),fe.send("configure",{verbosity:this.verbosity})}).catch(ne=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ne.message}".`))})}destroy(){var ne;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ne=N(_PDFWorker,x))==null||ne.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ne){var ae;if(!(ne!=null&&ne.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const z=(ae=N(this,x))==null?void 0:ae.get(ne.port);if(z){if(z._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return z}return new _PDFWorker(ne)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ne;try{return((ne=globalThis.pdfjsWorker)==null?void 0:ne.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};x=new WeakMap,ke(_PDFWorker,x,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(z,ae,H,fe,me){ke(this,$);ke(this,T,new Map);ke(this,E,new Map);ke(this,R,new Map);ke(this,M,null);this.messageHandler=z,this.loadingTask=ae,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:fe.ownerDocument,styleElement:fe.styleElement}),this._params=fe,this.canvasFactory=me.canvasFactory,this.filterFactory=me.filterFactory,this.cMapReaderFactory=me.cMapReaderFactory,this.standardFontDataFactory=me.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=H,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(z,ae=_util.AnnotationMode.ENABLE,H=null,fe=!1){let me=_util.RenderingIntentFlag.DISPLAY,se=_annotation_storage.SerializableEmpty;switch(z){case"any":me=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":me=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${z}`)}switch(ae){case _util.AnnotationMode.DISABLE:me+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:me+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:me+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,se=(me&_util.RenderingIntentFlag.PRINT&&H instanceof _annotation_storage.PrintAnnotationStorage?H:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ae}`)}return fe&&(me+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:me,cacheKey:`${me}_${se.hash}`,annotationStorageSerializable:se}}destroy(){var H;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(H=N(this,M))==null||H.reject(new Error("Worker was destroyed during onPassword callback"));const z=[];for(const fe of N(this,E).values())z.push(fe._destroy());N(this,E).clear(),N(this,R).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ae=this.messageHandler.sendWithPromise("Terminate",null);return z.push(ae),Promise.all(z).then(()=>{var fe;this.commonObjs.clear(),this.fontLoader.clear(),N(this,T).clear(),this.filterFactory.destroy(),(fe=this._networkStream)==null||fe.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:z,loadingTask:ae}=this;z.on("GetReader",(H,fe)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=me=>{this._lastProgress={loaded:me.loaded,total:me.total}},fe.onPull=()=>{this._fullReader.read().then(function({value:me,done:se}){if(se){fe.close();return}(0,_util.assert)(me instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),fe.enqueue(new Uint8Array(me),1,[me])}).catch(me=>{fe.error(me)})},fe.onCancel=me=>{this._fullReader.cancel(me),fe.ready.catch(se=>{if(!this.destroyed)throw se})}}),z.on("ReaderHeadersReady",H=>{const fe=new _util.PromiseCapability,me=this._fullReader;return me.headersReady.then(()=>{var se;(!me.isStreamingSupported||!me.isRangeSupported)&&(this._lastProgress&&((se=ae.onProgress)==null||se.call(ae,this._lastProgress)),me.onProgress=Se=>{var Ae;(Ae=ae.onProgress)==null||Ae.call(ae,{loaded:Se.loaded,total:Se.total})}),fe.resolve({isStreamingSupported:me.isStreamingSupported,isRangeSupported:me.isRangeSupported,contentLength:me.contentLength})},fe.reject),fe.promise}),z.on("GetRangeReader",(H,fe)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const me=this._networkStream.getRangeReader(H.begin,H.end);if(!me){fe.close();return}fe.onPull=()=>{me.read().then(function({value:se,done:Se}){if(Se){fe.close();return}(0,_util.assert)(se instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),fe.enqueue(new Uint8Array(se),1,[se])}).catch(se=>{fe.error(se)})},fe.onCancel=se=>{me.cancel(se),fe.ready.catch(Se=>{if(!this.destroyed)throw Se})}}),z.on("GetDoc",({pdfInfo:H})=>{this._numPages=H.numPages,this._htmlForXfa=H.htmlForXfa,delete H.htmlForXfa,ae._capability.resolve(new PDFDocumentProxy(H,this))}),z.on("DocException",function(H){let fe;switch(H.name){case"PasswordException":fe=new _util.PasswordException(H.message,H.code);break;case"InvalidPDFException":fe=new _util.InvalidPDFException(H.message);break;case"MissingPDFException":fe=new _util.MissingPDFException(H.message);break;case"UnexpectedResponseException":fe=new _util.UnexpectedResponseException(H.message,H.status);break;case"UnknownErrorException":fe=new _util.UnknownErrorException(H.message,H.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ae._capability.reject(fe)}),z.on("PasswordRequest",H=>{if(Ie(this,M,new _util.PromiseCapability),ae.onPassword){const fe=me=>{me instanceof Error?N(this,M).reject(me):N(this,M).resolve({password:me})};try{ae.onPassword(fe,H.code)}catch(me){N(this,M).reject(me)}}else N(this,M).reject(new _util.PasswordException(H.message,H.code));return N(this,M).promise}),z.on("DataLoaded",H=>{var fe;(fe=ae.onProgress)==null||fe.call(ae,{loaded:H.length,total:H.length}),this.downloadInfoCapability.resolve(H)}),z.on("StartRenderPage",H=>{if(this.destroyed)return;N(this,E).get(H.pageIndex)._startRenderPage(H.transparency,H.cacheKey)}),z.on("commonobj",([H,fe,me])=>{var se;if(!this.destroyed&&!this.commonObjs.has(H))switch(fe){case"Font":const Se=this._params;if("error"in me){const de=me.error;(0,_util.warn)(`Error during font loading: ${de}`),this.commonObjs.resolve(H,de);break}const Ae=Se.pdfBug&&((se=globalThis.FontInspector)!=null&&se.enabled)?(de,Fe)=>globalThis.FontInspector.fontAdded(de,Fe):null,Pe=new _font_loader.FontFaceObject(me,{isEvalSupported:Se.isEvalSupported,disableFontFace:Se.disableFontFace,ignoreErrors:Se.ignoreErrors,inspectFont:Ae});this.fontLoader.bind(Pe).catch(de=>z.sendWithPromise("FontFallback",{id:H})).finally(()=>{!Se.fontExtraProperties&&Pe.data&&(Pe.data=null),this.commonObjs.resolve(H,Pe)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(H,me);break;default:throw new Error(`Got unknown common object type ${fe}`)}}),z.on("obj",([H,fe,me,se])=>{var Ae;if(this.destroyed)return;const Se=N(this,E).get(fe);if(!Se.objs.has(H))switch(me){case"Image":if(Se.objs.resolve(H,se),se){let Pe;if(se.bitmap){const{width:de,height:Fe}=se;Pe=de*Fe*4}else Pe=((Ae=se.data)==null?void 0:Ae.length)||0;Pe>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Se._maybeCleanupAfterRender=!0)}break;case"Pattern":Se.objs.resolve(H,se);break;default:throw new Error(`Got unknown object type ${me}`)}}),z.on("DocProgress",H=>{var fe;this.destroyed||(fe=ae.onProgress)==null||fe.call(ae,{loaded:H.loaded,total:H.total})}),z.on("FetchBuiltInCMap",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(H):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),z.on("FetchStandardFontData",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(H):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var H;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:z,transfers:ae}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:z,filename:((H=this._fullReader)==null?void 0:H.filename)??null},ae).finally(()=>{this.annotationStorage.resetModified()})}getPage(z){if(!Number.isInteger(z)||z<=0||z>this._numPages)return Promise.reject(new Error("Invalid page request."));const ae=z-1,H=N(this,R).get(ae);if(H)return H;const fe=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ae}).then(me=>{if(this.destroyed)throw new Error("Transport destroyed");const se=new PDFPageProxy(ae,me,this,this._params.pdfBug);return N(this,E).set(ae,se),se});return N(this,R).set(ae,fe),fe}getPageIndex(z){return typeof z!="object"||z===null||!Number.isInteger(z.num)||z.num<0||!Number.isInteger(z.gen)||z.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:z.num,gen:z.gen})}getAnnotations(z,ae){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:z,intent:ae})}getFieldObjects(){return Re(this,$,$h).call(this,"GetFieldObjects")}hasJSActions(){return Re(this,$,$h).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(z){return typeof z!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:z})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Re(this,$,$h).call(this,"GetDocJSActions")}getPageJSActions(z){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:z})}getStructTree(z){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:z})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(z=>new _optional_content_config.OptionalContentConfig(z))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const z="GetMetadata",ae=N(this,T).get(z);if(ae)return ae;const H=this.messageHandler.sendWithPromise(z,null).then(fe=>{var me,se;return{info:fe[0],metadata:fe[1]?new _metadata.Metadata(fe[1]):null,contentDispositionFilename:((me=this._fullReader)==null?void 0:me.filename)??null,contentLength:((se=this._fullReader)==null?void 0:se.contentLength)??null}});return N(this,T).set(z,H),H}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(z=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ae of N(this,E).values())if(!ae.cleanup())throw new Error(`startCleanup: Page ${ae.pageNumber} is currently rendering.`);this.commonObjs.clear(),z||this.fontLoader.clear(),N(this,T).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:z,enableXfa:ae}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:z,enableXfa:ae})}}T=new WeakMap,E=new WeakMap,R=new WeakMap,M=new WeakMap,$=new WeakSet,$h=function(z,ae=null){const H=N(this,T).get(z);if(H)return H;const fe=this.messageHandler.sendWithPromise(z,ae);return N(this,T).set(z,fe),fe};class PDFObjects{constructor(){ke(this,Y);ke(this,X,Object.create(null))}get(z,ae=null){if(ae){const fe=Re(this,Y,Gm).call(this,z);return fe.capability.promise.then(()=>ae(fe.data)),null}const H=N(this,X)[z];if(!(H!=null&&H.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${z}.`);return H.data}has(z){const ae=N(this,X)[z];return(ae==null?void 0:ae.capability.settled)||!1}resolve(z,ae=null){const H=Re(this,Y,Gm).call(this,z);H.data=ae,H.capability.resolve()}clear(){var z;for(const ae in N(this,X)){const{data:H}=N(this,X)[ae];(z=H==null?void 0:H.bitmap)==null||z.close()}Ie(this,X,Object.create(null))}}X=new WeakMap,Y=new WeakSet,Gm=function(z){var ae;return(ae=N(this,X))[z]||(ae[z]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(z){ke(this,L,null);Ie(this,L,z),this.onContinue=null}get promise(){return N(this,L).capability.promise}cancel(z=0){N(this,L).cancel(null,z)}get separateAnnots(){const{separateAnnots:z}=N(this,L).operatorList;if(!z)return!1;const{annotationCanvasMap:ae}=N(this,L);return z.form||z.canvas&&(ae==null?void 0:ae.size)>0}}L=new WeakMap,exports.RenderTask=RenderTask;const ee=class ee{constructor({callback:z,params:ae,objs:H,commonObjs:fe,annotationCanvasMap:me,operatorList:se,pageIndex:Se,canvasFactory:Ae,filterFactory:Pe,useRequestAnimationFrame:de=!1,pdfBug:Fe=!1,pageColors:Ke=null}){this.callback=z,this.params=ae,this.objs=H,this.commonObjs=fe,this.annotationCanvasMap=me,this.operatorListIdx=null,this.operatorList=se,this._pageIndex=Se,this.canvasFactory=Ae,this.filterFactory=Pe,this._pdfBug=Fe,this.pageColors=Ke,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=de===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ae.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:z=!1,optionalContentConfig:ae}){var Se,Ae;if(this.cancelled)return;if(this._canvas){if(N(ee,I).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");N(ee,I).add(this._canvas)}this._pdfBug&&((Se=globalThis.StepperManager)!=null&&Se.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:H,viewport:fe,transform:me,background:se}=this.params;this.gfx=new _canvas.CanvasGraphics(H,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ae},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:me,viewport:fe,transparency:z,background:se}),this.operatorListIdx=0,this.graphicsReady=!0,(Ae=this.graphicsReadyCallback)==null||Ae.call(this)}cancel(z=null,ae=0){var H;this.running=!1,this.cancelled=!0,(H=this.gfx)==null||H.endDrawing(),N(ee,I).delete(this._canvas),this.callback(z||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ae))}operatorListChanged(){var z;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(z=this.stepper)==null||z.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),N(ee,I).delete(this._canvas),this.callback())))}};I=new WeakMap,ke(ee,I,new WeakSet);let InternalRenderTask=ee;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(s,e,n)=>{var O,g,x,L0,E;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var r=n(1),a=n(4),c=n(8);const u=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=u;class f{constructor(){ke(this,x);ke(this,O,!1);ke(this,g,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(M,$){const V=N(this,g).get(M);return V===void 0?$:Object.assign($,V)}getRawValue(M){return N(this,g).get(M)}remove(M){if(N(this,g).delete(M),N(this,g).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const $ of N(this,g).values())if($ instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(M,$){const V=N(this,g).get(M);let X=!1;if(V!==void 0)for(const[Y,G]of Object.entries($))V[Y]!==G&&(X=!0,V[Y]=G);else X=!0,N(this,g).set(M,$);X&&Re(this,x,L0).call(this),$ instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor($.constructor._type)}has(M){return N(this,g).has(M)}getAll(){return N(this,g).size>0?(0,r.objectFromMap)(N(this,g)):null}setAll(M){for(const[$,V]of Object.entries(M))this.setValue($,V)}get size(){return N(this,g).size}resetModified(){N(this,O)&&(Ie(this,O,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new d(this)}get serializable(){if(N(this,g).size===0)return u;const M=new Map,$=new c.MurmurHash3_64,V=[],X=Object.create(null);let Y=!1;for(const[G,L]of N(this,g)){const I=L instanceof a.AnnotationEditor?L.serialize(!1,X):L;I&&(M.set(G,I),$.update(`${G}:${JSON.stringify(I)}`),Y||(Y=!!I.bitmap))}if(Y)for(const G of M.values())G.bitmap&&V.push(G.bitmap);return M.size>0?{map:M,hash:$.hexdigest(),transfers:V}:u}}O=new WeakMap,g=new WeakMap,x=new WeakSet,L0=function(){N(this,O)||(Ie(this,O,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=f;class d extends f{constructor($){super();ke(this,E,void 0);const{map:V,hash:X,transfers:Y}=$.serializable,G=structuredClone(V,Y?{transfer:Y}:null);Ie(this,E,{map:G,hash:X,transfers:Y})}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return N(this,E)}}E=new WeakMap,e.PrintAnnotationStorage=d},(s,e,n)=>{var d,O,g,x,T,E,R,M,$,V,X,Y,G,L,I,Km,ne,Jm,ae,eg,fe,tg,se,N0,Ae,j0,de,F0,Ke,ng,it,V0;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var r=n(5),a=n(1),c=n(6);const D=class D{constructor(j){ke(this,I);ke(this,ne);ke(this,fe);ke(this,se);ke(this,Ae);ke(this,de);ke(this,Ke);ke(this,it);ke(this,d,"");ke(this,O,!1);ke(this,g,null);ke(this,x,null);ke(this,T,null);ke(this,E,!1);ke(this,R,null);ke(this,M,this.focusin.bind(this));ke(this,$,this.focusout.bind(this));ke(this,V,!1);ke(this,X,!1);ke(this,Y,!1);Fn(this,"_initialOptions",Object.create(null));Fn(this,"_uiManager",null);Fn(this,"_focusEventsAllowed",!0);Fn(this,"_l10nPromise",null);ke(this,G,!1);ke(this,L,D._zIndex++);this.constructor===D&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=j.parent,this.id=j.id,this.width=this.height=null,this.pageIndex=j.parent.pageIndex,this.name=j.name,this.div=null,this._uiManager=j.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=j.isCentered,this._structTreeParentId=null;const{rotation:W,rawDims:{pageWidth:K,pageHeight:le,pageX:pe,pageY:xe}}=this.parent.viewport;this.rotation=W,this.pageRotation=(360+W-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[K,le],this.pageTranslation=[pe,xe];const[$e,_e]=this.parentDimensions;this.x=j.x/$e,this.y=j.y/_e,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(j){const W=new f({id:j.parent.getNextId(),parent:j.parent,uiManager:j._uiManager});W.annotationElementId=j.annotationElementId,W.deleted=!0,W._uiManager.addToAnnotationStorage(W)}static initialize(j,W=null){if(D._l10nPromise||(D._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(le=>[le,j.get(le)]))),W!=null&&W.strings)for(const le of W.strings)D._l10nPromise.set(le,j.get(le));if(D._borderLineWidth!==-1)return;const K=getComputedStyle(document.documentElement);D._borderLineWidth=parseFloat(K.getPropertyValue("--outline-width"))||0}static updateDefaultParams(j,W){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(j){return!1}static paste(j,W){(0,a.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return N(this,G)}set _isDraggable(j){var W;Ie(this,G,j),(W=this.div)==null||W.classList.toggle("draggable",j)}center(){const[j,W]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*W/(j*2),this.y+=this.width*j/(W*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*W/(j*2),this.y-=this.width*j/(W*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(j){this._uiManager.addCommands(j)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=N(this,L)}setParent(j){j!==null&&(this.pageIndex=j.pageIndex,this.pageDimensions=j.pageDimensions),this.parent=j}focusin(j){this._focusEventsAllowed&&(N(this,V)?Ie(this,V,!1):this.parent.setSelected(this))}focusout(j){var K;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const W=j.relatedTarget;W!=null&&W.closest(`#${this.id}`)||(j.preventDefault(),(K=this.parent)!=null&&K.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(j,W,K,le){const[pe,xe]=this.parentDimensions;[K,le]=this.screenToPageTranslation(K,le),this.x=(j+K)/pe,this.y=(W+le)/xe,this.fixAndSetPosition()}translate(j,W){Re(this,I,Km).call(this,this.parentDimensions,j,W)}translateInPage(j,W){Re(this,I,Km).call(this,this.pageDimensions,j,W),this.div.scrollIntoView({block:"nearest"})}drag(j,W){const[K,le]=this.parentDimensions;if(this.x+=j/K,this.y+=W/le,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Be,y:Ue}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Be,Ue)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:pe,y:xe}=this;const[$e,_e]=Re(this,ne,Jm).call(this);pe+=$e,xe+=_e,this.div.style.left=`${(100*pe).toFixed(2)}%`,this.div.style.top=`${(100*xe).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[j,W]=this.pageDimensions;let{x:K,y:le,width:pe,height:xe}=this;switch(pe*=j,xe*=W,K*=j,le*=W,this.rotation){case 0:K=Math.max(0,Math.min(j-pe,K)),le=Math.max(0,Math.min(W-xe,le));break;case 90:K=Math.max(0,Math.min(j-xe,K)),le=Math.min(W,Math.max(pe,le));break;case 180:K=Math.min(j,Math.max(pe,K)),le=Math.min(W,Math.max(xe,le));break;case 270:K=Math.min(j,Math.max(xe,K)),le=Math.max(0,Math.min(W-pe,le));break}this.x=K/=j,this.y=le/=W;const[$e,_e]=Re(this,ne,Jm).call(this);K+=$e,le+=_e;const{style:Be}=this.div;Be.left=`${(100*K).toFixed(2)}%`,Be.top=`${(100*le).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(j,W){var K;return Re(K=D,ae,eg).call(K,j,W,this.parentRotation)}pageTranslationToScreen(j,W){var K;return Re(K=D,ae,eg).call(K,j,W,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:j,pageDimensions:[W,K]}=this,le=W*j,pe=K*j;return a.FeatureTest.isCSSRoundSupported?[Math.round(le),Math.round(pe)]:[le,pe]}setDims(j,W){var pe;const[K,le]=this.parentDimensions;this.div.style.width=`${(100*j/K).toFixed(2)}%`,N(this,E)||(this.div.style.height=`${(100*W/le).toFixed(2)}%`),(pe=N(this,g))==null||pe.classList.toggle("small",j<D.SMALL_EDITOR_SIZE||W<D.SMALL_EDITOR_SIZE)}fixDims(){const{style:j}=this.div,{height:W,width:K}=j,le=K.endsWith("%"),pe=!N(this,E)&&W.endsWith("%");if(le&&pe)return;const[xe,$e]=this.parentDimensions;le||(j.width=`${(100*parseFloat(K)/xe).toFixed(2)}%`),!N(this,E)&&!pe&&(j.height=`${(100*parseFloat(W)/$e).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(N(this,g))return;const j=Ie(this,g,document.createElement("button"));j.className="altText";const W=await D._l10nPromise.get("editor_alt_text_button_label");j.textContent=W,j.setAttribute("aria-label",W),j.tabIndex="0",j.addEventListener("contextmenu",c.noContextMenu),j.addEventListener("pointerdown",K=>K.stopPropagation()),j.addEventListener("click",K=>{K.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),j.addEventListener("keydown",K=>{K.target===j&&K.key==="Enter"&&(K.preventDefault(),this._uiManager.editAltText(this))}),Re(this,Ke,ng).call(this),this.div.append(j),D.SMALL_EDITOR_SIZE||(D.SMALL_EDITOR_SIZE=Math.min(128,Math.round(j.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:N(this,d),decorative:N(this,O)}}set altTextData({altText:j,decorative:W}){N(this,d)===j&&N(this,O)===W||(Ie(this,d,j),Ie(this,O,W),Re(this,Ke,ng).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",N(this,M)),this.div.addEventListener("focusout",N(this,$));const[j,W]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*W/j).toFixed(2)}%`,this.div.style.maxHeight=`${(100*j/W).toFixed(2)}%`);const[K,le]=this.getInitialTranslation();return this.translate(K,le),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(j){const{isMac:W}=a.FeatureTest.platform;if(j.button!==0||j.ctrlKey&&W){j.preventDefault();return}Ie(this,V,!0),Re(this,it,V0).call(this,j)}moveInDOM(){var j;(j=this.parent)==null||j.moveEditorInDOM(this)}_setParentAndPosition(j,W,K){j.changeParent(this),this.x=W,this.y=K,this.fixAndSetPosition()}getRect(j,W){const K=this.parentScale,[le,pe]=this.pageDimensions,[xe,$e]=this.pageTranslation,_e=j/K,Be=W/K,Ue=this.x*le,ot=this.y*pe,qe=this.width*le,Ct=this.height*pe;switch(this.rotation){case 0:return[Ue+_e+xe,pe-ot-Be-Ct+$e,Ue+_e+qe+xe,pe-ot-Be+$e];case 90:return[Ue+Be+xe,pe-ot+_e+$e,Ue+Be+Ct+xe,pe-ot+_e+qe+$e];case 180:return[Ue-_e-qe+xe,pe-ot+Be+$e,Ue-_e+xe,pe-ot+Be+Ct+$e];case 270:return[Ue-Be-Ct+xe,pe-ot-_e-qe+$e,Ue-Be+xe,pe-ot-_e+$e];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(j,W){const[K,le,pe,xe]=j,$e=pe-K,_e=xe-le;switch(this.rotation){case 0:return[K,W-xe,$e,_e];case 90:return[K,W-le,_e,$e];case 180:return[pe,W-le,$e,_e];case 270:return[pe,W-xe,_e,$e];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ie(this,Y,!0)}disableEditMode(){Ie(this,Y,!1)}isInEditMode(){return N(this,Y)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var j,W;(j=this.div)==null||j.addEventListener("focusin",N(this,M)),(W=this.div)==null||W.addEventListener("focusout",N(this,$))}serialize(j=!1,W=null){(0,a.unreachable)("An editor must be serializable")}static deserialize(j,W,K){const le=new this.prototype.constructor({parent:W,id:W.getNextId(),uiManager:K});le.rotation=j.rotation;const[pe,xe]=le.pageDimensions,[$e,_e,Be,Ue]=le.getRectInCurrentCoords(j.rect,xe);return le.x=$e/pe,le.y=_e/xe,le.width=Be/pe,le.height=Ue/xe,le}remove(){var j;this.div.removeEventListener("focusin",N(this,M)),this.div.removeEventListener("focusout",N(this,$)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(j=N(this,g))==null||j.remove(),Ie(this,g,null),Ie(this,x,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Re(this,se,N0).call(this),N(this,R).classList.remove("hidden"))}select(){var j;this.makeResizable(),(j=this.div)==null||j.classList.add("selectedEditor")}unselect(){var j,W,K;(j=N(this,R))==null||j.classList.add("hidden"),(W=this.div)==null||W.classList.remove("selectedEditor"),(K=this.div)!=null&&K.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(j,W){}disableEditing(){N(this,g)&&(N(this,g).hidden=!0)}enableEditing(){N(this,g)&&(N(this,g).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return N(this,X)}set isEditing(j){Ie(this,X,j),this.parent&&(j?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(j,W){Ie(this,E,!0);const K=j/W,{style:le}=this.div;le.aspectRatio=K,le.height="auto"}static get MIN_SIZE(){return 16}};d=new WeakMap,O=new WeakMap,g=new WeakMap,x=new WeakMap,T=new WeakMap,E=new WeakMap,R=new WeakMap,M=new WeakMap,$=new WeakMap,V=new WeakMap,X=new WeakMap,Y=new WeakMap,G=new WeakMap,L=new WeakMap,I=new WeakSet,Km=function([j,W],K,le){[K,le]=this.screenToPageTranslation(K,le),this.x+=K/j,this.y+=le/W,this.fixAndSetPosition()},ne=new WeakSet,Jm=function(){const[j,W]=this.parentDimensions,{_borderLineWidth:K}=D,le=K/j,pe=K/W;switch(this.rotation){case 90:return[-le,pe];case 180:return[le,pe];case 270:return[le,-pe];default:return[-le,-pe]}},ae=new WeakSet,eg=function(j,W,K){switch(K){case 90:return[W,-j];case 180:return[-j,-W];case 270:return[-W,j];default:return[j,W]}},fe=new WeakSet,tg=function(j){switch(j){case 90:{const[W,K]=this.pageDimensions;return[0,-W/K,K/W,0]}case 180:return[-1,0,0,-1];case 270:{const[W,K]=this.pageDimensions;return[0,W/K,-K/W,0]}default:return[1,0,0,1]}},se=new WeakSet,N0=function(){if(N(this,R))return;Ie(this,R,document.createElement("div")),N(this,R).classList.add("resizers");const j=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||j.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const W of j){const K=document.createElement("div");N(this,R).append(K),K.classList.add("resizer",W),K.addEventListener("pointerdown",Re(this,Ae,j0).bind(this,W)),K.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(N(this,R))},Ae=new WeakSet,j0=function(j,W){W.preventDefault();const{isMac:K}=a.FeatureTest.platform;if(W.button!==0||W.ctrlKey&&K)return;const le=Re(this,de,F0).bind(this,j),pe=this._isDraggable;this._isDraggable=!1;const xe={passive:!0,capture:!0};window.addEventListener("pointermove",le,xe);const $e=this.x,_e=this.y,Be=this.width,Ue=this.height,ot=this.parent.div.style.cursor,qe=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(W.target).cursor;const Ct=()=>{this._isDraggable=pe,window.removeEventListener("pointerup",Ct),window.removeEventListener("blur",Ct),window.removeEventListener("pointermove",le,xe),this.parent.div.style.cursor=ot,this.div.style.cursor=qe;const Nt=this.x,gt=this.y,Pt=this.width,tt=this.height;Nt===$e&&gt===_e&&Pt===Be&&tt===Ue||this.addCommands({cmd:()=>{this.width=Pt,this.height=tt,this.x=Nt,this.y=gt;const[De,Me]=this.parentDimensions;this.setDims(De*Pt,Me*tt),this.fixAndSetPosition()},undo:()=>{this.width=Be,this.height=Ue,this.x=$e,this.y=_e;const[De,Me]=this.parentDimensions;this.setDims(De*Be,Me*Ue),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ct),window.addEventListener("blur",Ct)},de=new WeakSet,F0=function(j,W){const[K,le]=this.parentDimensions,pe=this.x,xe=this.y,$e=this.width,_e=this.height,Be=D.MIN_SIZE/K,Ue=D.MIN_SIZE/le,ot=Je=>Math.round(Je*1e4)/1e4,qe=Re(this,fe,tg).call(this,this.rotation),Ct=(Je,Ge)=>[qe[0]*Je+qe[2]*Ge,qe[1]*Je+qe[3]*Ge],Nt=Re(this,fe,tg).call(this,360-this.rotation),gt=(Je,Ge)=>[Nt[0]*Je+Nt[2]*Ge,Nt[1]*Je+Nt[3]*Ge];let Pt,tt,De=!1,Me=!1;switch(j){case"topLeft":De=!0,Pt=(Je,Ge)=>[0,0],tt=(Je,Ge)=>[Je,Ge];break;case"topMiddle":Pt=(Je,Ge)=>[Je/2,0],tt=(Je,Ge)=>[Je/2,Ge];break;case"topRight":De=!0,Pt=(Je,Ge)=>[Je,0],tt=(Je,Ge)=>[0,Ge];break;case"middleRight":Me=!0,Pt=(Je,Ge)=>[Je,Ge/2],tt=(Je,Ge)=>[0,Ge/2];break;case"bottomRight":De=!0,Pt=(Je,Ge)=>[Je,Ge],tt=(Je,Ge)=>[0,0];break;case"bottomMiddle":Pt=(Je,Ge)=>[Je/2,Ge],tt=(Je,Ge)=>[Je/2,0];break;case"bottomLeft":De=!0,Pt=(Je,Ge)=>[0,Ge],tt=(Je,Ge)=>[Je,0];break;case"middleLeft":Me=!0,Pt=(Je,Ge)=>[0,Ge/2],tt=(Je,Ge)=>[Je,Ge/2];break}const We=Pt($e,_e),bt=tt($e,_e);let ht=Ct(...bt);const It=ot(pe+ht[0]),Mt=ot(xe+ht[1]);let Bt=1,et=1,[St,Et]=this.screenToPageTranslation(W.movementX,W.movementY);if([St,Et]=gt(St/K,Et/le),De){const Je=Math.hypot($e,_e);Bt=et=Math.max(Math.min(Math.hypot(bt[0]-We[0]-St,bt[1]-We[1]-Et)/Je,1/$e,1/_e),Be/$e,Ue/_e)}else Me?Bt=Math.max(Be,Math.min(1,Math.abs(bt[0]-We[0]-St)))/$e:et=Math.max(Ue,Math.min(1,Math.abs(bt[1]-We[1]-Et)))/_e;const Lt=ot($e*Bt),Ve=ot(_e*et);ht=Ct(...tt(Lt,Ve));const Te=It-ht[0],we=Mt-ht[1];this.width=Lt,this.height=Ve,this.x=Te,this.y=we,this.setDims(K*Lt,le*Ve),this.fixAndSetPosition()},Ke=new WeakSet,ng=async function(){var K;const j=N(this,g);if(!j)return;if(!N(this,d)&&!N(this,O)){j.classList.remove("done"),(K=N(this,x))==null||K.remove();return}D._l10nPromise.get("editor_alt_text_edit_button_label").then(le=>{j.setAttribute("aria-label",le)});let W=N(this,x);if(!W){Ie(this,x,W=document.createElement("span")),W.className="tooltip",W.setAttribute("role","tooltip");const le=W.id=`alt-text-tooltip-${this.id}`;j.setAttribute("aria-describedby",le);const pe=100;j.addEventListener("mouseenter",()=>{Ie(this,T,setTimeout(()=>{Ie(this,T,null),N(this,x).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},pe))}),j.addEventListener("mouseleave",()=>{var xe;clearTimeout(N(this,T)),Ie(this,T,null),(xe=N(this,x))==null||xe.classList.remove("show")})}j.classList.add("done"),W.innerText=N(this,O)?await D._l10nPromise.get("editor_alt_text_decorative_tooltip"):N(this,d),W.parentNode||j.append(W)},it=new WeakSet,V0=function(j){if(!this._isDraggable)return;const W=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let K,le;W&&(K={passive:!0,capture:!0},le=xe=>{const[$e,_e]=this.screenToPageTranslation(xe.movementX,xe.movementY);this._uiManager.dragSelectedEditors($e,_e)},window.addEventListener("pointermove",le,K));const pe=()=>{if(window.removeEventListener("pointerup",pe),window.removeEventListener("blur",pe),W&&window.removeEventListener("pointermove",le,K),Ie(this,V,!1),!this._uiManager.endDragSession()){const{isMac:xe}=a.FeatureTest.platform;j.ctrlKey&&!xe||j.shiftKey||j.metaKey&&xe?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",pe),window.addEventListener("blur",pe)},ke(D,ae),Fn(D,"_borderLineWidth",-1),Fn(D,"_colorManager",new r.ColorManager),Fn(D,"_zIndex",1),Fn(D,"SMALL_EDITOR_SIZE",0);let u=D;e.AnnotationEditor=u;class f extends u{constructor(j){super(j),this.annotationElementId=j.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(s,e,n)=>{var E,R,M,$,V,rg,G,L,I,ee,ne,I0,H,fe,me,se,Se,Ae,Pe,de,Fe,Ke,ct,it,te,D,F,j,W,K,le,pe,xe,$e,_e,Be,Ue,ot,qe,Ct,Nt,gt,Pt,tt,De,Me,We,B0,ht,ig,Mt,sg,et,Lh,Et,ag,Ve,og,we,pi,Ge,Ec,Ht,U0,Ot,X0,kt,lg,jt,Pc,ft,cg;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=c,e.opacityToHex=u;var r=n(1),a=n(6);function c(ye,B,oe){for(const q of oe)B.addEventListener(q,ye[q].bind(ye))}function u(ye){return Math.round(Math.min(255,Math.max(1,255*ye))).toString(16).padStart(2,"0")}class f{constructor(){ke(this,E,0)}getId(){return`${r.AnnotationEditorPrefix}${Cc(this,E)._++}`}}E=new WeakMap;const Y=class Y{constructor(){ke(this,V);ke(this,R,(0,r.getUuid)());ke(this,M,0);ke(this,$,null)}static get _isSVGFittingCanvas(){const B='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',q=new OffscreenCanvas(1,3).getContext("2d"),he=new Image;he.src=B;const be=he.decode().then(()=>(q.drawImage(he,0,0,1,1,0,0,1,3),new Uint32Array(q.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,r.shadow)(this,"_isSVGFittingCanvas",be)}async getFromFile(B){const{lastModified:oe,name:q,size:he,type:be}=B;return Re(this,V,rg).call(this,`${oe}_${q}_${he}_${be}`,B)}async getFromUrl(B){return Re(this,V,rg).call(this,B,B)}async getFromId(B){N(this,$)||Ie(this,$,new Map);const oe=N(this,$).get(B);return oe?oe.bitmap?(oe.refCounter+=1,oe):oe.file?this.getFromFile(oe.file):this.getFromUrl(oe.url):null}getSvgUrl(B){const oe=N(this,$).get(B);return oe!=null&&oe.isSvg?oe.svgUrl:null}deleteId(B){N(this,$)||Ie(this,$,new Map);const oe=N(this,$).get(B);oe&&(oe.refCounter-=1,oe.refCounter===0&&(oe.bitmap=null))}isValidId(B){return B.startsWith(`image_${N(this,R)}_`)}};R=new WeakMap,M=new WeakMap,$=new WeakMap,V=new WeakSet,rg=async function(B,oe){N(this,$)||Ie(this,$,new Map);let q=N(this,$).get(B);if(q===null)return null;if(q!=null&&q.bitmap)return q.refCounter+=1,q;try{q||(q={bitmap:null,id:`image_${N(this,R)}_${Cc(this,M)._++}`,refCounter:0,isSvg:!1});let he;if(typeof oe=="string"){q.url=oe;const be=await fetch(oe);if(!be.ok)throw new Error(be.statusText);he=await be.blob()}else he=q.file=oe;if(he.type==="image/svg+xml"){const be=Y._isSVGFittingCanvas,Ee=new FileReader,Ze=new Image,rt=new Promise((at,wt)=>{Ze.onload=()=>{q.bitmap=Ze,q.isSvg=!0,at()},Ee.onload=async()=>{const xt=q.svgUrl=Ee.result;Ze.src=await be?`${xt}#svgView(preserveAspectRatio(none))`:xt},Ze.onerror=Ee.onerror=wt});Ee.readAsDataURL(he),await rt}else q.bitmap=await createImageBitmap(he);q.refCounter=1}catch(he){console.error(he),q=null}return N(this,$).set(B,q),q&&N(this,$).set(q.id,q),q};let d=Y;class O{constructor(B=128){ke(this,G,[]);ke(this,L,!1);ke(this,I,void 0);ke(this,ee,-1);Ie(this,I,B)}add({cmd:B,undo:oe,mustExec:q,type:he=NaN,overwriteIfSameType:be=!1,keepUndo:Ee=!1}){if(q&&B(),N(this,L))return;const Ze={cmd:B,undo:oe,type:he};if(N(this,ee)===-1){N(this,G).length>0&&(N(this,G).length=0),Ie(this,ee,0),N(this,G).push(Ze);return}if(be&&N(this,G)[N(this,ee)].type===he){Ee&&(Ze.undo=N(this,G)[N(this,ee)].undo),N(this,G)[N(this,ee)]=Ze;return}const rt=N(this,ee)+1;rt===N(this,I)?N(this,G).splice(0,1):(Ie(this,ee,rt),rt<N(this,G).length&&N(this,G).splice(rt)),N(this,G).push(Ze)}undo(){N(this,ee)!==-1&&(Ie(this,L,!0),N(this,G)[N(this,ee)].undo(),Ie(this,L,!1),Ie(this,ee,N(this,ee)-1))}redo(){N(this,ee)<N(this,G).length-1&&(Ie(this,ee,N(this,ee)+1),Ie(this,L,!0),N(this,G)[N(this,ee)].cmd(),Ie(this,L,!1))}hasSomethingToUndo(){return N(this,ee)!==-1}hasSomethingToRedo(){return N(this,ee)<N(this,G).length-1}destroy(){Ie(this,G,null)}}G=new WeakMap,L=new WeakMap,I=new WeakMap,ee=new WeakMap,e.CommandManager=O;class g{constructor(B){ke(this,ne);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:oe}=r.FeatureTest.platform;for(const[q,he,be={}]of B)for(const Ee of q){const Ze=Ee.startsWith("mac+");oe&&Ze?(this.callbacks.set(Ee.slice(4),{callback:he,options:be}),this.allKeys.add(Ee.split("+").at(-1))):!oe&&!Ze&&(this.callbacks.set(Ee,{callback:he,options:be}),this.allKeys.add(Ee.split("+").at(-1)))}}exec(B,oe){if(!this.allKeys.has(oe.key))return;const q=this.callbacks.get(Re(this,ne,I0).call(this,oe));if(!q)return;const{callback:he,options:{bubbles:be=!1,args:Ee=[],checker:Ze=null}}=q;Ze&&!Ze(B,oe)||(he.bind(B,...Ee)(),be||(oe.stopPropagation(),oe.preventDefault()))}}ne=new WeakSet,I0=function(B){B.altKey&&this.buffer.push("alt"),B.ctrlKey&&this.buffer.push("ctrl"),B.metaKey&&this.buffer.push("meta"),B.shiftKey&&this.buffer.push("shift"),this.buffer.push(B.key);const oe=this.buffer.join("+");return this.buffer.length=0,oe},e.KeyboardManager=g;const ae=class ae{get _colors(){const B=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(B),(0,r.shadow)(this,"_colors",B)}convert(B){const oe=(0,a.getRGB)(B);if(!window.matchMedia("(forced-colors: active)").matches)return oe;for(const[q,he]of this._colors)if(he.every((be,Ee)=>be===oe[Ee]))return ae._colorsMapping.get(q);return oe}getHexCode(B){const oe=this._colors.get(B);return oe?r.Util.makeHexColor(...oe):B}};Fn(ae,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let x=ae;e.ColorManager=x;const Dt=class Dt{constructor(B,oe,q,he,be,Ee){ke(this,We);ke(this,ht);ke(this,Mt);ke(this,et);ke(this,Et);ke(this,Ve);ke(this,we);ke(this,Ge);ke(this,Ht);ke(this,Ot);ke(this,kt);ke(this,jt);ke(this,ft);ke(this,H,null);ke(this,fe,new Map);ke(this,me,new Map);ke(this,se,null);ke(this,Se,null);ke(this,Ae,new O);ke(this,Pe,0);ke(this,de,new Set);ke(this,Fe,null);ke(this,Ke,null);ke(this,ct,new Set);ke(this,it,null);ke(this,te,new f);ke(this,D,!1);ke(this,F,!1);ke(this,j,null);ke(this,W,r.AnnotationEditorType.NONE);ke(this,K,new Set);ke(this,le,null);ke(this,pe,this.blur.bind(this));ke(this,xe,this.focus.bind(this));ke(this,$e,this.copy.bind(this));ke(this,_e,this.cut.bind(this));ke(this,Be,this.paste.bind(this));ke(this,Ue,this.keydown.bind(this));ke(this,ot,this.onEditingAction.bind(this));ke(this,qe,this.onPageChanging.bind(this));ke(this,Ct,this.onScaleChanging.bind(this));ke(this,Nt,this.onRotationChanging.bind(this));ke(this,gt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ke(this,Pt,[0,0]);ke(this,tt,null);ke(this,De,null);ke(this,Me,null);Ie(this,De,B),Ie(this,Me,oe),Ie(this,se,q),this._eventBus=he,this._eventBus._on("editingaction",N(this,ot)),this._eventBus._on("pagechanging",N(this,qe)),this._eventBus._on("scalechanging",N(this,Ct)),this._eventBus._on("rotationchanging",N(this,Nt)),Ie(this,Se,be.annotationStorage),Ie(this,it,be.filterFactory),Ie(this,le,Ee),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const B=Dt.prototype,oe=be=>{const{activeElement:Ee}=document;return Ee&&N(be,De).contains(Ee)&&be.hasSomethingToControl()},q=this.TRANSLATE_SMALL,he=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new g([[["ctrl+a","mac+meta+a"],B.selectAll],[["ctrl+z","mac+meta+z"],B.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],B.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],B.delete],[["Escape","mac+Escape"],B.unselectAll],[["ArrowLeft","mac+ArrowLeft"],B.translateSelectedEditors,{args:[-q,0],checker:oe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],B.translateSelectedEditors,{args:[-he,0],checker:oe}],[["ArrowRight","mac+ArrowRight"],B.translateSelectedEditors,{args:[q,0],checker:oe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],B.translateSelectedEditors,{args:[he,0],checker:oe}],[["ArrowUp","mac+ArrowUp"],B.translateSelectedEditors,{args:[0,-q],checker:oe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],B.translateSelectedEditors,{args:[0,-he],checker:oe}],[["ArrowDown","mac+ArrowDown"],B.translateSelectedEditors,{args:[0,q],checker:oe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],B.translateSelectedEditors,{args:[0,he],checker:oe}]]))}destroy(){Re(this,et,Lh).call(this),Re(this,ht,ig).call(this),this._eventBus._off("editingaction",N(this,ot)),this._eventBus._off("pagechanging",N(this,qe)),this._eventBus._off("scalechanging",N(this,Ct)),this._eventBus._off("rotationchanging",N(this,Nt));for(const B of N(this,me).values())B.destroy();N(this,me).clear(),N(this,fe).clear(),N(this,ct).clear(),Ie(this,H,null),N(this,K).clear(),N(this,Ae).destroy(),N(this,se).destroy()}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",N(this,le)?N(this,it).addHCMFilter(N(this,le).foreground,N(this,le).background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(N(this,De)).direction)}editAltText(B){var oe;(oe=N(this,se))==null||oe.editAltText(this,B)}onPageChanging({pageNumber:B}){Ie(this,Pe,B-1)}focusMainContainer(){N(this,De).focus()}findParent(B,oe){for(const q of N(this,me).values()){const{x:he,y:be,width:Ee,height:Ze}=q.div.getBoundingClientRect();if(B>=he&&B<=he+Ee&&oe>=be&&oe<=be+Ze)return q}return null}disableUserSelect(B=!1){N(this,Me).classList.toggle("noUserSelect",B)}addShouldRescale(B){N(this,ct).add(B)}removeShouldRescale(B){N(this,ct).delete(B)}onScaleChanging({scale:B}){this.commitOrRemove(),this.viewParameters.realScale=B*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const oe of N(this,ct))oe.onScaleChanging()}onRotationChanging({pagesRotation:B}){this.commitOrRemove(),this.viewParameters.rotation=B}addToAnnotationStorage(B){!B.isEmpty()&&N(this,Se)&&!N(this,Se).has(B.id)&&N(this,Se).setValue(B.id,B)}blur(){if(!this.hasSelection)return;const{activeElement:B}=document;for(const oe of N(this,K))if(oe.div.contains(B)){Ie(this,j,[oe,B]),oe._focusEventsAllowed=!1;break}}focus(){if(!N(this,j))return;const[B,oe]=N(this,j);Ie(this,j,null),oe.addEventListener("focusin",()=>{B._focusEventsAllowed=!0},{once:!0}),oe.focus()}addEditListeners(){Re(this,Mt,sg).call(this),Re(this,Et,ag).call(this)}removeEditListeners(){Re(this,et,Lh).call(this),Re(this,Ve,og).call(this)}copy(B){var q;if(B.preventDefault(),(q=N(this,H))==null||q.commitOrRemove(),!this.hasSelection)return;const oe=[];for(const he of N(this,K)){const be=he.serialize(!0);be&&oe.push(be)}oe.length!==0&&B.clipboardData.setData("application/pdfjs",JSON.stringify(oe))}cut(B){this.copy(B),this.delete()}paste(B){B.preventDefault();const{clipboardData:oe}=B;for(const be of oe.items)for(const Ee of N(this,Ke))if(Ee.isHandlingMimeForPasting(be.type)){Ee.paste(be,this.currentLayer);return}let q=oe.getData("application/pdfjs");if(!q)return;try{q=JSON.parse(q)}catch(be){(0,r.warn)(`paste: "${be.message}".`);return}if(!Array.isArray(q))return;this.unselectAll();const he=this.currentLayer;try{const be=[];for(const rt of q){const at=he.deserialize(rt);if(!at)return;be.push(at)}const Ee=()=>{for(const rt of be)Re(this,kt,lg).call(this,rt);Re(this,ft,cg).call(this,be)},Ze=()=>{for(const rt of be)rt.remove()};this.addCommands({cmd:Ee,undo:Ze,mustExec:!0})}catch(be){(0,r.warn)(`paste: "${be.message}".`)}}keydown(B){var oe;(oe=this.getActive())!=null&&oe.shouldGetKeyboardEvents()||Dt._keyboardManager.exec(this,B)}onEditingAction(B){["undo","redo","delete","selectAll"].includes(B.name)&&this[B.name]()}setEditingState(B){B?(Re(this,We,B0).call(this),Re(this,Mt,sg).call(this),Re(this,Et,ag).call(this),Re(this,we,pi).call(this,{isEditing:N(this,W)!==r.AnnotationEditorType.NONE,isEmpty:Re(this,jt,Pc).call(this),hasSomethingToUndo:N(this,Ae).hasSomethingToUndo(),hasSomethingToRedo:N(this,Ae).hasSomethingToRedo(),hasSelectedEditor:!1})):(Re(this,ht,ig).call(this),Re(this,et,Lh).call(this),Re(this,Ve,og).call(this),Re(this,we,pi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(B){if(!N(this,Ke)){Ie(this,Ke,B);for(const oe of N(this,Ke))Re(this,Ge,Ec).call(this,oe.defaultPropertiesToUpdate)}}getId(){return N(this,te).getId()}get currentLayer(){return N(this,me).get(N(this,Pe))}getLayer(B){return N(this,me).get(B)}get currentPageIndex(){return N(this,Pe)}addLayer(B){N(this,me).set(B.pageIndex,B),N(this,D)?B.enable():B.disable()}removeLayer(B){N(this,me).delete(B.pageIndex)}updateMode(B,oe=null){if(N(this,W)!==B){if(Ie(this,W,B),B===r.AnnotationEditorType.NONE){this.setEditingState(!1),Re(this,Ot,X0).call(this);return}this.setEditingState(!0),Re(this,Ht,U0).call(this),this.unselectAll();for(const q of N(this,me).values())q.updateMode(B);if(oe){for(const q of N(this,fe).values())if(q.annotationElementId===oe){this.setSelected(q),q.enterInEditMode();break}}}}updateToolbar(B){B!==N(this,W)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:B})}updateParams(B,oe){if(N(this,Ke)){if(B===r.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(B);return}for(const q of N(this,K))q.updateParams(B,oe);for(const q of N(this,Ke))q.updateDefaultParams(B,oe)}}enableWaiting(B=!1){if(N(this,F)!==B){Ie(this,F,B);for(const oe of N(this,me).values())B?oe.disableClick():oe.enableClick(),oe.div.classList.toggle("waiting",B)}}getEditors(B){const oe=[];for(const q of N(this,fe).values())q.pageIndex===B&&oe.push(q);return oe}getEditor(B){return N(this,fe).get(B)}addEditor(B){N(this,fe).set(B.id,B)}removeEditor(B){var oe;N(this,fe).delete(B.id),this.unselect(B),(!B.annotationElementId||!N(this,de).has(B.annotationElementId))&&((oe=N(this,Se))==null||oe.remove(B.id))}addDeletedAnnotationElement(B){N(this,de).add(B.annotationElementId),B.deleted=!0}isDeletedAnnotationElement(B){return N(this,de).has(B)}removeDeletedAnnotationElement(B){N(this,de).delete(B.annotationElementId),B.deleted=!1}setActiveEditor(B){N(this,H)!==B&&(Ie(this,H,B),B&&Re(this,Ge,Ec).call(this,B.propertiesToUpdate))}toggleSelected(B){if(N(this,K).has(B)){N(this,K).delete(B),B.unselect(),Re(this,we,pi).call(this,{hasSelectedEditor:this.hasSelection});return}N(this,K).add(B),B.select(),Re(this,Ge,Ec).call(this,B.propertiesToUpdate),Re(this,we,pi).call(this,{hasSelectedEditor:!0})}setSelected(B){for(const oe of N(this,K))oe!==B&&oe.unselect();N(this,K).clear(),N(this,K).add(B),B.select(),Re(this,Ge,Ec).call(this,B.propertiesToUpdate),Re(this,we,pi).call(this,{hasSelectedEditor:!0})}isSelected(B){return N(this,K).has(B)}unselect(B){B.unselect(),N(this,K).delete(B),Re(this,we,pi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return N(this,K).size!==0}undo(){N(this,Ae).undo(),Re(this,we,pi).call(this,{hasSomethingToUndo:N(this,Ae).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Re(this,jt,Pc).call(this)})}redo(){N(this,Ae).redo(),Re(this,we,pi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:N(this,Ae).hasSomethingToRedo(),isEmpty:Re(this,jt,Pc).call(this)})}addCommands(B){N(this,Ae).add(B),Re(this,we,pi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Re(this,jt,Pc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const B=[...N(this,K)],oe=()=>{for(const he of B)he.remove()},q=()=>{for(const he of B)Re(this,kt,lg).call(this,he)};this.addCommands({cmd:oe,undo:q,mustExec:!0})}commitOrRemove(){var B;(B=N(this,H))==null||B.commitOrRemove()}hasSomethingToControl(){return N(this,H)||this.hasSelection}selectAll(){for(const B of N(this,K))B.commit();Re(this,ft,cg).call(this,N(this,fe).values())}unselectAll(){if(N(this,H)){N(this,H).commitOrRemove();return}if(this.hasSelection){for(const B of N(this,K))B.unselect();N(this,K).clear(),Re(this,we,pi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(B,oe,q=!1){if(q||this.commitOrRemove(),!this.hasSelection)return;N(this,Pt)[0]+=B,N(this,Pt)[1]+=oe;const[he,be]=N(this,Pt),Ee=[...N(this,K)],Ze=1e3;N(this,tt)&&clearTimeout(N(this,tt)),Ie(this,tt,setTimeout(()=>{Ie(this,tt,null),N(this,Pt)[0]=N(this,Pt)[1]=0,this.addCommands({cmd:()=>{for(const rt of Ee)N(this,fe).has(rt.id)&&rt.translateInPage(he,be)},undo:()=>{for(const rt of Ee)N(this,fe).has(rt.id)&&rt.translateInPage(-he,-be)},mustExec:!1})},Ze));for(const rt of Ee)rt.translateInPage(B,oe)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ie(this,Fe,new Map);for(const B of N(this,K))N(this,Fe).set(B,{savedX:B.x,savedY:B.y,savedPageIndex:B.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!N(this,Fe))return!1;this.disableUserSelect(!1);const B=N(this,Fe);Ie(this,Fe,null);let oe=!1;for(const[{x:he,y:be,pageIndex:Ee},Ze]of B)Ze.newX=he,Ze.newY=be,Ze.newPageIndex=Ee,oe||(oe=he!==Ze.savedX||be!==Ze.savedY||Ee!==Ze.savedPageIndex);if(!oe)return!1;const q=(he,be,Ee,Ze)=>{if(N(this,fe).has(he.id)){const rt=N(this,me).get(Ze);rt?he._setParentAndPosition(rt,be,Ee):(he.pageIndex=Ze,he.x=be,he.y=Ee)}};return this.addCommands({cmd:()=>{for(const[he,{newX:be,newY:Ee,newPageIndex:Ze}]of B)q(he,be,Ee,Ze)},undo:()=>{for(const[he,{savedX:be,savedY:Ee,savedPageIndex:Ze}]of B)q(he,be,Ee,Ze)},mustExec:!0}),!0}dragSelectedEditors(B,oe){if(N(this,Fe))for(const q of N(this,Fe).keys())q.drag(B,oe)}rebuild(B){if(B.parent===null){const oe=this.getLayer(B.pageIndex);oe?(oe.changeParent(B),oe.addOrRebuild(B)):(this.addEditor(B),this.addToAnnotationStorage(B),B.rebuild())}else B.parent.addOrRebuild(B)}isActive(B){return N(this,H)===B}getActive(){return N(this,H)}getMode(){return N(this,W)}get imageManager(){return(0,r.shadow)(this,"imageManager",new d)}};H=new WeakMap,fe=new WeakMap,me=new WeakMap,se=new WeakMap,Se=new WeakMap,Ae=new WeakMap,Pe=new WeakMap,de=new WeakMap,Fe=new WeakMap,Ke=new WeakMap,ct=new WeakMap,it=new WeakMap,te=new WeakMap,D=new WeakMap,F=new WeakMap,j=new WeakMap,W=new WeakMap,K=new WeakMap,le=new WeakMap,pe=new WeakMap,xe=new WeakMap,$e=new WeakMap,_e=new WeakMap,Be=new WeakMap,Ue=new WeakMap,ot=new WeakMap,qe=new WeakMap,Ct=new WeakMap,Nt=new WeakMap,gt=new WeakMap,Pt=new WeakMap,tt=new WeakMap,De=new WeakMap,Me=new WeakMap,We=new WeakSet,B0=function(){window.addEventListener("focus",N(this,xe)),window.addEventListener("blur",N(this,pe))},ht=new WeakSet,ig=function(){window.removeEventListener("focus",N(this,xe)),window.removeEventListener("blur",N(this,pe))},Mt=new WeakSet,sg=function(){window.addEventListener("keydown",N(this,Ue),{capture:!0})},et=new WeakSet,Lh=function(){window.removeEventListener("keydown",N(this,Ue),{capture:!0})},Et=new WeakSet,ag=function(){document.addEventListener("copy",N(this,$e)),document.addEventListener("cut",N(this,_e)),document.addEventListener("paste",N(this,Be))},Ve=new WeakSet,og=function(){document.removeEventListener("copy",N(this,$e)),document.removeEventListener("cut",N(this,_e)),document.removeEventListener("paste",N(this,Be))},we=new WeakSet,pi=function(B){Object.entries(B).some(([q,he])=>N(this,gt)[q]!==he)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(N(this,gt),B)})},Ge=new WeakSet,Ec=function(B){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:B})},Ht=new WeakSet,U0=function(){if(!N(this,D)){Ie(this,D,!0);for(const B of N(this,me).values())B.enable()}},Ot=new WeakSet,X0=function(){if(this.unselectAll(),N(this,D)){Ie(this,D,!1);for(const B of N(this,me).values())B.disable()}},kt=new WeakSet,lg=function(B){const oe=N(this,me).get(B.pageIndex);oe?oe.addOrRebuild(B):this.addEditor(B)},jt=new WeakSet,Pc=function(){if(N(this,fe).size===0)return!0;if(N(this,fe).size===1)for(const B of N(this,fe).values())return B.isEmpty();return!1},ft=new WeakSet,cg=function(B){N(this,K).clear();for(const oe of B)oe.isEmpty()||(N(this,K).add(oe),oe.select());Re(this,we,pi).call(this,{hasSelectedEditor:!0})},Fn(Dt,"TRANSLATE_SMALL",1),Fn(Dt,"TRANSLATE_BIG",10);let T=Dt;e.AnnotationEditorUIManager=T},(s,e,n)=>{var Pe,de,Fe,Ke,ct,it,te,D,F,j,W,K,qo,pe,Zo,$e,ug,Be,Nh,ot,jh,Ct,Ac,gt,Rc;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=ee,e.getColorValues=fe,e.getCurrentTransform=me,e.getCurrentTransformInverse=se,e.getFilenameFromUrl=V,e.getPdfFilenameFromUrl=X,e.getRGB=H,e.getXfaPageViewport=ae,e.isDataScheme=M,e.isPdfFile=$,e.isValidFetchUrl=G,e.loadScript=I,e.noContextMenu=L,e.setLayerDimensions=Se;var r=n(7),a=n(1);const c="http://www.w3.org/2000/svg",Ae=class Ae{};Fn(Ae,"CSS",96),Fn(Ae,"PDF",72),Fn(Ae,"PDF_TO_CSS_UNITS",Ae.CSS/Ae.PDF);let u=Ae;e.PixelsPerInch=u;class f extends r.BaseFilterFactory{constructor({docId:Me,ownerDocument:We=globalThis.document}={}){super();ke(this,K);ke(this,pe);ke(this,$e);ke(this,Be);ke(this,ot);ke(this,Ct);ke(this,gt);ke(this,Pe,void 0);ke(this,de,void 0);ke(this,Fe,void 0);ke(this,Ke,void 0);ke(this,ct,void 0);ke(this,it,void 0);ke(this,te,void 0);ke(this,D,void 0);ke(this,F,void 0);ke(this,j,void 0);ke(this,W,0);Ie(this,Fe,Me),Ie(this,Ke,We)}addFilter(Me){if(!Me)return"none";let We=N(this,K,qo).get(Me);if(We)return We;let bt,ht,It,Mt;if(Me.length===1){const Et=Me[0],Lt=new Array(256);for(let Ve=0;Ve<256;Ve++)Lt[Ve]=Et[Ve]/255;Mt=bt=ht=It=Lt.join(",")}else{const[Et,Lt,Ve]=Me,Te=new Array(256),we=new Array(256),Je=new Array(256);for(let Ge=0;Ge<256;Ge++)Te[Ge]=Et[Ge]/255,we[Ge]=Lt[Ge]/255,Je[Ge]=Ve[Ge]/255;bt=Te.join(","),ht=we.join(","),It=Je.join(","),Mt=`${bt}${ht}${It}`}if(We=N(this,K,qo).get(Mt),We)return N(this,K,qo).set(Me,We),We;const Bt=`g_${N(this,Fe)}_transfer_map_${Cc(this,W)._++}`,et=`url(#${Bt})`;N(this,K,qo).set(Me,et),N(this,K,qo).set(Mt,et);const St=Re(this,Be,Nh).call(this,Bt);return Re(this,Ct,Ac).call(this,bt,ht,It,St),et}addHCMFilter(Me,We){var Lt;const bt=`${Me}-${We}`;if(N(this,it)===bt)return N(this,te);if(Ie(this,it,bt),Ie(this,te,"none"),(Lt=N(this,ct))==null||Lt.remove(),!Me||!We)return N(this,te);const ht=Re(this,gt,Rc).call(this,Me);Me=a.Util.makeHexColor(...ht);const It=Re(this,gt,Rc).call(this,We);if(We=a.Util.makeHexColor(...It),N(this,pe,Zo).style.color="",Me==="#000000"&&We==="#ffffff"||Me===We)return N(this,te);const Mt=new Array(256);for(let Ve=0;Ve<=255;Ve++){const Te=Ve/255;Mt[Ve]=Te<=.03928?Te/12.92:((Te+.055)/1.055)**2.4}const Bt=Mt.join(","),et=`g_${N(this,Fe)}_hcm_filter`,St=Ie(this,D,Re(this,Be,Nh).call(this,et));Re(this,Ct,Ac).call(this,Bt,Bt,Bt,St),Re(this,$e,ug).call(this,St);const Et=(Ve,Te)=>{const we=ht[Ve]/255,Je=It[Ve]/255,Ge=new Array(Te+1);for(let nn=0;nn<=Te;nn++)Ge[nn]=we+nn/Te*(Je-we);return Ge.join(",")};return Re(this,Ct,Ac).call(this,Et(0,5),Et(1,5),Et(2,5),St),Ie(this,te,`url(#${et})`),N(this,te)}addHighlightHCMFilter(Me,We,bt,ht){var Je;const It=`${Me}-${We}-${bt}-${ht}`;if(N(this,F)===It)return N(this,j);if(Ie(this,F,It),Ie(this,j,"none"),(Je=N(this,D))==null||Je.remove(),!Me||!We)return N(this,j);const[Mt,Bt]=[Me,We].map(Re(this,gt,Rc).bind(this));let et=Math.round(.2126*Mt[0]+.7152*Mt[1]+.0722*Mt[2]),St=Math.round(.2126*Bt[0]+.7152*Bt[1]+.0722*Bt[2]),[Et,Lt]=[bt,ht].map(Re(this,gt,Rc).bind(this));St<et&&([et,St,Et,Lt]=[St,et,Lt,Et]),N(this,pe,Zo).style.color="";const Ve=(Ge,nn,Ht)=>{const Ce=new Array(256),Ot=(St-et)/Ht,Qt=Ge/255,kt=(nn-Ge)/(255*Ht);let $t=0;for(let jt=0;jt<=Ht;jt++){const rn=Math.round(et+jt*Ot),ft=Qt+jt*kt;for(let Kt=$t;Kt<=rn;Kt++)Ce[Kt]=ft;$t=rn+1}for(let jt=$t;jt<256;jt++)Ce[jt]=Ce[$t-1];return Ce.join(",")},Te=`g_${N(this,Fe)}_hcm_highlight_filter`,we=Ie(this,D,Re(this,Be,Nh).call(this,Te));return Re(this,$e,ug).call(this,we),Re(this,Ct,Ac).call(this,Ve(Et[0],Lt[0],5),Ve(Et[1],Lt[1],5),Ve(Et[2],Lt[2],5),we),Ie(this,j,`url(#${Te})`),N(this,j)}destroy(Me=!1){Me&&(N(this,te)||N(this,j))||(N(this,de)&&(N(this,de).parentNode.parentNode.remove(),Ie(this,de,null)),N(this,Pe)&&(N(this,Pe).clear(),Ie(this,Pe,null)),Ie(this,W,0))}}Pe=new WeakMap,de=new WeakMap,Fe=new WeakMap,Ke=new WeakMap,ct=new WeakMap,it=new WeakMap,te=new WeakMap,D=new WeakMap,F=new WeakMap,j=new WeakMap,W=new WeakMap,K=new WeakSet,qo=function(){return N(this,Pe)||Ie(this,Pe,new Map)},pe=new WeakSet,Zo=function(){if(!N(this,de)){const Me=N(this,Ke).createElement("div"),{style:We}=Me;We.visibility="hidden",We.contain="strict",We.width=We.height=0,We.position="absolute",We.top=We.left=0,We.zIndex=-1;const bt=N(this,Ke).createElementNS(c,"svg");bt.setAttribute("width",0),bt.setAttribute("height",0),Ie(this,de,N(this,Ke).createElementNS(c,"defs")),Me.append(bt),bt.append(N(this,de)),N(this,Ke).body.append(Me)}return N(this,de)},$e=new WeakSet,ug=function(Me){const We=N(this,Ke).createElementNS(c,"feColorMatrix");We.setAttribute("type","matrix"),We.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Me.append(We)},Be=new WeakSet,Nh=function(Me){const We=N(this,Ke).createElementNS(c,"filter");return We.setAttribute("color-interpolation-filters","sRGB"),We.setAttribute("id",Me),N(this,pe,Zo).append(We),We},ot=new WeakSet,jh=function(Me,We,bt){const ht=N(this,Ke).createElementNS(c,We);ht.setAttribute("type","discrete"),ht.setAttribute("tableValues",bt),Me.append(ht)},Ct=new WeakSet,Ac=function(Me,We,bt,ht){const It=N(this,Ke).createElementNS(c,"feComponentTransfer");ht.append(It),Re(this,ot,jh).call(this,It,"feFuncR",Me),Re(this,ot,jh).call(this,It,"feFuncG",We),Re(this,ot,jh).call(this,It,"feFuncB",bt)},gt=new WeakSet,Rc=function(Me){return N(this,pe,Zo).style.color=Me,H(getComputedStyle(N(this,pe,Zo)).getPropertyValue("color"))},e.DOMFilterFactory=f;class d extends r.BaseCanvasFactory{constructor({ownerDocument:De=globalThis.document}={}){super(),this._document=De}_createCanvas(De,Me){const We=this._document.createElement("canvas");return We.width=De,We.height=Me,We}}e.DOMCanvasFactory=d;async function O(tt,De=!1){if(G(tt,document.baseURI)){const Me=await fetch(tt);if(!Me.ok)throw new Error(Me.statusText);return De?new Uint8Array(await Me.arrayBuffer()):(0,a.stringToBytes)(await Me.text())}return new Promise((Me,We)=>{const bt=new XMLHttpRequest;bt.open("GET",tt,!0),De&&(bt.responseType="arraybuffer"),bt.onreadystatechange=()=>{if(bt.readyState===XMLHttpRequest.DONE){if(bt.status===200||bt.status===0){let ht;if(De&&bt.response?ht=new Uint8Array(bt.response):!De&&bt.responseText&&(ht=(0,a.stringToBytes)(bt.responseText)),ht){Me(ht);return}}We(new Error(bt.statusText))}},bt.send(null)})}class g extends r.BaseCMapReaderFactory{_fetchData(De,Me){return O(De,this.isCompressed).then(We=>({cMapData:We,compressionType:Me}))}}e.DOMCMapReaderFactory=g;class x extends r.BaseStandardFontDataFactory{_fetchData(De){return O(De,!0)}}e.DOMStandardFontDataFactory=x;class T extends r.BaseSVGFactory{_createSVG(De){return document.createElementNS(c,De)}}e.DOMSVGFactory=T;class E{constructor({viewBox:De,scale:Me,rotation:We,offsetX:bt=0,offsetY:ht=0,dontFlip:It=!1}){this.viewBox=De,this.scale=Me,this.rotation=We,this.offsetX=bt,this.offsetY=ht;const Mt=(De[2]+De[0])/2,Bt=(De[3]+De[1])/2;let et,St,Et,Lt;switch(We%=360,We<0&&(We+=360),We){case 180:et=-1,St=0,Et=0,Lt=1;break;case 90:et=0,St=1,Et=1,Lt=0;break;case 270:et=0,St=-1,Et=-1,Lt=0;break;case 0:et=1,St=0,Et=0,Lt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}It&&(Et=-Et,Lt=-Lt);let Ve,Te,we,Je;et===0?(Ve=Math.abs(Bt-De[1])*Me+bt,Te=Math.abs(Mt-De[0])*Me+ht,we=(De[3]-De[1])*Me,Je=(De[2]-De[0])*Me):(Ve=Math.abs(Mt-De[0])*Me+bt,Te=Math.abs(Bt-De[1])*Me+ht,we=(De[2]-De[0])*Me,Je=(De[3]-De[1])*Me),this.transform=[et*Me,St*Me,Et*Me,Lt*Me,Ve-et*Me*Mt-Et*Me*Bt,Te-St*Me*Mt-Lt*Me*Bt],this.width=we,this.height=Je}get rawDims(){const{viewBox:De}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:De[2]-De[0],pageHeight:De[3]-De[1],pageX:De[0],pageY:De[1]})}clone({scale:De=this.scale,rotation:Me=this.rotation,offsetX:We=this.offsetX,offsetY:bt=this.offsetY,dontFlip:ht=!1}={}){return new E({viewBox:this.viewBox.slice(),scale:De,rotation:Me,offsetX:We,offsetY:bt,dontFlip:ht})}convertToViewportPoint(De,Me){return a.Util.applyTransform([De,Me],this.transform)}convertToViewportRectangle(De){const Me=a.Util.applyTransform([De[0],De[1]],this.transform),We=a.Util.applyTransform([De[2],De[3]],this.transform);return[Me[0],Me[1],We[0],We[1]]}convertToPdfPoint(De,Me){return a.Util.applyInverseTransform([De,Me],this.transform)}}e.PageViewport=E;class R extends a.BaseException{constructor(De,Me=0){super(De,"RenderingCancelledException"),this.extraDelay=Me}}e.RenderingCancelledException=R;function M(tt){const De=tt.length;let Me=0;for(;Me<De&&tt[Me].trim()==="";)Me++;return tt.substring(Me,Me+5).toLowerCase()==="data:"}function $(tt){return typeof tt=="string"&&/\.pdf$/i.test(tt)}function V(tt,De=!1){return De||([tt]=tt.split(/[#?]/,1)),tt.substring(tt.lastIndexOf("/")+1)}function X(tt,De="document.pdf"){if(typeof tt!="string")return De;if(M(tt))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),De;const Me=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,We=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,bt=Me.exec(tt);let ht=We.exec(bt[1])||We.exec(bt[2])||We.exec(bt[3]);if(ht&&(ht=ht[0],ht.includes("%")))try{ht=We.exec(decodeURIComponent(ht))[0]}catch{}return ht||De}class Y{constructor(){Fn(this,"started",Object.create(null));Fn(this,"times",[])}time(De){De in this.started&&(0,a.warn)(`Timer is already running for ${De}`),this.started[De]=Date.now()}timeEnd(De){De in this.started||(0,a.warn)(`Timer has not been started for ${De}`),this.times.push({name:De,start:this.started[De],end:Date.now()}),delete this.started[De]}toString(){const De=[];let Me=0;for(const{name:We}of this.times)Me=Math.max(We.length,Me);for(const{name:We,start:bt,end:ht}of this.times)De.push(`${We.padEnd(Me)} ${ht-bt}ms
`);return De.join("")}}e.StatTimer=Y;function G(tt,De){try{const{protocol:Me}=De?new URL(tt,De):new URL(tt);return Me==="http:"||Me==="https:"}catch{return!1}}function L(tt){tt.preventDefault()}function I(tt,De=!1){return new Promise((Me,We)=>{const bt=document.createElement("script");bt.src=tt,bt.onload=function(ht){De&&bt.remove(),Me(ht)},bt.onerror=function(){We(new Error(`Cannot load script at: ${bt.src}`))},(document.head||document.documentElement).append(bt)})}function ee(tt){console.log("Deprecated API usage: "+tt)}let ne;class z{static toDateObject(De){if(!De||typeof De!="string")return null;ne||(ne=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Me=ne.exec(De);if(!Me)return null;const We=parseInt(Me[1],10);let bt=parseInt(Me[2],10);bt=bt>=1&&bt<=12?bt-1:0;let ht=parseInt(Me[3],10);ht=ht>=1&&ht<=31?ht:1;let It=parseInt(Me[4],10);It=It>=0&&It<=23?It:0;let Mt=parseInt(Me[5],10);Mt=Mt>=0&&Mt<=59?Mt:0;let Bt=parseInt(Me[6],10);Bt=Bt>=0&&Bt<=59?Bt:0;const et=Me[7]||"Z";let St=parseInt(Me[8],10);St=St>=0&&St<=23?St:0;let Et=parseInt(Me[9],10)||0;return Et=Et>=0&&Et<=59?Et:0,et==="-"?(It+=St,Mt+=Et):et==="+"&&(It-=St,Mt-=Et),new Date(Date.UTC(We,bt,ht,It,Mt,Bt))}}e.PDFDateString=z;function ae(tt,{scale:De=1,rotation:Me=0}){const{width:We,height:bt}=tt.attributes.style,ht=[0,0,parseInt(We),parseInt(bt)];return new E({viewBox:ht,scale:De,rotation:Me})}function H(tt){if(tt.startsWith("#")){const De=parseInt(tt.slice(1),16);return[(De&16711680)>>16,(De&65280)>>8,De&255]}return tt.startsWith("rgb(")?tt.slice(4,-1).split(",").map(De=>parseInt(De)):tt.startsWith("rgba(")?tt.slice(5,-1).split(",").map(De=>parseInt(De)).slice(0,3):((0,a.warn)(`Not a valid color format: "${tt}"`),[0,0,0])}function fe(tt){const De=document.createElement("span");De.style.visibility="hidden",document.body.append(De);for(const Me of tt.keys()){De.style.color=Me;const We=window.getComputedStyle(De).color;tt.set(Me,H(We))}De.remove()}function me(tt){const{a:De,b:Me,c:We,d:bt,e:ht,f:It}=tt.getTransform();return[De,Me,We,bt,ht,It]}function se(tt){const{a:De,b:Me,c:We,d:bt,e:ht,f:It}=tt.getTransform().invertSelf();return[De,Me,We,bt,ht,It]}function Se(tt,De,Me=!1,We=!0){if(De instanceof E){const{pageWidth:bt,pageHeight:ht}=De.rawDims,{style:It}=tt,Mt=a.FeatureTest.isCSSRoundSupported,Bt=`var(--scale-factor) * ${bt}px`,et=`var(--scale-factor) * ${ht}px`,St=Mt?`round(${Bt}, 1px)`:`calc(${Bt})`,Et=Mt?`round(${et}, 1px)`:`calc(${et})`;!Me||De.rotation%180===0?(It.width=St,It.height=Et):(It.width=Et,It.height=St)}We&&tt.setAttribute("data-main-rotation",De.rotation)}},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var r=n(1);class a{constructor(){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(g){return"none"}addHCMFilter(g,x){return"none"}addHighlightHCMFilter(g,x,T,E){return"none"}destroy(g=!1){}}e.BaseFilterFactory=a;class c{constructor(){this.constructor===c&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(g,x){if(g<=0||x<=0)throw new Error("Invalid canvas size");const T=this._createCanvas(g,x);return{canvas:T,context:T.getContext("2d")}}reset(g,x,T){if(!g.canvas)throw new Error("Canvas is not specified");if(x<=0||T<=0)throw new Error("Invalid canvas size");g.canvas.width=x,g.canvas.height=T}destroy(g){if(!g.canvas)throw new Error("Canvas is not specified");g.canvas.width=0,g.canvas.height=0,g.canvas=null,g.context=null}_createCanvas(g,x){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=c;class u{constructor({baseUrl:g=null,isCompressed:x=!0}){this.constructor===u&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=g,this.isCompressed=x}async fetch({name:g}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!g)throw new Error("CMap name must be specified.");const x=this.baseUrl+g+(this.isCompressed?".bcmap":""),T=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(x,T).catch(E=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${x}`)})}_fetchData(g,x){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=u;class f{constructor({baseUrl:g=null}){this.constructor===f&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=g}async fetch({filename:g}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!g)throw new Error("Font filename must be specified.");const x=`${this.baseUrl}${g}`;return this._fetchData(x).catch(T=>{throw new Error(`Unable to load font data at: ${x}`)})}_fetchData(g){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=f;class d{constructor(){this.constructor===d&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(g,x,T=!1){if(g<=0||x<=0)throw new Error("Invalid SVG dimensions");const E=this._createSVG("svg:svg");return E.setAttribute("version","1.1"),T||(E.setAttribute("width",`${g}px`),E.setAttribute("height",`${x}px`)),E.setAttribute("preserveAspectRatio","none"),E.setAttribute("viewBox",`0 0 ${g} ${x}`),E}createElement(g){if(typeof g!="string")throw new Error("Invalid SVG element type");return this._createSVG(g)}_createSVG(g){(0,r.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=d},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var r=n(1);const a=3285377520,c=4294901760,u=65535;class f{constructor(O){this.h1=O?O&4294967295:a,this.h2=O?O&4294967295:a}update(O){let g,x;if(typeof O=="string"){g=new Uint8Array(O.length*2),x=0;for(let ee=0,ne=O.length;ee<ne;ee++){const z=O.charCodeAt(ee);z<=255?g[x++]=z:(g[x++]=z>>>8,g[x++]=z&255)}}else if((0,r.isArrayBuffer)(O))g=O.slice(),x=g.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const T=x>>2,E=x-T*4,R=new Uint32Array(g.buffer,0,T);let M=0,$=0,V=this.h1,X=this.h2;const Y=3432918353,G=461845907,L=Y&u,I=G&u;for(let ee=0;ee<T;ee++)ee&1?(M=R[ee],M=M*Y&c|M*L&u,M=M<<15|M>>>17,M=M*G&c|M*I&u,V^=M,V=V<<13|V>>>19,V=V*5+3864292196):($=R[ee],$=$*Y&c|$*L&u,$=$<<15|$>>>17,$=$*G&c|$*I&u,X^=$,X=X<<13|X>>>19,X=X*5+3864292196);switch(M=0,E){case 3:M^=g[T*4+2]<<16;case 2:M^=g[T*4+1]<<8;case 1:M^=g[T*4],M=M*Y&c|M*L&u,M=M<<15|M>>>17,M=M*G&c|M*I&u,T&1?V^=M:X^=M}this.h1=V,this.h2=X}hexdigest(){let O=this.h1,g=this.h2;return O^=g>>>1,O=O*3981806797&c|O*36045&u,g=g*4283543511&c|((g<<16|O>>>16)*2950163797&c)>>>16,O^=g>>>1,O=O*444984403&c|O*60499&u,g=g*3301882366&c|((g<<16|O>>>16)*3120437893&c)>>>16,O^=g>>>1,(O>>>0).toString(16).padStart(8,"0")+(g>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=f},(s,e,n)=>{var u;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var r=n(1);class a{constructor({ownerDocument:d=globalThis.document,styleElement:O=null}){ke(this,u,new Set);this._document=d,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(d){this.nativeFontFaces.add(d),this._document.fonts.add(d)}removeNativeFontFace(d){this.nativeFontFaces.delete(d),this._document.fonts.delete(d)}insertRule(d){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const O=this.styleElement.sheet;O.insertRule(d,O.cssRules.length)}clear(){for(const d of this.nativeFontFaces)this._document.fonts.delete(d);this.nativeFontFaces.clear(),N(this,u).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(d){if(!(!d||N(this,u).has(d.loadedName))){if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:O,src:g,style:x}=d,T=new FontFace(O,g,x);this.addNativeFontFace(T);try{await T.load(),N(this,u).add(O)}catch{(0,r.warn)(`Cannot load system font: ${d.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(T)}return}(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(d){if(d.attached||d.missingFile&&!d.systemFontInfo)return;if(d.attached=!0,d.systemFontInfo){await this.loadSystemFont(d.systemFontInfo);return}if(this.isFontLoadingAPISupported){const g=d.createNativeFontFace();if(g){this.addNativeFontFace(g);try{await g.loaded}catch(x){throw(0,r.warn)(`Failed to load font '${g.family}': '${x}'.`),d.disableFontFace=!0,x}}return}const O=d.createFontFaceRule();if(O){if(this.insertRule(O),this.isSyncFontLoadingSupported)return;await new Promise(g=>{const x=this._queueLoadingCallback(g);this._prepareFontLoadEvent(d,x)})}}get isFontLoadingAPISupported(){var O;const d=!!((O=this._document)!=null&&O.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",d)}get isSyncFontLoadingSupported(){let d=!1;return(r.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(d=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",d)}_queueLoadingCallback(d){function O(){for((0,r.assert)(!x.done,"completeRequest() cannot be called twice."),x.done=!0;g.length>0&&g[0].done;){const T=g.shift();setTimeout(T.callback,0)}}const{loadingRequests:g}=this,x={done:!1,complete:O,callback:d};return g.push(x),x}get _loadTestFont(){const d=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",d)}_prepareFontLoadEvent(d,O){function g(H,fe){return H.charCodeAt(fe)<<24|H.charCodeAt(fe+1)<<16|H.charCodeAt(fe+2)<<8|H.charCodeAt(fe+3)&255}function x(H,fe,me,se){const Se=H.substring(0,fe),Ae=H.substring(fe+me);return Se+se+Ae}let T,E;const R=this._document.createElement("canvas");R.width=1,R.height=1;const M=R.getContext("2d");let $=0;function V(H,fe){if(++$>30){(0,r.warn)("Load test font never loaded."),fe();return}if(M.font="30px "+H,M.fillText(".",0,20),M.getImageData(0,0,1,1).data[3]>0){fe();return}setTimeout(V.bind(null,H,fe))}const X=`lt${Date.now()}${this.loadTestFontId++}`;let Y=this._loadTestFont;Y=x(Y,976,X.length,X);const L=16,I=1482184792;let ee=g(Y,L);for(T=0,E=X.length-3;T<E;T+=4)ee=ee-I+g(X,T)|0;T<X.length&&(ee=ee-I+g(X+"XXX",T)|0),Y=x(Y,L,4,(0,r.string32)(ee));const ne=`url(data:font/opentype;base64,${btoa(Y)});`,z=`@font-face {font-family:"${X}";src:${ne}}`;this.insertRule(z);const ae=this._document.createElement("div");ae.style.visibility="hidden",ae.style.width=ae.style.height="10px",ae.style.position="absolute",ae.style.top=ae.style.left="0px";for(const H of[d.loadedName,X]){const fe=this._document.createElement("span");fe.textContent="Hi",fe.style.fontFamily=H,ae.append(fe)}this._document.body.append(ae),V(X,()=>{ae.remove(),O.complete()})}}u=new WeakMap,e.FontLoader=a;class c{constructor(d,{isEvalSupported:O=!0,disableFontFace:g=!1,ignoreErrors:x=!1,inspectFont:T=null}){this.compiledGlyphs=Object.create(null);for(const E in d)this[E]=d[E];this.isEvalSupported=O!==!1,this.disableFontFace=g===!0,this.ignoreErrors=x===!0,this._inspectFont=T}createNativeFontFace(){var O;if(!this.data||this.disableFontFace)return null;let d;if(!this.cssFontInfo)d=new FontFace(this.loadedName,this.data,{});else{const g={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(g.style=`oblique ${this.cssFontInfo.italicAngle}deg`),d=new FontFace(this.cssFontInfo.fontFamily,this.data,g)}return(O=this._inspectFont)==null||O.call(this,this),d}createFontFaceRule(){var x;if(!this.data||this.disableFontFace)return null;const d=(0,r.bytesToString)(this.data),O=`url(data:${this.mimetype};base64,${btoa(d)});`;let g;if(!this.cssFontInfo)g=`@font-face {font-family:"${this.loadedName}";src:${O}}`;else{let T=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(T+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),g=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${T}src:${O}}`}return(x=this._inspectFont)==null||x.call(this,this,O),g}getPathGenerator(d,O){if(this.compiledGlyphs[O]!==void 0)return this.compiledGlyphs[O];let g;try{g=d.get(this.loadedName+"_path_"+O)}catch(x){if(!this.ignoreErrors)throw x;return(0,r.warn)(`getPathGenerator - ignoring character: "${x}".`),this.compiledGlyphs[O]=function(T,E){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const x=[];for(const T of g){const E=T.args!==void 0?T.args.join(","):"";x.push("c.",T.cmd,"(",E,`);
`)}return this.compiledGlyphs[O]=new Function("c","size",x.join(""))}return this.compiledGlyphs[O]=function(x,T){for(const E of g)E.cmd==="scale"&&(E.args=[T,-T]),x[E.cmd].apply(x,E.args)}}}e.FontFaceObject=c},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var r=n(7);n(1);const a=function(O){return new Promise((g,x)=>{require$$5.readFile(O,(E,R)=>{if(E||!R){x(new Error(E));return}g(new Uint8Array(R))})})};class c extends r.BaseFilterFactory{}e.NodeFilterFactory=c;class u extends r.BaseCanvasFactory{_createCanvas(g,x){return require$$5.createCanvas(g,x)}}e.NodeCanvasFactory=u;class f extends r.BaseCMapReaderFactory{_fetchData(g,x){return a(g).then(T=>({cMapData:T,compressionType:x}))}}e.NodeCMapReaderFactory=f;class d extends r.BaseStandardFontDataFactory{_fetchData(g){return a(g)}}e.NodeStandardFontDataFactory=d},(s,e,n)=>{var de,hg,Ke,fg;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var r=n(1),a=n(6),c=n(12),u=n(13);const f=16,d=100,O=4096,g=15,x=10,T=1e3,E=16;function R(te,D){if(te._removeMirroring)throw new Error("Context is already forwarding operations.");te.__originalSave=te.save,te.__originalRestore=te.restore,te.__originalRotate=te.rotate,te.__originalScale=te.scale,te.__originalTranslate=te.translate,te.__originalTransform=te.transform,te.__originalSetTransform=te.setTransform,te.__originalResetTransform=te.resetTransform,te.__originalClip=te.clip,te.__originalMoveTo=te.moveTo,te.__originalLineTo=te.lineTo,te.__originalBezierCurveTo=te.bezierCurveTo,te.__originalRect=te.rect,te.__originalClosePath=te.closePath,te.__originalBeginPath=te.beginPath,te._removeMirroring=()=>{te.save=te.__originalSave,te.restore=te.__originalRestore,te.rotate=te.__originalRotate,te.scale=te.__originalScale,te.translate=te.__originalTranslate,te.transform=te.__originalTransform,te.setTransform=te.__originalSetTransform,te.resetTransform=te.__originalResetTransform,te.clip=te.__originalClip,te.moveTo=te.__originalMoveTo,te.lineTo=te.__originalLineTo,te.bezierCurveTo=te.__originalBezierCurveTo,te.rect=te.__originalRect,te.closePath=te.__originalClosePath,te.beginPath=te.__originalBeginPath,delete te._removeMirroring},te.save=function(){D.save(),this.__originalSave()},te.restore=function(){D.restore(),this.__originalRestore()},te.translate=function(j,W){D.translate(j,W),this.__originalTranslate(j,W)},te.scale=function(j,W){D.scale(j,W),this.__originalScale(j,W)},te.transform=function(j,W,K,le,pe,xe){D.transform(j,W,K,le,pe,xe),this.__originalTransform(j,W,K,le,pe,xe)},te.setTransform=function(j,W,K,le,pe,xe){D.setTransform(j,W,K,le,pe,xe),this.__originalSetTransform(j,W,K,le,pe,xe)},te.resetTransform=function(){D.resetTransform(),this.__originalResetTransform()},te.rotate=function(j){D.rotate(j),this.__originalRotate(j)},te.clip=function(j){D.clip(j),this.__originalClip(j)},te.moveTo=function(F,j){D.moveTo(F,j),this.__originalMoveTo(F,j)},te.lineTo=function(F,j){D.lineTo(F,j),this.__originalLineTo(F,j)},te.bezierCurveTo=function(F,j,W,K,le,pe){D.bezierCurveTo(F,j,W,K,le,pe),this.__originalBezierCurveTo(F,j,W,K,le,pe)},te.rect=function(F,j,W,K){D.rect(F,j,W,K),this.__originalRect(F,j,W,K)},te.closePath=function(){D.closePath(),this.__originalClosePath()},te.beginPath=function(){D.beginPath(),this.__originalBeginPath()}}class M{constructor(D){this.canvasFactory=D,this.cache=Object.create(null)}getCanvas(D,F,j){let W;return this.cache[D]!==void 0?(W=this.cache[D],this.canvasFactory.reset(W,F,j)):(W=this.canvasFactory.create(F,j),this.cache[D]=W),W}delete(D){delete this.cache[D]}clear(){for(const D in this.cache){const F=this.cache[D];this.canvasFactory.destroy(F),delete this.cache[D]}}}function $(te,D,F,j,W,K,le,pe,xe,$e){const[_e,Be,Ue,ot,qe,Ct]=(0,a.getCurrentTransform)(te);if(Be===0&&Ue===0){const Pt=le*_e+qe,tt=Math.round(Pt),De=pe*ot+Ct,Me=Math.round(De),We=(le+xe)*_e+qe,bt=Math.abs(Math.round(We)-tt)||1,ht=(pe+$e)*ot+Ct,It=Math.abs(Math.round(ht)-Me)||1;return te.setTransform(Math.sign(_e),0,0,Math.sign(ot),tt,Me),te.drawImage(D,F,j,W,K,0,0,bt,It),te.setTransform(_e,Be,Ue,ot,qe,Ct),[bt,It]}if(_e===0&&ot===0){const Pt=pe*Ue+qe,tt=Math.round(Pt),De=le*Be+Ct,Me=Math.round(De),We=(pe+$e)*Ue+qe,bt=Math.abs(Math.round(We)-tt)||1,ht=(le+xe)*Be+Ct,It=Math.abs(Math.round(ht)-Me)||1;return te.setTransform(0,Math.sign(Be),Math.sign(Ue),0,tt,Me),te.drawImage(D,F,j,W,K,0,0,It,bt),te.setTransform(_e,Be,Ue,ot,qe,Ct),[It,bt]}te.drawImage(D,F,j,W,K,le,pe,xe,$e);const Nt=Math.hypot(_e,Be),gt=Math.hypot(Ue,ot);return[Nt*xe,gt*$e]}function V(te){const{width:D,height:F}=te;if(D>T||F>T)return null;const j=1e3,W=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),K=D+1;let le=new Uint8Array(K*(F+1)),pe,xe,$e;const _e=D+7&-8;let Be=new Uint8Array(_e*F),Ue=0;for(const gt of te.data){let Pt=128;for(;Pt>0;)Be[Ue++]=gt&Pt?0:255,Pt>>=1}let ot=0;for(Ue=0,Be[Ue]!==0&&(le[0]=1,++ot),xe=1;xe<D;xe++)Be[Ue]!==Be[Ue+1]&&(le[xe]=Be[Ue]?2:1,++ot),Ue++;for(Be[Ue]!==0&&(le[xe]=2,++ot),pe=1;pe<F;pe++){Ue=pe*_e,$e=pe*K,Be[Ue-_e]!==Be[Ue]&&(le[$e]=Be[Ue]?1:8,++ot);let gt=(Be[Ue]?4:0)+(Be[Ue-_e]?8:0);for(xe=1;xe<D;xe++)gt=(gt>>2)+(Be[Ue+1]?4:0)+(Be[Ue-_e+1]?8:0),W[gt]&&(le[$e+xe]=W[gt],++ot),Ue++;if(Be[Ue-_e]!==Be[Ue]&&(le[$e+xe]=Be[Ue]?2:4,++ot),ot>j)return null}for(Ue=_e*(F-1),$e=pe*K,Be[Ue]!==0&&(le[$e]=8,++ot),xe=1;xe<D;xe++)Be[Ue]!==Be[Ue+1]&&(le[$e+xe]=Be[Ue]?4:8,++ot),Ue++;if(Be[Ue]!==0&&(le[$e+xe]=4,++ot),ot>j)return null;const qe=new Int32Array([0,K,-1,0,-K,0,0,0,1]),Ct=new Path2D;for(pe=0;ot&&pe<=F;pe++){let gt=pe*K;const Pt=gt+D;for(;gt<Pt&&!le[gt];)gt++;if(gt===Pt)continue;Ct.moveTo(gt%K,pe);const tt=gt;let De=le[gt];do{const Me=qe[De];do gt+=Me;while(!le[gt]);const We=le[gt];We!==5&&We!==10?(De=We,le[gt]=0):(De=We&51*De>>4,le[gt]&=De>>2|De<<2),Ct.lineTo(gt%K,gt/K|0),le[gt]||--ot}while(tt!==gt);--pe}return Be=null,le=null,function(gt){gt.save(),gt.scale(1/D,-1/F),gt.translate(0,-F),gt.fill(Ct),gt.beginPath(),gt.restore()}}class X{constructor(D,F){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,D,F])}clone(){const D=Object.create(this);return D.clipBox=this.clipBox.slice(),D}setCurrentPoint(D,F){this.x=D,this.y=F}updatePathMinMax(D,F,j){[F,j]=r.Util.applyTransform([F,j],D),this.minX=Math.min(this.minX,F),this.minY=Math.min(this.minY,j),this.maxX=Math.max(this.maxX,F),this.maxY=Math.max(this.maxY,j)}updateRectMinMax(D,F){const j=r.Util.applyTransform(F,D),W=r.Util.applyTransform(F.slice(2),D);this.minX=Math.min(this.minX,j[0],W[0]),this.minY=Math.min(this.minY,j[1],W[1]),this.maxX=Math.max(this.maxX,j[0],W[0]),this.maxY=Math.max(this.maxY,j[1],W[1])}updateScalingPathMinMax(D,F){r.Util.scaleMinMax(D,F),this.minX=Math.min(this.minX,F[0]),this.maxX=Math.max(this.maxX,F[1]),this.minY=Math.min(this.minY,F[2]),this.maxY=Math.max(this.maxY,F[3])}updateCurvePathMinMax(D,F,j,W,K,le,pe,xe,$e,_e){const Be=r.Util.bezierBoundingBox(F,j,W,K,le,pe,xe,$e);if(_e){_e[0]=Math.min(_e[0],Be[0],Be[2]),_e[1]=Math.max(_e[1],Be[0],Be[2]),_e[2]=Math.min(_e[2],Be[1],Be[3]),_e[3]=Math.max(_e[3],Be[1],Be[3]);return}this.updateRectMinMax(D,Be)}getPathBoundingBox(D=c.PathType.FILL,F=null){const j=[this.minX,this.minY,this.maxX,this.maxY];if(D===c.PathType.STROKE){F||(0,r.unreachable)("Stroke bounding box must include transform.");const W=r.Util.singularValueDecompose2dScale(F),K=W[0]*this.lineWidth/2,le=W[1]*this.lineWidth/2;j[0]-=K,j[1]-=le,j[2]+=K,j[3]+=le}return j}updateClipFromPath(){const D=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(D||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(D){this.clipBox=D,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(D=c.PathType.FILL,F=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(D,F))}}function Y(te,D){if(typeof ImageData<"u"&&D instanceof ImageData){te.putImageData(D,0,0);return}const F=D.height,j=D.width,W=F%E,K=(F-W)/E,le=W===0?K:K+1,pe=te.createImageData(j,E);let xe=0,$e;const _e=D.data,Be=pe.data;let Ue,ot,qe,Ct;if(D.kind===r.ImageKind.GRAYSCALE_1BPP){const Nt=_e.byteLength,gt=new Uint32Array(Be.buffer,0,Be.byteLength>>2),Pt=gt.length,tt=j+7>>3,De=4294967295,Me=r.FeatureTest.isLittleEndian?4278190080:255;for(Ue=0;Ue<le;Ue++){for(qe=Ue<K?E:W,$e=0,ot=0;ot<qe;ot++){const We=Nt-xe;let bt=0;const ht=We>tt?j:We*8-7,It=ht&-8;let Mt=0,Bt=0;for(;bt<It;bt+=8)Bt=_e[xe++],gt[$e++]=Bt&128?De:Me,gt[$e++]=Bt&64?De:Me,gt[$e++]=Bt&32?De:Me,gt[$e++]=Bt&16?De:Me,gt[$e++]=Bt&8?De:Me,gt[$e++]=Bt&4?De:Me,gt[$e++]=Bt&2?De:Me,gt[$e++]=Bt&1?De:Me;for(;bt<ht;bt++)Mt===0&&(Bt=_e[xe++],Mt=128),gt[$e++]=Bt&Mt?De:Me,Mt>>=1}for(;$e<Pt;)gt[$e++]=0;te.putImageData(pe,0,Ue*E)}}else if(D.kind===r.ImageKind.RGBA_32BPP){for(ot=0,Ct=j*E*4,Ue=0;Ue<K;Ue++)Be.set(_e.subarray(xe,xe+Ct)),xe+=Ct,te.putImageData(pe,0,ot),ot+=E;Ue<le&&(Ct=j*W*4,Be.set(_e.subarray(xe,xe+Ct)),te.putImageData(pe,0,ot))}else if(D.kind===r.ImageKind.RGB_24BPP)for(qe=E,Ct=j*qe,Ue=0;Ue<le;Ue++){for(Ue>=K&&(qe=W,Ct=j*qe),$e=0,ot=Ct;ot--;)Be[$e++]=_e[xe++],Be[$e++]=_e[xe++],Be[$e++]=_e[xe++],Be[$e++]=255;te.putImageData(pe,0,Ue*E)}else throw new Error(`bad image kind: ${D.kind}`)}function G(te,D){if(D.bitmap){te.drawImage(D.bitmap,0,0);return}const F=D.height,j=D.width,W=F%E,K=(F-W)/E,le=W===0?K:K+1,pe=te.createImageData(j,E);let xe=0;const $e=D.data,_e=pe.data;for(let Be=0;Be<le;Be++){const Ue=Be<K?E:W;({srcPos:xe}=(0,u.convertBlackAndWhiteToRGBA)({src:$e,srcPos:xe,dest:_e,width:j,height:Ue,nonBlackColor:0})),te.putImageData(pe,0,Be*E)}}function L(te,D){const F=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const j of F)te[j]!==void 0&&(D[j]=te[j]);te.setLineDash!==void 0&&(D.setLineDash(te.getLineDash()),D.lineDashOffset=te.lineDashOffset)}function I(te){if(te.strokeStyle=te.fillStyle="#000000",te.fillRule="nonzero",te.globalAlpha=1,te.lineWidth=1,te.lineCap="butt",te.lineJoin="miter",te.miterLimit=10,te.globalCompositeOperation="source-over",te.font="10px sans-serif",te.setLineDash!==void 0&&(te.setLineDash([]),te.lineDashOffset=0),!r.isNodeJS){const{filter:D}=te;D!=="none"&&D!==""&&(te.filter="none")}}function ee(te,D,F,j){const W=te.length;for(let K=3;K<W;K+=4){const le=te[K];if(le===0)te[K-3]=D,te[K-2]=F,te[K-1]=j;else if(le<255){const pe=255-le;te[K-3]=te[K-3]*le+D*pe>>8,te[K-2]=te[K-2]*le+F*pe>>8,te[K-1]=te[K-1]*le+j*pe>>8}}}function ne(te,D,F){const j=te.length,W=1/255;for(let K=3;K<j;K+=4){const le=F?F[te[K]]:te[K];D[K]=D[K]*le*W|0}}function z(te,D,F){const j=te.length;for(let W=3;W<j;W+=4){const K=te[W-3]*77+te[W-2]*152+te[W-1]*28;D[W]=F?D[W]*F[K>>8]>>8:D[W]*K>>16}}function ae(te,D,F,j,W,K,le,pe,xe,$e,_e){const Be=!!K,Ue=Be?K[0]:0,ot=Be?K[1]:0,qe=Be?K[2]:0,Ct=W==="Luminosity"?z:ne,gt=Math.min(j,Math.ceil(1048576/F));for(let Pt=0;Pt<j;Pt+=gt){const tt=Math.min(gt,j-Pt),De=te.getImageData(pe-$e,Pt+(xe-_e),F,tt),Me=D.getImageData(pe,Pt+xe,F,tt);Be&&ee(De.data,Ue,ot,qe),Ct(De.data,Me.data,le),D.putImageData(Me,pe,Pt+xe)}}function H(te,D,F,j){const W=j[0],K=j[1],le=j[2]-W,pe=j[3]-K;le===0||pe===0||(ae(D.context,F,le,pe,D.subtype,D.backdrop,D.transferMap,W,K,D.offsetX,D.offsetY),te.save(),te.globalAlpha=1,te.globalCompositeOperation="source-over",te.setTransform(1,0,0,1,0,0),te.drawImage(F.canvas,0,0),te.restore())}function fe(te,D){const F=r.Util.singularValueDecompose2dScale(te);F[0]=Math.fround(F[0]),F[1]=Math.fround(F[1]);const j=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return D!==void 0?D:F[0]<=j||F[1]<=j}const me=["butt","round","square"],se=["miter","round","bevel"],Se={},Ae={},it=class it{constructor(D,F,j,W,K,{optionalContentConfig:le,markedContentStack:pe=null},xe,$e){ke(this,de);ke(this,Ke);this.ctx=D,this.current=new X(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=F,this.objs=j,this.canvasFactory=W,this.filterFactory=K,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=pe||[],this.optionalContentConfig=le,this.cachedCanvases=new M(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=xe,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=$e,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(D,F=null){return typeof D=="string"?D.startsWith("g_")?this.commonObjs.get(D):this.objs.get(D):F}beginDrawing({transform:D,viewport:F,transparency:j=!1,background:W=null}){const K=this.ctx.canvas.width,le=this.ctx.canvas.height,pe=this.ctx.fillStyle;if(this.ctx.fillStyle=W||"#ffffff",this.ctx.fillRect(0,0,K,le),this.ctx.fillStyle=pe,j){const xe=this.cachedCanvases.getCanvas("transparent",K,le);this.compositeCtx=this.ctx,this.transparentCanvas=xe.canvas,this.ctx=xe.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),I(this.ctx),D&&(this.ctx.transform(...D),this.outputScaleX=D[0],this.outputScaleY=D[0]),this.ctx.transform(...F.transform),this.viewportScale=F.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(D,F,j,W){const K=D.argsArray,le=D.fnArray;let pe=F||0;const xe=K.length;if(xe===pe)return pe;const $e=xe-pe>x&&typeof j=="function",_e=$e?Date.now()+g:0;let Be=0;const Ue=this.commonObjs,ot=this.objs;let qe;for(;;){if(W!==void 0&&pe===W.nextBreakPoint)return W.breakIt(pe,j),pe;if(qe=le[pe],qe!==r.OPS.dependency)this[qe].apply(this,K[pe]);else for(const Ct of K[pe]){const Nt=Ct.startsWith("g_")?Ue:ot;if(!Nt.has(Ct))return Nt.get(Ct,j),pe}if(pe++,pe===xe)return pe;if($e&&++Be>x){if(Date.now()>_e)return j(),pe;Be=0}}}endDrawing(){Re(this,de,hg).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const D of this._cachedBitmapsMap.values()){for(const F of D.values())typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement&&(F.width=F.height=0);D.clear()}this._cachedBitmapsMap.clear(),Re(this,Ke,fg).call(this)}_scaleImage(D,F){const j=D.width,W=D.height;let K=Math.max(Math.hypot(F[0],F[1]),1),le=Math.max(Math.hypot(F[2],F[3]),1),pe=j,xe=W,$e="prescale1",_e,Be;for(;K>2&&pe>1||le>2&&xe>1;){let Ue=pe,ot=xe;K>2&&pe>1&&(Ue=pe>=16384?Math.floor(pe/2)-1||1:Math.ceil(pe/2),K/=pe/Ue),le>2&&xe>1&&(ot=xe>=16384?Math.floor(xe/2)-1||1:Math.ceil(xe)/2,le/=xe/ot),_e=this.cachedCanvases.getCanvas($e,Ue,ot),Be=_e.context,Be.clearRect(0,0,Ue,ot),Be.drawImage(D,0,0,pe,xe,0,0,Ue,ot),D=_e.canvas,pe=Ue,xe=ot,$e=$e==="prescale1"?"prescale2":"prescale1"}return{img:D,paintWidth:pe,paintHeight:xe}}_createMaskCanvas(D){const F=this.ctx,{width:j,height:W}=D,K=this.current.fillColor,le=this.current.patternFill,pe=(0,a.getCurrentTransform)(F);let xe,$e,_e,Be;if((D.bitmap||D.data)&&D.count>1){const bt=D.bitmap||D.data.buffer;$e=JSON.stringify(le?pe:[pe.slice(0,4),K]),xe=this._cachedBitmapsMap.get(bt),xe||(xe=new Map,this._cachedBitmapsMap.set(bt,xe));const ht=xe.get($e);if(ht&&!le){const It=Math.round(Math.min(pe[0],pe[2])+pe[4]),Mt=Math.round(Math.min(pe[1],pe[3])+pe[5]);return{canvas:ht,offsetX:It,offsetY:Mt}}_e=ht}_e||(Be=this.cachedCanvases.getCanvas("maskCanvas",j,W),G(Be.context,D));let Ue=r.Util.transform(pe,[1/j,0,0,-1/W,0,0]);Ue=r.Util.transform(Ue,[1,0,0,1,0,-W]);const ot=r.Util.applyTransform([0,0],Ue),qe=r.Util.applyTransform([j,W],Ue),Ct=r.Util.normalizeRect([ot[0],ot[1],qe[0],qe[1]]),Nt=Math.round(Ct[2]-Ct[0])||1,gt=Math.round(Ct[3]-Ct[1])||1,Pt=this.cachedCanvases.getCanvas("fillCanvas",Nt,gt),tt=Pt.context,De=Math.min(ot[0],qe[0]),Me=Math.min(ot[1],qe[1]);tt.translate(-De,-Me),tt.transform(...Ue),_e||(_e=this._scaleImage(Be.canvas,(0,a.getCurrentTransformInverse)(tt)),_e=_e.img,xe&&le&&xe.set($e,_e)),tt.imageSmoothingEnabled=fe((0,a.getCurrentTransform)(tt),D.interpolate),$(tt,_e,0,0,_e.width,_e.height,0,0,j,W),tt.globalCompositeOperation="source-in";const We=r.Util.transform((0,a.getCurrentTransformInverse)(tt),[1,0,0,1,-De,-Me]);return tt.fillStyle=le?K.getPattern(F,this,We,c.PathType.FILL):K,tt.fillRect(0,0,j,W),xe&&!le&&(this.cachedCanvases.delete("fillCanvas"),xe.set($e,Pt.canvas)),{canvas:Pt.canvas,offsetX:Math.round(De),offsetY:Math.round(Me)}}setLineWidth(D){D!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=D,this.ctx.lineWidth=D}setLineCap(D){this.ctx.lineCap=me[D]}setLineJoin(D){this.ctx.lineJoin=se[D]}setMiterLimit(D){this.ctx.miterLimit=D}setDash(D,F){const j=this.ctx;j.setLineDash!==void 0&&(j.setLineDash(D),j.lineDashOffset=F)}setRenderingIntent(D){}setFlatness(D){}setGState(D){for(const[F,j]of D)switch(F){case"LW":this.setLineWidth(j);break;case"LC":this.setLineCap(j);break;case"LJ":this.setLineJoin(j);break;case"ML":this.setMiterLimit(j);break;case"D":this.setDash(j[0],j[1]);break;case"RI":this.setRenderingIntent(j);break;case"FL":this.setFlatness(j);break;case"Font":this.setFont(j[0],j[1]);break;case"CA":this.current.strokeAlpha=j;break;case"ca":this.current.fillAlpha=j,this.ctx.globalAlpha=j;break;case"BM":this.ctx.globalCompositeOperation=j;break;case"SMask":this.current.activeSMask=j?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(j);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const D=this.inSMaskMode;this.current.activeSMask&&!D?this.beginSMaskMode():!this.current.activeSMask&&D&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const D=this.ctx.canvas.width,F=this.ctx.canvas.height,j="smaskGroupAt"+this.groupLevel,W=this.cachedCanvases.getCanvas(j,D,F);this.suspendedCtx=this.ctx,this.ctx=W.context;const K=this.ctx;K.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),L(this.suspendedCtx,K),R(K,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),L(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(D){if(!this.current.activeSMask)return;D?(D[0]=Math.floor(D[0]),D[1]=Math.floor(D[1]),D[2]=Math.ceil(D[2]),D[3]=Math.ceil(D[3])):D=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const F=this.current.activeSMask,j=this.suspendedCtx;H(j,F,this.ctx,D),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(L(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const D=this.current;this.stateStack.push(D),this.current=D.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),L(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(D,F,j,W,K,le){this.ctx.transform(D,F,j,W,K,le),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(D,F,j){const W=this.ctx,K=this.current;let le=K.x,pe=K.y,xe,$e;const _e=(0,a.getCurrentTransform)(W),Be=_e[0]===0&&_e[3]===0||_e[1]===0&&_e[2]===0,Ue=Be?j.slice(0):null;for(let ot=0,qe=0,Ct=D.length;ot<Ct;ot++)switch(D[ot]|0){case r.OPS.rectangle:le=F[qe++],pe=F[qe++];const Nt=F[qe++],gt=F[qe++],Pt=le+Nt,tt=pe+gt;W.moveTo(le,pe),Nt===0||gt===0?W.lineTo(Pt,tt):(W.lineTo(Pt,pe),W.lineTo(Pt,tt),W.lineTo(le,tt)),Be||K.updateRectMinMax(_e,[le,pe,Pt,tt]),W.closePath();break;case r.OPS.moveTo:le=F[qe++],pe=F[qe++],W.moveTo(le,pe),Be||K.updatePathMinMax(_e,le,pe);break;case r.OPS.lineTo:le=F[qe++],pe=F[qe++],W.lineTo(le,pe),Be||K.updatePathMinMax(_e,le,pe);break;case r.OPS.curveTo:xe=le,$e=pe,le=F[qe+4],pe=F[qe+5],W.bezierCurveTo(F[qe],F[qe+1],F[qe+2],F[qe+3],le,pe),K.updateCurvePathMinMax(_e,xe,$e,F[qe],F[qe+1],F[qe+2],F[qe+3],le,pe,Ue),qe+=6;break;case r.OPS.curveTo2:xe=le,$e=pe,W.bezierCurveTo(le,pe,F[qe],F[qe+1],F[qe+2],F[qe+3]),K.updateCurvePathMinMax(_e,xe,$e,le,pe,F[qe],F[qe+1],F[qe+2],F[qe+3],Ue),le=F[qe+2],pe=F[qe+3],qe+=4;break;case r.OPS.curveTo3:xe=le,$e=pe,le=F[qe+2],pe=F[qe+3],W.bezierCurveTo(F[qe],F[qe+1],le,pe,le,pe),K.updateCurvePathMinMax(_e,xe,$e,F[qe],F[qe+1],le,pe,le,pe,Ue),qe+=4;break;case r.OPS.closePath:W.closePath();break}Be&&K.updateScalingPathMinMax(_e,Ue),K.setCurrentPoint(le,pe)}closePath(){this.ctx.closePath()}stroke(D=!0){const F=this.ctx,j=this.current.strokeColor;F.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof j=="object"&&(j!=null&&j.getPattern)?(F.save(),F.strokeStyle=j.getPattern(F,this,(0,a.getCurrentTransformInverse)(F),c.PathType.STROKE),this.rescaleAndStroke(!1),F.restore()):this.rescaleAndStroke(!0)),D&&this.consumePath(this.current.getClippedPathBoundingBox()),F.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(D=!0){const F=this.ctx,j=this.current.fillColor,W=this.current.patternFill;let K=!1;W&&(F.save(),F.fillStyle=j.getPattern(F,this,(0,a.getCurrentTransformInverse)(F),c.PathType.FILL),K=!0);const le=this.current.getClippedPathBoundingBox();this.contentVisible&&le!==null&&(this.pendingEOFill?(F.fill("evenodd"),this.pendingEOFill=!1):F.fill()),K&&F.restore(),D&&this.consumePath(le)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Se}eoClip(){this.pendingClip=Ae}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const D=this.pendingTextPaths,F=this.ctx;if(D===void 0){F.beginPath();return}F.save(),F.beginPath();for(const j of D)F.setTransform(...j.transform),F.translate(j.x,j.y),j.addToPath(F,j.fontSize);F.restore(),F.clip(),F.beginPath(),delete this.pendingTextPaths}setCharSpacing(D){this.current.charSpacing=D}setWordSpacing(D){this.current.wordSpacing=D}setHScale(D){this.current.textHScale=D/100}setLeading(D){this.current.leading=-D}setFont(D,F){var _e;const j=this.commonObjs.get(D),W=this.current;if(!j)throw new Error(`Can't find font for ${D}`);if(W.fontMatrix=j.fontMatrix||r.FONT_IDENTITY_MATRIX,(W.fontMatrix[0]===0||W.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+D),F<0?(F=-F,W.fontDirection=-1):W.fontDirection=1,this.current.font=j,this.current.fontSize=F,j.isType3Font)return;const K=j.loadedName||"sans-serif",le=((_e=j.systemFontInfo)==null?void 0:_e.css)||`"${K}", ${j.fallbackName}`;let pe="normal";j.black?pe="900":j.bold&&(pe="bold");const xe=j.italic?"italic":"normal";let $e=F;F<f?$e=f:F>d&&($e=d),this.current.fontSizeScale=F/$e,this.ctx.font=`${xe} ${pe} ${$e}px ${le}`}setTextRenderingMode(D){this.current.textRenderingMode=D}setTextRise(D){this.current.textRise=D}moveText(D,F){this.current.x=this.current.lineX+=D,this.current.y=this.current.lineY+=F}setLeadingMoveText(D,F){this.setLeading(-F),this.moveText(D,F)}setTextMatrix(D,F,j,W,K,le){this.current.textMatrix=[D,F,j,W,K,le],this.current.textMatrixScale=Math.hypot(D,F),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(D,F,j,W){const K=this.ctx,le=this.current,pe=le.font,xe=le.textRenderingMode,$e=le.fontSize/le.fontSizeScale,_e=xe&r.TextRenderingMode.FILL_STROKE_MASK,Be=!!(xe&r.TextRenderingMode.ADD_TO_PATH_FLAG),Ue=le.patternFill&&!pe.missingFile;let ot;(pe.disableFontFace||Be||Ue)&&(ot=pe.getPathGenerator(this.commonObjs,D)),pe.disableFontFace||Ue?(K.save(),K.translate(F,j),K.beginPath(),ot(K,$e),W&&K.setTransform(...W),(_e===r.TextRenderingMode.FILL||_e===r.TextRenderingMode.FILL_STROKE)&&K.fill(),(_e===r.TextRenderingMode.STROKE||_e===r.TextRenderingMode.FILL_STROKE)&&K.stroke(),K.restore()):((_e===r.TextRenderingMode.FILL||_e===r.TextRenderingMode.FILL_STROKE)&&K.fillText(D,F,j),(_e===r.TextRenderingMode.STROKE||_e===r.TextRenderingMode.FILL_STROKE)&&K.strokeText(D,F,j)),Be&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(K),x:F,y:j,fontSize:$e,addToPath:ot})}get isFontSubpixelAAEnabled(){const{context:D}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);D.scale(1.5,1),D.fillText("I",0,10);const F=D.getImageData(0,0,10,10).data;let j=!1;for(let W=3;W<F.length;W+=4)if(F[W]>0&&F[W]<255){j=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",j)}showText(D){const F=this.current,j=F.font;if(j.isType3Font)return this.showType3Text(D);const W=F.fontSize;if(W===0)return;const K=this.ctx,le=F.fontSizeScale,pe=F.charSpacing,xe=F.wordSpacing,$e=F.fontDirection,_e=F.textHScale*$e,Be=D.length,Ue=j.vertical,ot=Ue?1:-1,qe=j.defaultVMetrics,Ct=W*F.fontMatrix[0],Nt=F.textRenderingMode===r.TextRenderingMode.FILL&&!j.disableFontFace&&!F.patternFill;K.save(),K.transform(...F.textMatrix),K.translate(F.x,F.y+F.textRise),$e>0?K.scale(_e,-1):K.scale(_e,1);let gt;if(F.patternFill){K.save();const We=F.fillColor.getPattern(K,this,(0,a.getCurrentTransformInverse)(K),c.PathType.FILL);gt=(0,a.getCurrentTransform)(K),K.restore(),K.fillStyle=We}let Pt=F.lineWidth;const tt=F.textMatrixScale;if(tt===0||Pt===0){const We=F.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(We===r.TextRenderingMode.STROKE||We===r.TextRenderingMode.FILL_STROKE)&&(Pt=this.getSinglePixelWidth())}else Pt/=tt;if(le!==1&&(K.scale(le,le),Pt/=le),K.lineWidth=Pt,j.isInvalidPDFjsFont){const We=[];let bt=0;for(const ht of D)We.push(ht.unicode),bt+=ht.width;K.fillText(We.join(""),0,0),F.x+=bt*Ct*_e,K.restore(),this.compose();return}let De=0,Me;for(Me=0;Me<Be;++Me){const We=D[Me];if(typeof We=="number"){De+=ot*We*W/1e3;continue}let bt=!1;const ht=(We.isSpace?xe:0)+pe,It=We.fontChar,Mt=We.accent;let Bt,et,St=We.width;if(Ue){const Lt=We.vmetric||qe,Ve=-(We.vmetric?Lt[1]:St*.5)*Ct,Te=Lt[2]*Ct;St=Lt?-Lt[0]:St,Bt=Ve/le,et=(De+Te)/le}else Bt=De/le,et=0;if(j.remeasure&&St>0){const Lt=K.measureText(It).width*1e3/W*le;if(St<Lt&&this.isFontSubpixelAAEnabled){const Ve=St/Lt;bt=!0,K.save(),K.scale(Ve,1),Bt/=Ve}else St!==Lt&&(Bt+=(St-Lt)/2e3*W/le)}if(this.contentVisible&&(We.isInFont||j.missingFile)){if(Nt&&!Mt)K.fillText(It,Bt,et);else if(this.paintChar(It,Bt,et,gt),Mt){const Lt=Bt+W*Mt.offset.x/le,Ve=et-W*Mt.offset.y/le;this.paintChar(Mt.fontChar,Lt,Ve,gt)}}const Et=Ue?St*Ct-ht*$e:St*Ct+ht*$e;De+=Et,bt&&K.restore()}Ue?F.y-=De:F.x+=De*_e,K.restore(),this.compose()}showType3Text(D){const F=this.ctx,j=this.current,W=j.font,K=j.fontSize,le=j.fontDirection,pe=W.vertical?1:-1,xe=j.charSpacing,$e=j.wordSpacing,_e=j.textHScale*le,Be=j.fontMatrix||r.FONT_IDENTITY_MATRIX,Ue=D.length,ot=j.textRenderingMode===r.TextRenderingMode.INVISIBLE;let qe,Ct,Nt,gt;if(!(ot||K===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,F.save(),F.transform(...j.textMatrix),F.translate(j.x,j.y),F.scale(_e,le),qe=0;qe<Ue;++qe){if(Ct=D[qe],typeof Ct=="number"){gt=pe*Ct*K/1e3,this.ctx.translate(gt,0),j.x+=gt*_e;continue}const Pt=(Ct.isSpace?$e:0)+xe,tt=W.charProcOperatorList[Ct.operatorListId];if(!tt){(0,r.warn)(`Type3 character "${Ct.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ct,this.save(),F.scale(K,K),F.transform(...Be),this.executeOperatorList(tt),this.restore()),Nt=r.Util.applyTransform([Ct.width,0],Be)[0]*K+Pt,F.translate(Nt,0),j.x+=Nt*_e}F.restore(),this.processingType3=null}}setCharWidth(D,F){}setCharWidthAndBounds(D,F,j,W,K,le){this.ctx.rect(j,W,K-j,le-W),this.ctx.clip(),this.endPath()}getColorN_Pattern(D){let F;if(D[0]==="TilingPattern"){const j=D[1],W=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),K={createCanvasGraphics:le=>new it(le,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};F=new c.TilingPattern(D,j,this.ctx,K,W)}else F=this._getPattern(D[1],D[2]);return F}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(D,F,j){const W=r.Util.makeHexColor(D,F,j);this.ctx.strokeStyle=W,this.current.strokeColor=W}setFillRGBColor(D,F,j){const W=r.Util.makeHexColor(D,F,j);this.ctx.fillStyle=W,this.current.fillColor=W,this.current.patternFill=!1}_getPattern(D,F=null){let j;return this.cachedPatterns.has(D)?j=this.cachedPatterns.get(D):(j=(0,c.getShadingPattern)(this.getObject(D)),this.cachedPatterns.set(D,j)),F&&(j.matrix=F),j}shadingFill(D){if(!this.contentVisible)return;const F=this.ctx;this.save();const j=this._getPattern(D);F.fillStyle=j.getPattern(F,this,(0,a.getCurrentTransformInverse)(F),c.PathType.SHADING);const W=(0,a.getCurrentTransformInverse)(F);if(W){const{width:K,height:le}=F.canvas,[pe,xe,$e,_e]=r.Util.getAxialAlignedBoundingBox([0,0,K,le],W);this.ctx.fillRect(pe,xe,$e-pe,_e-xe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(D,F){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(D)&&D.length===6&&this.transform(...D),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),F)){const j=F[2]-F[0],W=F[3]-F[1];this.ctx.rect(F[0],F[1],j,W),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),F),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(D){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const F=this.ctx;D.isolated||(0,r.info)("TODO: Support non-isolated groups."),D.knockout&&(0,r.warn)("Knockout groups not supported.");const j=(0,a.getCurrentTransform)(F);if(D.matrix&&F.transform(...D.matrix),!D.bbox)throw new Error("Bounding box is required.");let W=r.Util.getAxialAlignedBoundingBox(D.bbox,(0,a.getCurrentTransform)(F));const K=[0,0,F.canvas.width,F.canvas.height];W=r.Util.intersect(W,K)||[0,0,0,0];const le=Math.floor(W[0]),pe=Math.floor(W[1]);let xe=Math.max(Math.ceil(W[2])-le,1),$e=Math.max(Math.ceil(W[3])-pe,1),_e=1,Be=1;xe>O&&(_e=xe/O,xe=O),$e>O&&(Be=$e/O,$e=O),this.current.startNewPathAndClipBox([0,0,xe,$e]);let Ue="groupAt"+this.groupLevel;D.smask&&(Ue+="_smask_"+this.smaskCounter++%2);const ot=this.cachedCanvases.getCanvas(Ue,xe,$e),qe=ot.context;qe.scale(1/_e,1/Be),qe.translate(-le,-pe),qe.transform(...j),D.smask?this.smaskStack.push({canvas:ot.canvas,context:qe,offsetX:le,offsetY:pe,scaleX:_e,scaleY:Be,subtype:D.smask.subtype,backdrop:D.smask.backdrop,transferMap:D.smask.transferMap||null,startTransformInverse:null}):(F.setTransform(1,0,0,1,0,0),F.translate(le,pe),F.scale(_e,Be),F.save()),L(F,qe),this.ctx=qe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(F),this.groupLevel++}endGroup(D){if(!this.contentVisible)return;this.groupLevel--;const F=this.ctx,j=this.groupStack.pop();if(this.ctx=j,this.ctx.imageSmoothingEnabled=!1,D.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const W=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...W);const K=r.Util.getAxialAlignedBoundingBox([0,0,F.canvas.width,F.canvas.height],W);this.ctx.drawImage(F.canvas,0,0),this.ctx.restore(),this.compose(K)}}beginAnnotation(D,F,j,W,K){if(Re(this,de,hg).call(this),I(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(F)&&F.length===4){const le=F[2]-F[0],pe=F[3]-F[1];if(K&&this.annotationCanvasMap){j=j.slice(),j[4]-=F[0],j[5]-=F[1],F=F.slice(),F[0]=F[1]=0,F[2]=le,F[3]=pe;const[xe,$e]=r.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:_e}=this,Be=Math.ceil(le*this.outputScaleX*_e),Ue=Math.ceil(pe*this.outputScaleY*_e);this.annotationCanvas=this.canvasFactory.create(Be,Ue);const{canvas:ot,context:qe}=this.annotationCanvas;this.annotationCanvasMap.set(D,ot),this.annotationCanvas.savedCtx=this.ctx,this.ctx=qe,this.ctx.save(),this.ctx.setTransform(xe,0,0,-$e,0,pe*$e),I(this.ctx)}else I(this.ctx),this.ctx.rect(F[0],F[1],le,pe),this.ctx.clip(),this.endPath()}this.current=new X(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...j),this.transform(...W)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Re(this,Ke,fg).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(D){if(!this.contentVisible)return;const F=D.count;D=this.getObject(D.data,D),D.count=F;const j=this.ctx,W=this.processingType3;if(W&&(W.compiled===void 0&&(W.compiled=V(D)),W.compiled)){W.compiled(j);return}const K=this._createMaskCanvas(D),le=K.canvas;j.save(),j.setTransform(1,0,0,1,0,0),j.drawImage(le,K.offsetX,K.offsetY),j.restore(),this.compose()}paintImageMaskXObjectRepeat(D,F,j=0,W=0,K,le){if(!this.contentVisible)return;D=this.getObject(D.data,D);const pe=this.ctx;pe.save();const xe=(0,a.getCurrentTransform)(pe);pe.transform(F,j,W,K,0,0);const $e=this._createMaskCanvas(D);pe.setTransform(1,0,0,1,$e.offsetX-xe[4],$e.offsetY-xe[5]);for(let _e=0,Be=le.length;_e<Be;_e+=2){const Ue=r.Util.transform(xe,[F,j,W,K,le[_e],le[_e+1]]),[ot,qe]=r.Util.applyTransform([0,0],Ue);pe.drawImage($e.canvas,ot,qe)}pe.restore(),this.compose()}paintImageMaskXObjectGroup(D){if(!this.contentVisible)return;const F=this.ctx,j=this.current.fillColor,W=this.current.patternFill;for(const K of D){const{data:le,width:pe,height:xe,transform:$e}=K,_e=this.cachedCanvases.getCanvas("maskCanvas",pe,xe),Be=_e.context;Be.save();const Ue=this.getObject(le,K);G(Be,Ue),Be.globalCompositeOperation="source-in",Be.fillStyle=W?j.getPattern(Be,this,(0,a.getCurrentTransformInverse)(F),c.PathType.FILL):j,Be.fillRect(0,0,pe,xe),Be.restore(),F.save(),F.transform(...$e),F.scale(1,-1),$(F,_e.canvas,0,0,pe,xe,0,-1,1,1),F.restore()}this.compose()}paintImageXObject(D){if(!this.contentVisible)return;const F=this.getObject(D);if(!F){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(F)}paintImageXObjectRepeat(D,F,j,W){if(!this.contentVisible)return;const K=this.getObject(D);if(!K){(0,r.warn)("Dependent image isn't ready yet");return}const le=K.width,pe=K.height,xe=[];for(let $e=0,_e=W.length;$e<_e;$e+=2)xe.push({transform:[F,0,0,j,W[$e],W[$e+1]],x:0,y:0,w:le,h:pe});this.paintInlineImageXObjectGroup(K,xe)}applyTransferMapsToCanvas(D){return this.current.transferMaps!=="none"&&(D.filter=this.current.transferMaps,D.drawImage(D.canvas,0,0),D.filter="none"),D.canvas}applyTransferMapsToBitmap(D){if(this.current.transferMaps==="none")return D.bitmap;const{bitmap:F,width:j,height:W}=D,K=this.cachedCanvases.getCanvas("inlineImage",j,W),le=K.context;return le.filter=this.current.transferMaps,le.drawImage(F,0,0),le.filter="none",K.canvas}paintInlineImageXObject(D){if(!this.contentVisible)return;const F=D.width,j=D.height,W=this.ctx;if(this.save(),!r.isNodeJS){const{filter:pe}=W;pe!=="none"&&pe!==""&&(W.filter="none")}W.scale(1/F,-1/j);let K;if(D.bitmap)K=this.applyTransferMapsToBitmap(D);else if(typeof HTMLElement=="function"&&D instanceof HTMLElement||!D.data)K=D;else{const xe=this.cachedCanvases.getCanvas("inlineImage",F,j).context;Y(xe,D),K=this.applyTransferMapsToCanvas(xe)}const le=this._scaleImage(K,(0,a.getCurrentTransformInverse)(W));W.imageSmoothingEnabled=fe((0,a.getCurrentTransform)(W),D.interpolate),$(W,le.img,0,0,le.paintWidth,le.paintHeight,0,-j,F,j),this.compose(),this.restore()}paintInlineImageXObjectGroup(D,F){if(!this.contentVisible)return;const j=this.ctx;let W;if(D.bitmap)W=D.bitmap;else{const K=D.width,le=D.height,xe=this.cachedCanvases.getCanvas("inlineImage",K,le).context;Y(xe,D),W=this.applyTransferMapsToCanvas(xe)}for(const K of F)j.save(),j.transform(...K.transform),j.scale(1,-1),$(j,W,K.x,K.y,K.w,K.h,0,-1,1,1),j.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(D){}markPointProps(D,F){}beginMarkedContent(D){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(D,F){D==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(F)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(D){const F=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(D);const j=this.ctx;this.pendingClip&&(F||(this.pendingClip===Ae?j.clip("evenodd"):j.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),j.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const D=(0,a.getCurrentTransform)(this.ctx);if(D[1]===0&&D[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(D[0]),Math.abs(D[3]));else{const F=Math.abs(D[0]*D[3]-D[2]*D[1]),j=Math.hypot(D[0],D[2]),W=Math.hypot(D[1],D[3]);this._cachedGetSinglePixelWidth=Math.max(j,W)/F}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:D}=this.current,{a:F,b:j,c:W,d:K}=this.ctx.getTransform();let le,pe;if(j===0&&W===0){const xe=Math.abs(F),$e=Math.abs(K);if(xe===$e)if(D===0)le=pe=1/xe;else{const _e=xe*D;le=pe=_e<1?1/_e:1}else if(D===0)le=1/xe,pe=1/$e;else{const _e=xe*D,Be=$e*D;le=_e<1?1/_e:1,pe=Be<1?1/Be:1}}else{const xe=Math.abs(F*K-j*W),$e=Math.hypot(F,j),_e=Math.hypot(W,K);if(D===0)le=_e/xe,pe=$e/xe;else{const Be=D*xe;le=_e>Be?_e/Be:1,pe=$e>Be?$e/Be:1}}this._cachedScaleForStroking[0]=le,this._cachedScaleForStroking[1]=pe}return this._cachedScaleForStroking}rescaleAndStroke(D){const{ctx:F}=this,{lineWidth:j}=this.current,[W,K]=this.getScaleForStroking();if(F.lineWidth=j||1,W===1&&K===1){F.stroke();return}const le=F.getLineDash();if(D&&F.save(),F.scale(W,K),le.length>0){const pe=Math.max(W,K);F.setLineDash(le.map(xe=>xe/pe)),F.lineDashOffset/=pe}F.stroke(),D&&F.restore()}isContentVisible(){for(let D=this.markedContentStack.length-1;D>=0;D--)if(!this.markedContentStack[D].visible)return!1;return!0}};de=new WeakSet,hg=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ke=new WeakSet,fg=function(){if(this.pageColors){const D=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(D!=="none"){const F=this.ctx.filter;this.ctx.filter=D,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=F}}};let Pe=it;e.CanvasGraphics=Pe;for(const te in r.OPS)Pe.prototype[te]!==void 0&&(Pe.prototype[r.OPS[te]]=Pe.prototype[te])},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=E;var r=n(1),a=n(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=c;function u(V,X){if(!X)return;const Y=X[2]-X[0],G=X[3]-X[1],L=new Path2D;L.rect(X[0],X[1],Y,G),V.clip(L)}class f{constructor(){this.constructor===f&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class d extends f{constructor(X){super(),this._type=X[1],this._bbox=X[2],this._colorStops=X[3],this._p0=X[4],this._p1=X[5],this._r0=X[6],this._r1=X[7],this.matrix=null}_createGradient(X){let Y;this._type==="axial"?Y=X.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Y=X.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const G of this._colorStops)Y.addColorStop(G[0],G[1]);return Y}getPattern(X,Y,G,L){let I;if(L===c.STROKE||L===c.FILL){const ee=Y.current.getClippedPathBoundingBox(L,(0,a.getCurrentTransform)(X))||[0,0,0,0],ne=Math.ceil(ee[2]-ee[0])||1,z=Math.ceil(ee[3]-ee[1])||1,ae=Y.cachedCanvases.getCanvas("pattern",ne,z,!0),H=ae.context;H.clearRect(0,0,H.canvas.width,H.canvas.height),H.beginPath(),H.rect(0,0,H.canvas.width,H.canvas.height),H.translate(-ee[0],-ee[1]),G=r.Util.transform(G,[1,0,0,1,ee[0],ee[1]]),H.transform(...Y.baseTransform),this.matrix&&H.transform(...this.matrix),u(H,this._bbox),H.fillStyle=this._createGradient(H),H.fill(),I=X.createPattern(ae.canvas,"no-repeat");const fe=new DOMMatrix(G);I.setTransform(fe)}else u(X,this._bbox),I=this._createGradient(X);return I}}function O(V,X,Y,G,L,I,ee,ne){const z=X.coords,ae=X.colors,H=V.data,fe=V.width*4;let me;z[Y+1]>z[G+1]&&(me=Y,Y=G,G=me,me=I,I=ee,ee=me),z[G+1]>z[L+1]&&(me=G,G=L,L=me,me=ee,ee=ne,ne=me),z[Y+1]>z[G+1]&&(me=Y,Y=G,G=me,me=I,I=ee,ee=me);const se=(z[Y]+X.offsetX)*X.scaleX,Se=(z[Y+1]+X.offsetY)*X.scaleY,Ae=(z[G]+X.offsetX)*X.scaleX,Pe=(z[G+1]+X.offsetY)*X.scaleY,de=(z[L]+X.offsetX)*X.scaleX,Fe=(z[L+1]+X.offsetY)*X.scaleY;if(Se>=Fe)return;const Ke=ae[I],ct=ae[I+1],it=ae[I+2],te=ae[ee],D=ae[ee+1],F=ae[ee+2],j=ae[ne],W=ae[ne+1],K=ae[ne+2],le=Math.round(Se),pe=Math.round(Fe);let xe,$e,_e,Be,Ue,ot,qe,Ct;for(let Nt=le;Nt<=pe;Nt++){if(Nt<Pe){const Me=Nt<Se?0:(Se-Nt)/(Se-Pe);xe=se-(se-Ae)*Me,$e=Ke-(Ke-te)*Me,_e=ct-(ct-D)*Me,Be=it-(it-F)*Me}else{let Me;Nt>Fe?Me=1:Pe===Fe?Me=0:Me=(Pe-Nt)/(Pe-Fe),xe=Ae-(Ae-de)*Me,$e=te-(te-j)*Me,_e=D-(D-W)*Me,Be=F-(F-K)*Me}let gt;Nt<Se?gt=0:Nt>Fe?gt=1:gt=(Se-Nt)/(Se-Fe),Ue=se-(se-de)*gt,ot=Ke-(Ke-j)*gt,qe=ct-(ct-W)*gt,Ct=it-(it-K)*gt;const Pt=Math.round(Math.min(xe,Ue)),tt=Math.round(Math.max(xe,Ue));let De=fe*Nt+Pt*4;for(let Me=Pt;Me<=tt;Me++)gt=(xe-Me)/(xe-Ue),gt<0?gt=0:gt>1&&(gt=1),H[De++]=$e-($e-ot)*gt|0,H[De++]=_e-(_e-qe)*gt|0,H[De++]=Be-(Be-Ct)*gt|0,H[De++]=255}}function g(V,X,Y){const G=X.coords,L=X.colors;let I,ee;switch(X.type){case"lattice":const ne=X.verticesPerRow,z=Math.floor(G.length/ne)-1,ae=ne-1;for(I=0;I<z;I++){let H=I*ne;for(let fe=0;fe<ae;fe++,H++)O(V,Y,G[H],G[H+1],G[H+ne],L[H],L[H+1],L[H+ne]),O(V,Y,G[H+ne+1],G[H+1],G[H+ne],L[H+ne+1],L[H+1],L[H+ne])}break;case"triangles":for(I=0,ee=G.length;I<ee;I+=3)O(V,Y,G[I],G[I+1],G[I+2],L[I],L[I+1],L[I+2]);break;default:throw new Error("illegal figure")}}class x extends f{constructor(X){super(),this._coords=X[2],this._colors=X[3],this._figures=X[4],this._bounds=X[5],this._bbox=X[7],this._background=X[8],this.matrix=null}_createMeshCanvas(X,Y,G){const ne=Math.floor(this._bounds[0]),z=Math.floor(this._bounds[1]),ae=Math.ceil(this._bounds[2])-ne,H=Math.ceil(this._bounds[3])-z,fe=Math.min(Math.ceil(Math.abs(ae*X[0]*1.1)),3e3),me=Math.min(Math.ceil(Math.abs(H*X[1]*1.1)),3e3),se=ae/fe,Se=H/me,Ae={coords:this._coords,colors:this._colors,offsetX:-ne,offsetY:-z,scaleX:1/se,scaleY:1/Se},Pe=fe+2*2,de=me+2*2,Fe=G.getCanvas("mesh",Pe,de,!1),Ke=Fe.context,ct=Ke.createImageData(fe,me);if(Y){const te=ct.data;for(let D=0,F=te.length;D<F;D+=4)te[D]=Y[0],te[D+1]=Y[1],te[D+2]=Y[2],te[D+3]=255}for(const te of this._figures)g(ct,te,Ae);return Ke.putImageData(ct,2,2),{canvas:Fe.canvas,offsetX:ne-2*se,offsetY:z-2*Se,scaleX:se,scaleY:Se}}getPattern(X,Y,G,L){u(X,this._bbox);let I;if(L===c.SHADING)I=r.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(X));else if(I=r.Util.singularValueDecompose2dScale(Y.baseTransform),this.matrix){const ne=r.Util.singularValueDecompose2dScale(this.matrix);I=[I[0]*ne[0],I[1]*ne[1]]}const ee=this._createMeshCanvas(I,L===c.SHADING?null:this._background,Y.cachedCanvases);return L!==c.SHADING&&(X.setTransform(...Y.baseTransform),this.matrix&&X.transform(...this.matrix)),X.translate(ee.offsetX,ee.offsetY),X.scale(ee.scaleX,ee.scaleY),X.createPattern(ee.canvas,"no-repeat")}}class T extends f{getPattern(){return"hotpink"}}function E(V){switch(V[0]){case"RadialAxial":return new d(V);case"Mesh":return new x(V);case"Dummy":return new T}throw new Error(`Unknown IR type: ${V[0]}`)}const R={COLORED:1,UNCOLORED:2},$=class ${constructor(X,Y,G,L,I){this.operatorList=X[2],this.matrix=X[3]||[1,0,0,1,0,0],this.bbox=X[4],this.xstep=X[5],this.ystep=X[6],this.paintType=X[7],this.tilingType=X[8],this.color=Y,this.ctx=G,this.canvasGraphicsFactory=L,this.baseTransform=I}createPatternCanvas(X){const Y=this.operatorList,G=this.bbox,L=this.xstep,I=this.ystep,ee=this.paintType,ne=this.tilingType,z=this.color,ae=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+ne);const H=G[0],fe=G[1],me=G[2],se=G[3],Se=r.Util.singularValueDecompose2dScale(this.matrix),Ae=r.Util.singularValueDecompose2dScale(this.baseTransform),Pe=[Se[0]*Ae[0],Se[1]*Ae[1]],de=this.getSizeAndScale(L,this.ctx.canvas.width,Pe[0]),Fe=this.getSizeAndScale(I,this.ctx.canvas.height,Pe[1]),Ke=X.cachedCanvases.getCanvas("pattern",de.size,Fe.size,!0),ct=Ke.context,it=ae.createCanvasGraphics(ct);it.groupLevel=X.groupLevel,this.setFillAndStrokeStyleToContext(it,ee,z);let te=H,D=fe,F=me,j=se;return H<0&&(te=0,F+=Math.abs(H)),fe<0&&(D=0,j+=Math.abs(fe)),ct.translate(-(de.scale*te),-(Fe.scale*D)),it.transform(de.scale,0,0,Fe.scale,0,0),ct.save(),this.clipBbox(it,te,D,F,j),it.baseTransform=(0,a.getCurrentTransform)(it.ctx),it.executeOperatorList(Y),it.endDrawing(),{canvas:Ke.canvas,scaleX:de.scale,scaleY:Fe.scale,offsetX:te,offsetY:D}}getSizeAndScale(X,Y,G){X=Math.abs(X);const L=Math.max($.MAX_PATTERN_SIZE,Y);let I=Math.ceil(X*G);return I>=L?I=L:G=I/X,{scale:G,size:I}}clipBbox(X,Y,G,L,I){const ee=L-Y,ne=I-G;X.ctx.rect(Y,G,ee,ne),X.current.updateRectMinMax((0,a.getCurrentTransform)(X.ctx),[Y,G,L,I]),X.clip(),X.endPath()}setFillAndStrokeStyleToContext(X,Y,G){const L=X.ctx,I=X.current;switch(Y){case R.COLORED:const ee=this.ctx;L.fillStyle=ee.fillStyle,L.strokeStyle=ee.strokeStyle,I.fillColor=ee.fillStyle,I.strokeColor=ee.strokeStyle;break;case R.UNCOLORED:const ne=r.Util.makeHexColor(G[0],G[1],G[2]);L.fillStyle=ne,L.strokeStyle=ne,I.fillColor=ne,I.strokeColor=ne;break;default:throw new r.FormatError(`Unsupported paint type: ${Y}`)}}getPattern(X,Y,G,L){let I=G;L!==c.SHADING&&(I=r.Util.transform(I,Y.baseTransform),this.matrix&&(I=r.Util.transform(I,this.matrix)));const ee=this.createPatternCanvas(Y);let ne=new DOMMatrix(I);ne=ne.translate(ee.offsetX,ee.offsetY),ne=ne.scale(1/ee.scaleX,1/ee.scaleY);const z=X.createPattern(ee.canvas,"repeat");return z.setTransform(ne),z}};Fn($,"MAX_PATTERN_SIZE",3e3);let M=$;e.TilingPattern=M},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=c,e.convertToRGBA=a,e.grayToRGBA=f;var r=n(1);function a(d){switch(d.kind){case r.ImageKind.GRAYSCALE_1BPP:return c(d);case r.ImageKind.RGB_24BPP:return u(d)}return null}function c({src:d,srcPos:O=0,dest:g,width:x,height:T,nonBlackColor:E=4294967295,inverseDecode:R=!1}){const M=r.FeatureTest.isLittleEndian?4278190080:255,[$,V]=R?[E,M]:[M,E],X=x>>3,Y=x&7,G=d.length;g=new Uint32Array(g.buffer);let L=0;for(let I=0;I<T;I++){for(const ne=O+X;O<ne;O++){const z=O<G?d[O]:255;g[L++]=z&128?V:$,g[L++]=z&64?V:$,g[L++]=z&32?V:$,g[L++]=z&16?V:$,g[L++]=z&8?V:$,g[L++]=z&4?V:$,g[L++]=z&2?V:$,g[L++]=z&1?V:$}if(Y===0)continue;const ee=O<G?d[O++]:255;for(let ne=0;ne<Y;ne++)g[L++]=ee&1<<7-ne?V:$}return{srcPos:O,destPos:L}}function u({src:d,srcPos:O=0,dest:g,destPos:x=0,width:T,height:E}){let R=0;const M=d.length>>2,$=new Uint32Array(d.buffer,O,M);if(r.FeatureTest.isLittleEndian){for(;R<M-2;R+=3,x+=4){const V=$[R],X=$[R+1],Y=$[R+2];g[x]=V|4278190080,g[x+1]=V>>>24|X<<8|4278190080,g[x+2]=X>>>16|Y<<16|4278190080,g[x+3]=Y>>>8|4278190080}for(let V=R*4,X=d.length;V<X;V+=3)g[x++]=d[V]|d[V+1]<<8|d[V+2]<<16|4278190080}else{for(;R<M-2;R+=3,x+=4){const V=$[R],X=$[R+1],Y=$[R+2];g[x]=V|255,g[x+1]=V<<24|X>>>8|255,g[x+2]=X<<16|Y>>>16|255,g[x+3]=Y<<8|255}for(let V=R*4,X=d.length;V<X;V+=3)g[x++]=d[V]<<24|d[V+1]<<16|d[V+2]<<8|255}return{srcPos:O,destPos:x}}function f(d,O){if(r.FeatureTest.isLittleEndian)for(let g=0,x=d.length;g<x;g++)O[g]=d[g]*65793|4278190080;else for(let g=0,x=d.length;g<x;g++)O[g]=d[g]*16843008|255}},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(s,e,n)=>{var d,z0,g,q0,T,Fh;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var r=n(1);const a={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function u(R){switch(R instanceof Error||typeof R=="object"&&R!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),R.name){case"AbortException":return new r.AbortException(R.message);case"MissingPDFException":return new r.MissingPDFException(R.message);case"PasswordException":return new r.PasswordException(R.message,R.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(R.message,R.status);case"UnknownErrorException":return new r.UnknownErrorException(R.message,R.details);default:return new r.UnknownErrorException(R.message,R.toString())}}class f{constructor(M,$,V){ke(this,d);ke(this,g);ke(this,T);this.sourceName=M,this.targetName=$,this.comObj=V,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=X=>{const Y=X.data;if(Y.targetName!==this.sourceName)return;if(Y.stream){Re(this,g,q0).call(this,Y);return}if(Y.callback){const L=Y.callbackId,I=this.callbackCapabilities[L];if(!I)throw new Error(`Cannot resolve callback ${L}`);if(delete this.callbackCapabilities[L],Y.callback===a.DATA)I.resolve(Y.data);else if(Y.callback===a.ERROR)I.reject(u(Y.reason));else throw new Error("Unexpected callback case");return}const G=this.actionHandler[Y.action];if(!G)throw new Error(`Unknown action from worker: ${Y.action}`);if(Y.callbackId){const L=this.sourceName,I=Y.sourceName;new Promise(function(ee){ee(G(Y.data))}).then(function(ee){V.postMessage({sourceName:L,targetName:I,callback:a.DATA,callbackId:Y.callbackId,data:ee})},function(ee){V.postMessage({sourceName:L,targetName:I,callback:a.ERROR,callbackId:Y.callbackId,reason:u(ee)})});return}if(Y.streamId){Re(this,d,z0).call(this,Y);return}G(Y.data)},V.addEventListener("message",this._onComObjOnMessage)}on(M,$){const V=this.actionHandler;if(V[M])throw new Error(`There is already an actionName called "${M}"`);V[M]=$}send(M,$,V){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,data:$},V)}sendWithPromise(M,$,V){const X=this.callbackId++,Y=new r.PromiseCapability;this.callbackCapabilities[X]=Y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,callbackId:X,data:$},V)}catch(G){Y.reject(G)}return Y.promise}sendWithStream(M,$,V,X){const Y=this.streamId++,G=this.sourceName,L=this.targetName,I=this.comObj;return new ReadableStream({start:ee=>{const ne=new r.PromiseCapability;return this.streamControllers[Y]={controller:ee,startCall:ne,pullCall:null,cancelCall:null,isClosed:!1},I.postMessage({sourceName:G,targetName:L,action:M,streamId:Y,data:$,desiredSize:ee.desiredSize},X),ne.promise},pull:ee=>{const ne=new r.PromiseCapability;return this.streamControllers[Y].pullCall=ne,I.postMessage({sourceName:G,targetName:L,stream:c.PULL,streamId:Y,desiredSize:ee.desiredSize}),ne.promise},cancel:ee=>{(0,r.assert)(ee instanceof Error,"cancel must have a valid reason");const ne=new r.PromiseCapability;return this.streamControllers[Y].cancelCall=ne,this.streamControllers[Y].isClosed=!0,I.postMessage({sourceName:G,targetName:L,stream:c.CANCEL,streamId:Y,reason:u(ee)}),ne.promise}},V)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}d=new WeakSet,z0=function(M){const $=M.streamId,V=this.sourceName,X=M.sourceName,Y=this.comObj,G=this,L=this.actionHandler[M.action],I={enqueue(ee,ne=1,z){if(this.isCancelled)return;const ae=this.desiredSize;this.desiredSize-=ne,ae>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),Y.postMessage({sourceName:V,targetName:X,stream:c.ENQUEUE,streamId:$,chunk:ee},z)},close(){this.isCancelled||(this.isCancelled=!0,Y.postMessage({sourceName:V,targetName:X,stream:c.CLOSE,streamId:$}),delete G.streamSinks[$])},error(ee){(0,r.assert)(ee instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Y.postMessage({sourceName:V,targetName:X,stream:c.ERROR,streamId:$,reason:u(ee)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:M.desiredSize,ready:null};I.sinkCapability.resolve(),I.ready=I.sinkCapability.promise,this.streamSinks[$]=I,new Promise(function(ee){ee(L(M.data,I))}).then(function(){Y.postMessage({sourceName:V,targetName:X,stream:c.START_COMPLETE,streamId:$,success:!0})},function(ee){Y.postMessage({sourceName:V,targetName:X,stream:c.START_COMPLETE,streamId:$,reason:u(ee)})})},g=new WeakSet,q0=function(M){const $=M.streamId,V=this.sourceName,X=M.sourceName,Y=this.comObj,G=this.streamControllers[$],L=this.streamSinks[$];switch(M.stream){case c.START_COMPLETE:M.success?G.startCall.resolve():G.startCall.reject(u(M.reason));break;case c.PULL_COMPLETE:M.success?G.pullCall.resolve():G.pullCall.reject(u(M.reason));break;case c.PULL:if(!L){Y.postMessage({sourceName:V,targetName:X,stream:c.PULL_COMPLETE,streamId:$,success:!0});break}L.desiredSize<=0&&M.desiredSize>0&&L.sinkCapability.resolve(),L.desiredSize=M.desiredSize,new Promise(function(I){var ee;I((ee=L.onPull)==null?void 0:ee.call(L))}).then(function(){Y.postMessage({sourceName:V,targetName:X,stream:c.PULL_COMPLETE,streamId:$,success:!0})},function(I){Y.postMessage({sourceName:V,targetName:X,stream:c.PULL_COMPLETE,streamId:$,reason:u(I)})});break;case c.ENQUEUE:if((0,r.assert)(G,"enqueue should have stream controller"),G.isClosed)break;G.controller.enqueue(M.chunk);break;case c.CLOSE:if((0,r.assert)(G,"close should have stream controller"),G.isClosed)break;G.isClosed=!0,G.controller.close(),Re(this,T,Fh).call(this,G,$);break;case c.ERROR:(0,r.assert)(G,"error should have stream controller"),G.controller.error(u(M.reason)),Re(this,T,Fh).call(this,G,$);break;case c.CANCEL_COMPLETE:M.success?G.cancelCall.resolve():G.cancelCall.reject(u(M.reason)),Re(this,T,Fh).call(this,G,$);break;case c.CANCEL:if(!L)break;new Promise(function(I){var ee;I((ee=L.onCancel)==null?void 0:ee.call(L,u(M.reason)))}).then(function(){Y.postMessage({sourceName:V,targetName:X,stream:c.CANCEL_COMPLETE,streamId:$,success:!0})},function(I){Y.postMessage({sourceName:V,targetName:X,stream:c.CANCEL_COMPLETE,streamId:$,reason:u(I)})}),L.sinkCapability.reject(u(M.reason)),L.isCancelled=!0,delete this.streamSinks[$];break;default:throw new Error("Unexpected stream case")}},T=new WeakSet,Fh=async function(M,$){var V,X,Y;await Promise.allSettled([(V=M.startCall)==null?void 0:V.promise,(X=M.pullCall)==null?void 0:X.promise,(Y=M.cancelCall)==null?void 0:Y.promise]),delete this.streamControllers[$]},e.MessageHandler=f},(s,e,n)=>{var c,u;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(1);class a{constructor({parsedData:d,rawData:O}){ke(this,c,void 0);ke(this,u,void 0);Ie(this,c,d),Ie(this,u,O)}getRaw(){return N(this,u)}get(d){return N(this,c).get(d)??null}getAll(){return(0,r.objectFromMap)(N(this,c))}has(d){return N(this,c).has(d)}}c=new WeakMap,u=new WeakMap,e.Metadata=a},(s,e,n)=>{var d,O,g,x,T,E,dg;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var r=n(1),a=n(8);const c=Symbol("INTERNAL");class u{constructor($,V){ke(this,d,!0);this.name=$,this.intent=V}get visible(){return N(this,d)}_setVisible($,V){$!==c&&(0,r.unreachable)("Internal method `_setVisible` called."),Ie(this,d,V)}}d=new WeakMap;class f{constructor($){ke(this,E);ke(this,O,null);ke(this,g,new Map);ke(this,x,null);ke(this,T,null);if(this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,Ie(this,T,$.order);for(const V of $.groups)N(this,g).set(V.id,new u(V.name,V.intent));if($.baseState==="OFF")for(const V of N(this,g).values())V._setVisible(c,!1);for(const V of $.on)N(this,g).get(V)._setVisible(c,!0);for(const V of $.off)N(this,g).get(V)._setVisible(c,!1);Ie(this,x,this.getHash())}}isVisible($){if(N(this,g).size===0)return!0;if(!$)return(0,r.warn)("Optional content group not defined."),!0;if($.type==="OCG")return N(this,g).has($.id)?N(this,g).get($.id).visible:((0,r.warn)(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return Re(this,E,dg).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const V of $.ids){if(!N(this,g).has(V))return(0,r.warn)(`Optional content group not found: ${V}`),!0;if(N(this,g).get(V).visible)return!0}return!1}else if($.policy==="AllOn"){for(const V of $.ids){if(!N(this,g).has(V))return(0,r.warn)(`Optional content group not found: ${V}`),!0;if(!N(this,g).get(V).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const V of $.ids){if(!N(this,g).has(V))return(0,r.warn)(`Optional content group not found: ${V}`),!0;if(!N(this,g).get(V).visible)return!0}return!1}else if($.policy==="AllOff"){for(const V of $.ids){if(!N(this,g).has(V))return(0,r.warn)(`Optional content group not found: ${V}`),!0;if(N(this,g).get(V).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${$.policy}.`),!0}return(0,r.warn)(`Unknown group type ${$.type}.`),!0}setVisibility($,V=!0){if(!N(this,g).has($)){(0,r.warn)(`Optional content group not found: ${$}`);return}N(this,g).get($)._setVisible(c,!!V),Ie(this,O,null)}get hasInitialVisibility(){return N(this,x)===null||this.getHash()===N(this,x)}getOrder(){return N(this,g).size?N(this,T)?N(this,T).slice():[...N(this,g).keys()]:null}getGroups(){return N(this,g).size>0?(0,r.objectFromMap)(N(this,g)):null}getGroup($){return N(this,g).get($)||null}getHash(){if(N(this,O)!==null)return N(this,O);const $=new a.MurmurHash3_64;for(const[V,X]of N(this,g))$.update(`${V}:${X.visible}`);return Ie(this,O,$.hexdigest())}}O=new WeakMap,g=new WeakMap,x=new WeakMap,T=new WeakMap,E=new WeakSet,dg=function($){const V=$.length;if(V<2)return!0;const X=$[0];for(let Y=1;Y<V;Y++){const G=$[Y];let L;if(Array.isArray(G))L=Re(this,E,dg).call(this,G);else if(N(this,g).has(G))L=N(this,g).get(G).visible;else return(0,r.warn)(`Optional content group not found: ${G}`),!0;switch(X){case"And":if(!L)return!1;break;case"Or":if(L)return!0;break;case"Not":return!L;default:return!0}}return X==="And"},e.OptionalContentConfig=f},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var r=n(1),a=n(6);class c{constructor({length:O,initialData:g,progressiveDone:x=!1,contentDispositionFilename:T=null,disableRange:E=!1,disableStream:R=!1},M){if((0,r.assert)(M,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=x,this._contentDispositionFilename=T,(g==null?void 0:g.length)>0){const $=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push($)}this._pdfDataRangeTransport=M,this._isStreamingSupported=!R,this._isRangeSupported=!E,this._contentLength=O,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(($,V)=>{this._onReceiveData({begin:$,chunk:V})}),this._pdfDataRangeTransport.addProgressListener(($,V)=>{this._onProgress({loaded:$,total:V})}),this._pdfDataRangeTransport.addProgressiveReadListener($=>{this._onReceiveData({chunk:$})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:O,chunk:g}){const x=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;if(O===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(x):this._queuedChunks.push(x);else{const T=this._rangeReaders.some(function(E){return E._begin!==O?!1:(E._enqueue(x),!0)});(0,r.assert)(T,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var O;return((O=this._fullRequestReader)==null?void 0:O._loaded)??0}_onProgress(O){var g,x,T,E;O.total===void 0?(x=(g=this._rangeReaders[0])==null?void 0:g.onProgress)==null||x.call(g,{loaded:O.loaded}):(E=(T=this._fullRequestReader)==null?void 0:T.onProgress)==null||E.call(T,{loaded:O.loaded,total:O.total})}_onProgressiveDone(){var O;(O=this._fullRequestReader)==null||O.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(O){const g=this._rangeReaders.indexOf(O);g>=0&&this._rangeReaders.splice(g,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const O=this._queuedChunks;return this._queuedChunks=null,new u(this,O,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(O,g){if(g<=this._progressiveDataLength)return null;const x=new f(this,O,g);return this._pdfDataRangeTransport.requestDataRange(O,g),this._rangeReaders.push(x),x}cancelAllRequests(O){var g;(g=this._fullRequestReader)==null||g.cancel(O);for(const x of this._rangeReaders.slice(0))x.cancel(O);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=c;class u{constructor(O,g,x=!1,T=null){this._stream=O,this._done=x||!1,this._filename=(0,a.isPdfFile)(T)?T:null,this._queuedChunks=g||[],this._loaded=0;for(const E of this._queuedChunks)this._loaded+=E.byteLength;this._requests=[],this._headersReady=Promise.resolve(),O._fullRequestReader=this,this.onProgress=null}_enqueue(O){this._done||(this._requests.length>0?this._requests.shift().resolve({value:O,done:!1}):this._queuedChunks.push(O),this._loaded+=O.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const O=new r.PromiseCapability;return this._requests.push(O),O.promise}cancel(O){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class f{constructor(O,g,x){this._stream=O,this._begin=g,this._end=x,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(O){if(!this._done){if(this._requests.length===0)this._queuedChunk=O;else{this._requests.shift().resolve({value:O,done:!1});for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const g=this._queuedChunk;return this._queuedChunk=null,{value:g,done:!1}}if(this._done)return{value:void 0,done:!0};const O=new r.PromiseCapability;return this._requests.push(O),O.promise}cancel(O){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var r=n(1),a=n(20);function c(x,T,E){return{method:"GET",headers:x,signal:E.signal,mode:"cors",credentials:T?"include":"same-origin",redirect:"follow"}}function u(x){const T=new Headers;for(const E in x){const R=x[E];R!==void 0&&T.append(E,R)}return T}function f(x){return x instanceof Uint8Array?x.buffer:x instanceof ArrayBuffer?x:((0,r.warn)(`getArrayBuffer - unexpected data format: ${x}`),new Uint8Array(x).buffer)}class d{constructor(T){this.source=T,this.isHttp=/^https?:/i.test(T.url),this.httpHeaders=this.isHttp&&T.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var T;return((T=this._fullRequestReader)==null?void 0:T._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new O(this),this._fullRequestReader}getRangeReader(T,E){if(E<=this._progressiveDataLength)return null;const R=new g(this,T,E);return this._rangeRequestReaders.push(R),R}cancelAllRequests(T){var E;(E=this._fullRequestReader)==null||E.cancel(T);for(const R of this._rangeRequestReaders.slice(0))R.cancel(T)}}e.PDFFetchStream=d;class O{constructor(T){this._stream=T,this._reader=null,this._loaded=0,this._filename=null;const E=T.source;this._withCredentials=E.withCredentials||!1,this._contentLength=E.length,this._headersCapability=new r.PromiseCapability,this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._headers=u(this._stream.httpHeaders);const R=E.url;fetch(R,c(this._headers,this._withCredentials,this._abortController)).then(M=>{if(!(0,a.validateResponseStatus)(M.status))throw(0,a.createResponseStatusError)(M.status,R);this._reader=M.body.getReader(),this._headersCapability.resolve();const $=Y=>M.headers.get(Y),{allowRangeRequests:V,suggestedLength:X}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=V,this._contentLength=X||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)($),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var R;await this._headersCapability.promise;const{value:T,done:E}=await this._reader.read();return E?{value:T,done:E}:(this._loaded+=T.byteLength,(R=this.onProgress)==null||R.call(this,{loaded:this._loaded,total:this._contentLength}),{value:f(T),done:!1})}cancel(T){var E;(E=this._reader)==null||E.cancel(T),this._abortController.abort()}}class g{constructor(T,E,R){this._stream=T,this._reader=null,this._loaded=0;const M=T.source;this._withCredentials=M.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!M.disableStream,this._abortController=new AbortController,this._headers=u(this._stream.httpHeaders),this._headers.append("Range",`bytes=${E}-${R-1}`);const $=M.url;fetch($,c(this._headers,this._withCredentials,this._abortController)).then(V=>{if(!(0,a.validateResponseStatus)(V.status))throw(0,a.createResponseStatusError)(V.status,$);this._readCapability.resolve(),this._reader=V.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var R;await this._readCapability.promise;const{value:T,done:E}=await this._reader.read();return E?{value:T,done:E}:(this._loaded+=T.byteLength,(R=this.onProgress)==null||R.call(this,{loaded:this._loaded}),{value:f(T),done:!1})}cancel(T){var E;(E=this._reader)==null||E.cancel(T),this._abortController.abort()}}},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=d,e.extractFilenameFromHeader=f,e.validateRangeRequestCapabilities=u,e.validateResponseStatus=O;var r=n(1),a=n(21),c=n(6);function u({getResponseHeader:g,isHttp:x,rangeChunkSize:T,disableRange:E}){const R={allowRangeRequests:!1,suggestedLength:void 0},M=parseInt(g("Content-Length"),10);return!Number.isInteger(M)||(R.suggestedLength=M,M<=2*T)||E||!x||g("Accept-Ranges")!=="bytes"||(g("Content-Encoding")||"identity")!=="identity"||(R.allowRangeRequests=!0),R}function f(g){const x=g("Content-Disposition");if(x){let T=(0,a.getFilenameFromContentDispositionHeader)(x);if(T.includes("%"))try{T=decodeURIComponent(T)}catch{}if((0,c.isPdfFile)(T))return T}return null}function d(g,x){return g===404||g===0&&x.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+x+'".'):new r.UnexpectedResponseException(`Unexpected server response (${g}) while retrieving PDF "${x}".`,g)}function O(g){return g===200||g===206}},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=a;var r=n(1);function a(c){let u=!0,f=d("filename\\*","i").exec(c);if(f){f=f[1];let M=T(f);return M=unescape(M),M=E(M),M=R(M),g(M)}if(f=x(c),f){const M=R(f);return g(M)}if(f=d("filename","i").exec(c),f){f=f[1];let M=T(f);return M=R(M),g(M)}function d(M,$){return new RegExp("(?:^|;)\\s*"+M+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',$)}function O(M,$){if(M){if(!/^[\x00-\xFF]+$/.test($))return $;try{const V=new TextDecoder(M,{fatal:!0}),X=(0,r.stringToBytes)($);$=V.decode(X),u=!1}catch{}}return $}function g(M){return u&&/[\x80-\xff]/.test(M)&&(M=O("utf-8",M),u&&(M=O("iso-8859-1",M))),M}function x(M){const $=[];let V;const X=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(V=X.exec(M))!==null;){let[,G,L,I]=V;if(G=parseInt(G,10),G in $){if(G===0)break;continue}$[G]=[L,I]}const Y=[];for(let G=0;G<$.length&&G in $;++G){let[L,I]=$[G];I=T(I),L&&(I=unescape(I),G===0&&(I=E(I))),Y.push(I)}return Y.join("")}function T(M){if(M.startsWith('"')){const $=M.slice(1).split('\\"');for(let V=0;V<$.length;++V){const X=$[V].indexOf('"');X!==-1&&($[V]=$[V].slice(0,X),$.length=V+1),$[V]=$[V].replaceAll(/\\(.)/g,"$1")}M=$.join('"')}return M}function E(M){const $=M.indexOf("'");if($===-1)return M;const V=M.slice(0,$),Y=M.slice($+1).replace(/^[^']*'/,"");return O(V,Y)}function R(M){return!M.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(M)?M:M.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function($,V,X,Y){if(X==="q"||X==="Q")return Y=Y.replaceAll("_"," "),Y=Y.replaceAll(/=([0-9a-fA-F]{2})/g,function(G,L){return String.fromCharCode(parseInt(L,16))}),O(V,Y);try{Y=atob(Y)}catch{}return O(V,Y)})}return""}},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var r=n(1),a=n(20);const c=200,u=206;function f(T){const E=T.response;return typeof E!="string"?E:(0,r.stringToBytes)(E).buffer}class d{constructor(E,R={}){this.url=E,this.isHttp=/^https?:/i.test(E),this.httpHeaders=this.isHttp&&R.httpHeaders||Object.create(null),this.withCredentials=R.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(E,R,M){const $={begin:E,end:R};for(const V in M)$[V]=M[V];return this.request($)}requestFull(E){return this.request(E)}request(E){const R=new XMLHttpRequest,M=this.currXhrId++,$=this.pendingRequests[M]={xhr:R};R.open("GET",this.url),R.withCredentials=this.withCredentials;for(const V in this.httpHeaders){const X=this.httpHeaders[V];X!==void 0&&R.setRequestHeader(V,X)}return this.isHttp&&"begin"in E&&"end"in E?(R.setRequestHeader("Range",`bytes=${E.begin}-${E.end-1}`),$.expectedStatus=u):$.expectedStatus=c,R.responseType="arraybuffer",E.onError&&(R.onerror=function(V){E.onError(R.status)}),R.onreadystatechange=this.onStateChange.bind(this,M),R.onprogress=this.onProgress.bind(this,M),$.onHeadersReceived=E.onHeadersReceived,$.onDone=E.onDone,$.onError=E.onError,$.onProgress=E.onProgress,R.send(null),M}onProgress(E,R){var $;const M=this.pendingRequests[E];M&&(($=M.onProgress)==null||$.call(M,R))}onStateChange(E,R){var G,L,I;const M=this.pendingRequests[E];if(!M)return;const $=M.xhr;if($.readyState>=2&&M.onHeadersReceived&&(M.onHeadersReceived(),delete M.onHeadersReceived),$.readyState!==4||!(E in this.pendingRequests))return;if(delete this.pendingRequests[E],$.status===0&&this.isHttp){(G=M.onError)==null||G.call(M,$.status);return}const V=$.status||c;if(!(V===c&&M.expectedStatus===u)&&V!==M.expectedStatus){(L=M.onError)==null||L.call(M,$.status);return}const Y=f($);if(V===u){const ee=$.getResponseHeader("Content-Range"),ne=/bytes (\d+)-(\d+)\/(\d+)/.exec(ee);M.onDone({begin:parseInt(ne[1],10),chunk:Y})}else Y?M.onDone({begin:0,chunk:Y}):(I=M.onError)==null||I.call(M,$.status)}getRequestXhr(E){return this.pendingRequests[E].xhr}isPendingRequest(E){return E in this.pendingRequests}abortRequest(E){const R=this.pendingRequests[E].xhr;delete this.pendingRequests[E],R.abort()}}class O{constructor(E){this._source=E,this._manager=new d(E.url,{httpHeaders:E.httpHeaders,withCredentials:E.withCredentials}),this._rangeChunkSize=E.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(E){const R=this._rangeRequestReaders.indexOf(E);R>=0&&this._rangeRequestReaders.splice(R,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}getRangeReader(E,R){const M=new x(this._manager,E,R);return M.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(M),M}cancelAllRequests(E){var R;(R=this._fullRequestReader)==null||R.cancel(E);for(const M of this._rangeRequestReaders.slice(0))M.cancel(E)}}e.PDFNetworkStream=O;class g{constructor(E,R){this._manager=E;const M={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=R.url,this._fullRequestId=E.requestFull(M),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=R.disableRange||!1,this._contentLength=R.length,this._rangeChunkSize=R.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const E=this._fullRequestId,R=this._manager.getRequestXhr(E),M=X=>R.getResponseHeader(X),{allowRangeRequests:$,suggestedLength:V}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});$&&(this._isRangeSupported=!0),this._contentLength=V||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(M),this._isRangeSupported&&this._manager.abortRequest(E),this._headersReceivedCapability.resolve()}_onDone(E){if(E&&(this._requests.length>0?this._requests.shift().resolve({value:E.chunk,done:!1}):this._cachedChunks.push(E.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(E){this._storedError=(0,a.createResponseStatusError)(E,this._url),this._headersReceivedCapability.reject(this._storedError);for(const R of this._requests)R.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(E){var R;(R=this.onProgress)==null||R.call(this,{loaded:E.loaded,total:E.lengthComputable?E.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const E=new r.PromiseCapability;return this._requests.push(E),E.promise}cancel(E){this._done=!0,this._headersReceivedCapability.reject(E);for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x{constructor(E,R,M){this._manager=E;const $={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._requestId=E.requestRange(R,M,$),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var E;(E=this.onClosed)==null||E.call(this,this)}_onDone(E){const R=E.chunk;this._requests.length>0?this._requests.shift().resolve({value:R,done:!1}):this._queuedChunk=R,this._done=!0;for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(E){this._storedError=(0,a.createResponseStatusError)(E,this._url);for(const R of this._requests)R.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(E){var R;this.isStreamingSupported||(R=this.onProgress)==null||R.call(this,{loaded:E.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const R=this._queuedChunk;return this._queuedChunk=null,{value:R,done:!1}}if(this._done)return{value:void 0,done:!0};const E=new r.PromiseCapability;return this._requests.push(E),E.promise}cancel(E){this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var r=n(1),a=n(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function u(M){const $=require$$5,V=$.parse(M);return V.protocol==="file:"||V.host?V:/^[a-z]:[/\\]/i.test(M)?$.parse(`file:///${M}`):(V.host||(V.protocol="file:"),V)}class f{constructor($){this.source=$,this.url=u($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new E(this):new x(this),this._fullRequestReader}getRangeReader($,V){if(V<=this._progressiveDataLength)return null;const X=this.isFsUrl?new R(this,$,V):new T(this,$,V);return this._rangeRequestReaders.push(X),X}cancelAllRequests($){var V;(V=this._fullRequestReader)==null||V.cancel($);for(const X of this._rangeRequestReaders.slice(0))X.cancel($)}}e.PDFNodeStream=f;class d{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const V=$.source;this._contentLength=V.length,this._loaded=0,this._filename=null,this._disableRange=V.disableRange||!1,this._rangeChunkSize=V.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!V.disableStream,this._isRangeSupported=!V.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=$.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",V=>{this._error(V)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class O{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;const V=$.source;this._isStreamingSupported=!V.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=$.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",V=>{this._error(V)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function g(M,$){return{protocol:M.protocol,auth:M.auth,host:M.hostname,port:M.port,path:M.path,method:"GET",headers:$}}class x extends d{constructor($){super($);const V=X=>{if(X.statusCode===404){const I=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=I,this._headersCapability.reject(I);return}this._headersCapability.resolve(),this._setReadableStream(X);const Y=I=>this._readableStream.headers[I.toLowerCase()],{allowRangeRequests:G,suggestedLength:L}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:Y,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=G,this._contentLength=L||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(Y)};if(this._request=null,this._url.protocol==="http:"){const X=require$$5;this._request=X.request(g(this._url,$.httpHeaders),V)}else{const X=require$$5;this._request=X.request(g(this._url,$.httpHeaders),V)}this._request.on("error",X=>{this._storedError=X,this._headersCapability.reject(X)}),this._request.end()}}class T extends O{constructor($,V,X){super($),this._httpHeaders={};for(const G in $.httpHeaders){const L=$.httpHeaders[G];L!==void 0&&(this._httpHeaders[G]=L)}this._httpHeaders.Range=`bytes=${V}-${X-1}`;const Y=G=>{if(G.statusCode===404){const L=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=L;return}this._setReadableStream(G)};if(this._request=null,this._url.protocol==="http:"){const G=require$$5;this._request=G.request(g(this._url,this._httpHeaders),Y)}else{const G=require$$5;this._request=G.request(g(this._url,this._httpHeaders),Y)}this._request.on("error",G=>{this._storedError=G}),this._request.end()}}class E extends d{constructor($){super($);let V=decodeURIComponent(this._url.path);c.test(this._url.href)&&(V=V.replace(/^\//,""));const X=require$$5;X.lstat(V,(Y,G)=>{if(Y){Y.code==="ENOENT"&&(Y=new r.MissingPDFException(`Missing PDF "${V}".`)),this._storedError=Y,this._headersCapability.reject(Y);return}this._contentLength=G.size,this._setReadableStream(X.createReadStream(V)),this._headersCapability.resolve()})}}class R extends O{constructor($,V,X){super($);let Y=decodeURIComponent(this._url.path);c.test(this._url.href)&&(Y=Y.replace(/^\//,""));const G=require$$5;this._setReadableStream(G.createReadStream(Y,{start:V,end:X-1}))}}},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var r=n(6),a=n(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/1999/xlink",d=["butt","round","square"],O=["miter","round","bevel"],g=function(G,L="",I=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!I)return URL.createObjectURL(new Blob([G],{type:L}));const ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ne=`data:${L};base64,`;for(let z=0,ae=G.length;z<ae;z+=3){const H=G[z]&255,fe=G[z+1]&255,me=G[z+2]&255,se=H>>2,Se=(H&3)<<4|fe>>4,Ae=z+1<ae?(fe&15)<<2|me>>6:64,Pe=z+2<ae?me&63:64;ne+=ee[se]+ee[Se]+ee[Ae]+ee[Pe]}return ne},x=function(){const G=new Uint8Array([137,80,78,71,13,10,26,10]),L=12,I=new Int32Array(256);for(let me=0;me<256;me++){let se=me;for(let Se=0;Se<8;Se++)se=se&1?3988292384^se>>1&2147483647:se>>1&2147483647;I[me]=se}function ee(me,se,Se){let Ae=-1;for(let Pe=se;Pe<Se;Pe++){const de=(Ae^me[Pe])&255,Fe=I[de];Ae=Ae>>>8^Fe}return Ae^-1}function ne(me,se,Se,Ae){let Pe=Ae;const de=se.length;Se[Pe]=de>>24&255,Se[Pe+1]=de>>16&255,Se[Pe+2]=de>>8&255,Se[Pe+3]=de&255,Pe+=4,Se[Pe]=me.charCodeAt(0)&255,Se[Pe+1]=me.charCodeAt(1)&255,Se[Pe+2]=me.charCodeAt(2)&255,Se[Pe+3]=me.charCodeAt(3)&255,Pe+=4,Se.set(se,Pe),Pe+=se.length;const Fe=ee(Se,Ae+4,Pe);Se[Pe]=Fe>>24&255,Se[Pe+1]=Fe>>16&255,Se[Pe+2]=Fe>>8&255,Se[Pe+3]=Fe&255}function z(me,se,Se){let Ae=1,Pe=0;for(let de=se;de<Se;++de)Ae=(Ae+(me[de]&255))%65521,Pe=(Pe+Ae)%65521;return Pe<<16|Ae}function ae(me){if(!a.isNodeJS)return H(me);try{const se=parseInt(process.versions.node)>=8?me:Buffer.from(me),Se=require$$5.deflateSync(se,{level:9});return Se instanceof Uint8Array?Se:new Uint8Array(Se)}catch(se){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+se)}return H(me)}function H(me){let se=me.length;const Se=65535,Ae=Math.ceil(se/Se),Pe=new Uint8Array(2+se+Ae*5+4);let de=0;Pe[de++]=120,Pe[de++]=156;let Fe=0;for(;se>Se;)Pe[de++]=0,Pe[de++]=255,Pe[de++]=255,Pe[de++]=0,Pe[de++]=0,Pe.set(me.subarray(Fe,Fe+Se),de),de+=Se,Fe+=Se,se-=Se;Pe[de++]=1,Pe[de++]=se&255,Pe[de++]=se>>8&255,Pe[de++]=~se&65535&255,Pe[de++]=(~se&65535)>>8&255,Pe.set(me.subarray(Fe),de),de+=me.length-Fe;const Ke=z(me,0,me.length);return Pe[de++]=Ke>>24&255,Pe[de++]=Ke>>16&255,Pe[de++]=Ke>>8&255,Pe[de++]=Ke&255,Pe}function fe(me,se,Se,Ae){const Pe=me.width,de=me.height;let Fe,Ke,ct;const it=me.data;switch(se){case a.ImageKind.GRAYSCALE_1BPP:Ke=0,Fe=1,ct=Pe+7>>3;break;case a.ImageKind.RGB_24BPP:Ke=2,Fe=8,ct=Pe*3;break;case a.ImageKind.RGBA_32BPP:Ke=6,Fe=8,ct=Pe*4;break;default:throw new Error("invalid format")}const te=new Uint8Array((1+ct)*de);let D=0,F=0;for(let xe=0;xe<de;++xe)te[D++]=0,te.set(it.subarray(F,F+ct),D),F+=ct,D+=ct;if(se===a.ImageKind.GRAYSCALE_1BPP&&Ae){D=0;for(let xe=0;xe<de;xe++){D++;for(let $e=0;$e<ct;$e++)te[D++]^=255}}const j=new Uint8Array([Pe>>24&255,Pe>>16&255,Pe>>8&255,Pe&255,de>>24&255,de>>16&255,de>>8&255,de&255,Fe,Ke,0,0,0]),W=ae(te),K=G.length+L*3+j.length+W.length,le=new Uint8Array(K);let pe=0;return le.set(G,pe),pe+=G.length,ne("IHDR",j,le,pe),pe+=L+j.length,ne("IDATA",W,le,pe),pe+=L+W.length,ne("IEND",new Uint8Array(0),le,pe),g(le,"image/png",Se)}return function(se,Se,Ae){const Pe=se.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:se.kind;return fe(se,Pe,Se,Ae)}}();class T{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(L,I){this.x=L,this.y=I}}function E(G){let L=[];const I=[];for(const ee of G){if(ee.fn==="save"){L.push({fnId:92,fn:"group",items:[]}),I.push(L),L=L.at(-1).items;continue}ee.fn==="restore"?L=I.pop():L.push(ee)}return L}function R(G){if(Number.isInteger(G))return G.toString();const L=G.toFixed(10);let I=L.length-1;if(L[I]!=="0")return L;do I--;while(L[I]==="0");return L.substring(0,L[I]==="."?I:I+1)}function M(G){if(G[4]===0&&G[5]===0){if(G[1]===0&&G[2]===0)return G[0]===1&&G[3]===1?"":`scale(${R(G[0])} ${R(G[3])})`;if(G[0]===G[3]&&G[1]===-G[2]){const L=Math.acos(G[0])*180/Math.PI;return`rotate(${R(L)})`}}else if(G[0]===1&&G[1]===0&&G[2]===0&&G[3]===1)return`translate(${R(G[4])} ${R(G[5])})`;return`matrix(${R(G[0])} ${R(G[1])} ${R(G[2])} ${R(G[3])} ${R(G[4])} ${R(G[5])})`}let $=0,V=0,X=0;class Y{constructor(L,I,ee=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new T,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=L,this.objs=I,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ee,this._operatorIdMapping=[];for(const ne in a.OPS)this._operatorIdMapping[a.OPS[ne]]=ne}getObject(L,I=null){return typeof L=="string"?L.startsWith("g_")?this.commonObjs.get(L):this.objs.get(L):I}save(){this.transformStack.push(this.transformMatrix);const L=this.current;this.extraStack.push(L),this.current=L.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(L){this.save(),this.executeOpTree(L),this.restore()}loadDependencies(L){const I=L.fnArray,ee=L.argsArray;for(let ne=0,z=I.length;ne<z;ne++)if(I[ne]===a.OPS.dependency)for(const ae of ee[ne]){const H=ae.startsWith("g_")?this.commonObjs:this.objs,fe=new Promise(me=>{H.get(ae,me)});this.current.dependencies.push(fe)}return Promise.all(this.current.dependencies)}transform(L,I,ee,ne,z,ae){const H=[L,I,ee,ne,z,ae];this.transformMatrix=a.Util.transform(this.transformMatrix,H),this.tgrp=null}getSVG(L,I){this.viewport=I;const ee=this._initialize(I);return this.loadDependencies(L).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(L)),ee))}convertOpList(L){const I=this._operatorIdMapping,ee=L.argsArray,ne=L.fnArray,z=[];for(let ae=0,H=ne.length;ae<H;ae++){const fe=ne[ae];z.push({fnId:fe,fn:I[fe],args:ee[ae]})}return E(z)}executeOpTree(L){for(const I of L){const ee=I.fn,ne=I.fnId,z=I.args;switch(ne|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(z);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(z[0],z[1]);break;case a.OPS.setFont:this.setFont(z);break;case a.OPS.showText:this.showText(z[0]);break;case a.OPS.showSpacedText:this.showText(z[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(z[0],z[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(z[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(z[0]);break;case a.OPS.setHScale:this.setHScale(z[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(z[0],z[1],z[2],z[3],z[4],z[5]);break;case a.OPS.setTextRise:this.setTextRise(z[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(z[0]);break;case a.OPS.setLineWidth:this.setLineWidth(z[0]);break;case a.OPS.setLineJoin:this.setLineJoin(z[0]);break;case a.OPS.setLineCap:this.setLineCap(z[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(z[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(z[0],z[1],z[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(z[0],z[1],z[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(z);break;case a.OPS.setFillColorN:this.setFillColorN(z);break;case a.OPS.shadingFill:this.shadingFill(z[0]);break;case a.OPS.setDash:this.setDash(z[0],z[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(z[0]);break;case a.OPS.setFlatness:this.setFlatness(z[0]);break;case a.OPS.setGState:this.setGState(z[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(z[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(z[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(z[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(z[0],z[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(z[0],z[1],z[2],z[3],z[4],z[5]);break;case a.OPS.constructPath:this.constructPath(z[0],z[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(I.items);break;default:(0,a.warn)(`Unimplemented operator ${ee}`);break}}}setWordSpacing(L){this.current.wordSpacing=L}setCharSpacing(L){this.current.charSpacing=L}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(L,I,ee,ne,z,ae){const H=this.current;H.textMatrix=H.lineMatrix=[L,I,ee,ne,z,ae],H.textMatrixScale=Math.hypot(L,I),H.x=H.lineX=0,H.y=H.lineY=0,H.xcoords=[],H.ycoords=[],H.tspan=this.svgFactory.createElement("svg:tspan"),H.tspan.setAttributeNS(null,"font-family",H.fontFamily),H.tspan.setAttributeNS(null,"font-size",`${R(H.fontSize)}px`),H.tspan.setAttributeNS(null,"y",R(-H.y)),H.txtElement=this.svgFactory.createElement("svg:text"),H.txtElement.append(H.tspan)}beginText(){const L=this.current;L.x=L.lineX=0,L.y=L.lineY=0,L.textMatrix=a.IDENTITY_MATRIX,L.lineMatrix=a.IDENTITY_MATRIX,L.textMatrixScale=1,L.tspan=this.svgFactory.createElement("svg:tspan"),L.txtElement=this.svgFactory.createElement("svg:text"),L.txtgrp=this.svgFactory.createElement("svg:g"),L.xcoords=[],L.ycoords=[]}moveText(L,I){const ee=this.current;ee.x=ee.lineX+=L,ee.y=ee.lineY+=I,ee.xcoords=[],ee.ycoords=[],ee.tspan=this.svgFactory.createElement("svg:tspan"),ee.tspan.setAttributeNS(null,"font-family",ee.fontFamily),ee.tspan.setAttributeNS(null,"font-size",`${R(ee.fontSize)}px`),ee.tspan.setAttributeNS(null,"y",R(-ee.y))}showText(L){const I=this.current,ee=I.font,ne=I.fontSize;if(ne===0)return;const z=I.fontSizeScale,ae=I.charSpacing,H=I.wordSpacing,fe=I.fontDirection,me=I.textHScale*fe,se=ee.vertical,Se=se?1:-1,Ae=ee.defaultVMetrics,Pe=ne*I.fontMatrix[0];let de=0;for(const ct of L){if(ct===null){de+=fe*H;continue}else if(typeof ct=="number"){de+=Se*ct*ne/1e3;continue}const it=(ct.isSpace?H:0)+ae,te=ct.fontChar;let D,F,j=ct.width;if(se){let K;const le=ct.vmetric||Ae;K=ct.vmetric?le[1]:j*.5,K=-K*Pe;const pe=le[2]*Pe;j=le?-le[0]:j,D=K/z,F=(de+pe)/z}else D=de/z,F=0;(ct.isInFont||ee.missingFile)&&(I.xcoords.push(I.x+D),se&&I.ycoords.push(-I.y+F),I.tspan.textContent+=te);const W=se?j*Pe-it*fe:j*Pe+it*fe;de+=W}I.tspan.setAttributeNS(null,"x",I.xcoords.map(R).join(" ")),se?I.tspan.setAttributeNS(null,"y",I.ycoords.map(R).join(" ")):I.tspan.setAttributeNS(null,"y",R(-I.y)),se?I.y-=de:I.x+=de*me,I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${R(I.fontSize)}px`),I.fontStyle!==c.fontStyle&&I.tspan.setAttributeNS(null,"font-style",I.fontStyle),I.fontWeight!==c.fontWeight&&I.tspan.setAttributeNS(null,"font-weight",I.fontWeight);const Fe=I.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(Fe===a.TextRenderingMode.FILL||Fe===a.TextRenderingMode.FILL_STROKE?(I.fillColor!==c.fillColor&&I.tspan.setAttributeNS(null,"fill",I.fillColor),I.fillAlpha<1&&I.tspan.setAttributeNS(null,"fill-opacity",I.fillAlpha)):I.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?I.tspan.setAttributeNS(null,"fill","transparent"):I.tspan.setAttributeNS(null,"fill","none"),Fe===a.TextRenderingMode.STROKE||Fe===a.TextRenderingMode.FILL_STROKE){const ct=1/(I.textMatrixScale||1);this._setStrokeAttributes(I.tspan,ct)}let Ke=I.textMatrix;I.textRise!==0&&(Ke=Ke.slice(),Ke[5]+=I.textRise),I.txtElement.setAttributeNS(null,"transform",`${M(Ke)} scale(${R(me)}, -1)`),I.txtElement.setAttributeNS(u,"xml:space","preserve"),I.txtElement.append(I.tspan),I.txtgrp.append(I.txtElement),this._ensureTransformGroup().append(I.txtElement)}setLeadingMoveText(L,I){this.setLeading(-I),this.moveText(L,I)}addFontStyle(L){if(!L.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const I=g(L.data,L.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${L.loadedName}"; src: url(${I}); }
`}setFont(L){const I=this.current,ee=this.commonObjs.get(L[0]);let ne=L[1];I.font=ee,this.embedFonts&&!ee.missingFile&&!this.embeddedFonts[ee.loadedName]&&(this.addFontStyle(ee),this.embeddedFonts[ee.loadedName]=ee),I.fontMatrix=ee.fontMatrix||a.FONT_IDENTITY_MATRIX;let z="normal";ee.black?z="900":ee.bold&&(z="bold");const ae=ee.italic?"italic":"normal";ne<0?(ne=-ne,I.fontDirection=-1):I.fontDirection=1,I.fontSize=ne,I.fontFamily=ee.loadedName,I.fontWeight=z,I.fontStyle=ae,I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"y",R(-I.y)),I.xcoords=[],I.ycoords=[]}endText(){var I;const L=this.current;L.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((I=L.txtElement)!=null&&I.hasChildNodes())&&(L.element=L.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(L){L>0&&(this.current.lineWidth=L)}setLineCap(L){this.current.lineCap=d[L]}setLineJoin(L){this.current.lineJoin=O[L]}setMiterLimit(L){this.current.miterLimit=L}setStrokeAlpha(L){this.current.strokeAlpha=L}setStrokeRGBColor(L,I,ee){this.current.strokeColor=a.Util.makeHexColor(L,I,ee)}setFillAlpha(L){this.current.fillAlpha=L}setFillRGBColor(L,I,ee){this.current.fillColor=a.Util.makeHexColor(L,I,ee),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(L){this.current.strokeColor=this._makeColorN_Pattern(L)}setFillColorN(L){this.current.fillColor=this._makeColorN_Pattern(L)}shadingFill(L){const{width:I,height:ee}=this.viewport,ne=a.Util.inverseTransform(this.transformMatrix),[z,ae,H,fe]=a.Util.getAxialAlignedBoundingBox([0,0,I,ee],ne),me=this.svgFactory.createElement("svg:rect");me.setAttributeNS(null,"x",z),me.setAttributeNS(null,"y",ae),me.setAttributeNS(null,"width",H-z),me.setAttributeNS(null,"height",fe-ae),me.setAttributeNS(null,"fill",this._makeShadingPattern(L)),this.current.fillAlpha<1&&me.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(me)}_makeColorN_Pattern(L){return L[0]==="TilingPattern"?this._makeTilingPattern(L):this._makeShadingPattern(L)}_makeTilingPattern(L){const I=L[1],ee=L[2],ne=L[3]||a.IDENTITY_MATRIX,[z,ae,H,fe]=L[4],me=L[5],se=L[6],Se=L[7],Ae=`shading${X++}`,[Pe,de,Fe,Ke]=a.Util.normalizeRect([...a.Util.applyTransform([z,ae],ne),...a.Util.applyTransform([H,fe],ne)]),[ct,it]=a.Util.singularValueDecompose2dScale(ne),te=me*ct,D=se*it,F=this.svgFactory.createElement("svg:pattern");F.setAttributeNS(null,"id",Ae),F.setAttributeNS(null,"patternUnits","userSpaceOnUse"),F.setAttributeNS(null,"width",te),F.setAttributeNS(null,"height",D),F.setAttributeNS(null,"x",`${Pe}`),F.setAttributeNS(null,"y",`${de}`);const j=this.svg,W=this.transformMatrix,K=this.current.fillColor,le=this.current.strokeColor,pe=this.svgFactory.create(Fe-Pe,Ke-de);if(this.svg=pe,this.transformMatrix=ne,Se===2){const xe=a.Util.makeHexColor(...I);this.current.fillColor=xe,this.current.strokeColor=xe}return this.executeOpTree(this.convertOpList(ee)),this.svg=j,this.transformMatrix=W,this.current.fillColor=K,this.current.strokeColor=le,F.append(pe.childNodes[0]),this.defs.append(F),`url(#${Ae})`}_makeShadingPattern(L){switch(typeof L=="string"&&(L=this.objs.get(L)),L[0]){case"RadialAxial":const I=`shading${X++}`,ee=L[3];let ne;switch(L[1]){case"axial":const z=L[4],ae=L[5];ne=this.svgFactory.createElement("svg:linearGradient"),ne.setAttributeNS(null,"id",I),ne.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ne.setAttributeNS(null,"x1",z[0]),ne.setAttributeNS(null,"y1",z[1]),ne.setAttributeNS(null,"x2",ae[0]),ne.setAttributeNS(null,"y2",ae[1]);break;case"radial":const H=L[4],fe=L[5],me=L[6],se=L[7];ne=this.svgFactory.createElement("svg:radialGradient"),ne.setAttributeNS(null,"id",I),ne.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ne.setAttributeNS(null,"cx",fe[0]),ne.setAttributeNS(null,"cy",fe[1]),ne.setAttributeNS(null,"r",se),ne.setAttributeNS(null,"fx",H[0]),ne.setAttributeNS(null,"fy",H[1]),ne.setAttributeNS(null,"fr",me);break;default:throw new Error(`Unknown RadialAxial type: ${L[1]}`)}for(const z of ee){const ae=this.svgFactory.createElement("svg:stop");ae.setAttributeNS(null,"offset",z[0]),ae.setAttributeNS(null,"stop-color",z[1]),ne.append(ae)}return this.defs.append(ne),`url(#${I})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${L[0]}`)}}setDash(L,I){this.current.dashArray=L,this.current.dashPhase=I}constructPath(L,I){const ee=this.current;let ne=ee.x,z=ee.y,ae=[],H=0;for(const fe of L)switch(fe|0){case a.OPS.rectangle:ne=I[H++],z=I[H++];const me=I[H++],se=I[H++],Se=ne+me,Ae=z+se;ae.push("M",R(ne),R(z),"L",R(Se),R(z),"L",R(Se),R(Ae),"L",R(ne),R(Ae),"Z");break;case a.OPS.moveTo:ne=I[H++],z=I[H++],ae.push("M",R(ne),R(z));break;case a.OPS.lineTo:ne=I[H++],z=I[H++],ae.push("L",R(ne),R(z));break;case a.OPS.curveTo:ne=I[H+4],z=I[H+5],ae.push("C",R(I[H]),R(I[H+1]),R(I[H+2]),R(I[H+3]),R(ne),R(z)),H+=6;break;case a.OPS.curveTo2:ae.push("C",R(ne),R(z),R(I[H]),R(I[H+1]),R(I[H+2]),R(I[H+3])),ne=I[H+2],z=I[H+3],H+=4;break;case a.OPS.curveTo3:ne=I[H+2],z=I[H+3],ae.push("C",R(I[H]),R(I[H+1]),R(ne),R(z),R(ne),R(z)),H+=4;break;case a.OPS.closePath:ae.push("Z");break}ae=ae.join(" "),ee.path&&L.length>0&&L[0]!==a.OPS.rectangle&&L[0]!==a.OPS.moveTo?ae=ee.path.getAttributeNS(null,"d")+ae:(ee.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ee.path)),ee.path.setAttributeNS(null,"d",ae),ee.path.setAttributeNS(null,"fill","none"),ee.element=ee.path,ee.setCurrentPoint(ne,z)}endPath(){const L=this.current;if(L.path=null,!this.pendingClip)return;if(!L.element){this.pendingClip=null;return}const I=`clippath${$++}`,ee=this.svgFactory.createElement("svg:clipPath");ee.setAttributeNS(null,"id",I),ee.setAttributeNS(null,"transform",M(this.transformMatrix));const ne=L.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ne.setAttributeNS(null,"clip-rule","evenodd"):ne.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ee.append(ne),this.defs.append(ee),L.activeClipUrl){L.clipGroup=null;for(const z of this.extraStack)z.clipGroup=null;ee.setAttributeNS(null,"clip-path",L.activeClipUrl)}L.activeClipUrl=`url(#${I})`,this.tgrp=null}clip(L){this.pendingClip=L}closePath(){const L=this.current;if(L.path){const I=`${L.path.getAttributeNS(null,"d")}Z`;L.path.setAttributeNS(null,"d",I)}}setLeading(L){this.current.leading=-L}setTextRise(L){this.current.textRise=L}setTextRenderingMode(L){this.current.textRenderingMode=L}setHScale(L){this.current.textHScale=L/100}setRenderingIntent(L){}setFlatness(L){}setGState(L){for(const[I,ee]of L)switch(I){case"LW":this.setLineWidth(ee);break;case"LC":this.setLineCap(ee);break;case"LJ":this.setLineJoin(ee);break;case"ML":this.setMiterLimit(ee);break;case"D":this.setDash(ee[0],ee[1]);break;case"RI":this.setRenderingIntent(ee);break;case"FL":this.setFlatness(ee);break;case"Font":this.setFont(ee);break;case"CA":this.setStrokeAlpha(ee);break;case"ca":this.setFillAlpha(ee);break;default:(0,a.warn)(`Unimplemented graphic state operator ${I}`);break}}fill(){const L=this.current;L.element&&(L.element.setAttributeNS(null,"fill",L.fillColor),L.element.setAttributeNS(null,"fill-opacity",L.fillAlpha),this.endPath())}stroke(){const L=this.current;L.element&&(this._setStrokeAttributes(L.element),L.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(L,I=1){const ee=this.current;let ne=ee.dashArray;I!==1&&ne.length>0&&(ne=ne.map(function(z){return I*z})),L.setAttributeNS(null,"stroke",ee.strokeColor),L.setAttributeNS(null,"stroke-opacity",ee.strokeAlpha),L.setAttributeNS(null,"stroke-miterlimit",R(ee.miterLimit)),L.setAttributeNS(null,"stroke-linecap",ee.lineCap),L.setAttributeNS(null,"stroke-linejoin",ee.lineJoin),L.setAttributeNS(null,"stroke-width",R(I*ee.lineWidth)+"px"),L.setAttributeNS(null,"stroke-dasharray",ne.map(R).join(" ")),L.setAttributeNS(null,"stroke-dashoffset",R(I*ee.dashPhase)+"px")}eoFill(){var L;(L=this.current.element)==null||L.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var L;(L=this.current.element)==null||L.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width","1px"),L.setAttributeNS(null,"height","1px"),L.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(L)}paintImageXObject(L){const I=this.getObject(L);if(!I){(0,a.warn)(`Dependent image with object ID ${L} is not ready yet`);return}this.paintInlineImageXObject(I)}paintInlineImageXObject(L,I){const ee=L.width,ne=L.height,z=x(L,this.forceDataSchema,!!I),ae=this.svgFactory.createElement("svg:rect");ae.setAttributeNS(null,"x","0"),ae.setAttributeNS(null,"y","0"),ae.setAttributeNS(null,"width",R(ee)),ae.setAttributeNS(null,"height",R(ne)),this.current.element=ae,this.clip("nonzero");const H=this.svgFactory.createElement("svg:image");H.setAttributeNS(f,"xlink:href",z),H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y",R(-ne)),H.setAttributeNS(null,"width",R(ee)+"px"),H.setAttributeNS(null,"height",R(ne)+"px"),H.setAttributeNS(null,"transform",`scale(${R(1/ee)} ${R(-1/ne)})`),I?I.append(H):this._ensureTransformGroup().append(H)}paintImageMaskXObject(L){const I=this.getObject(L.data,L);if(I.bitmap){(0,a.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ee=this.current,ne=I.width,z=I.height,ae=ee.fillColor;ee.maskId=`mask${V++}`;const H=this.svgFactory.createElement("svg:mask");H.setAttributeNS(null,"id",ee.maskId);const fe=this.svgFactory.createElement("svg:rect");fe.setAttributeNS(null,"x","0"),fe.setAttributeNS(null,"y","0"),fe.setAttributeNS(null,"width",R(ne)),fe.setAttributeNS(null,"height",R(z)),fe.setAttributeNS(null,"fill",ae),fe.setAttributeNS(null,"mask",`url(#${ee.maskId})`),this.defs.append(H),this._ensureTransformGroup().append(fe),this.paintInlineImageXObject(I,H)}paintFormXObjectBegin(L,I){if(Array.isArray(L)&&L.length===6&&this.transform(L[0],L[1],L[2],L[3],L[4],L[5]),I){const ee=I[2]-I[0],ne=I[3]-I[1],z=this.svgFactory.createElement("svg:rect");z.setAttributeNS(null,"x",I[0]),z.setAttributeNS(null,"y",I[1]),z.setAttributeNS(null,"width",R(ee)),z.setAttributeNS(null,"height",R(ne)),this.current.element=z,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(L){const I=this.svgFactory.create(L.width,L.height),ee=this.svgFactory.createElement("svg:defs");I.append(ee),this.defs=ee;const ne=this.svgFactory.createElement("svg:g");return ne.setAttributeNS(null,"transform",M(L.transform)),I.append(ne),this.svg=ne,I}_ensureClipGroup(){if(!this.current.clipGroup){const L=this.svgFactory.createElement("svg:g");L.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(L),this.current.clipGroup=L}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",M(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=Y},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class n{static textContent(a){const c=[],u={items:c,styles:Object.create(null)};function f(d){var x;if(!d)return;let O=null;const g=d.name;if(g==="#text")O=d.value;else if(n.shouldBuildText(g))(x=d==null?void 0:d.attributes)!=null&&x.textContent?O=d.attributes.textContent:d.value&&(O=d.value);else return;if(O!==null&&c.push({str:O}),!!d.children)for(const T of d.children)f(T)}return f(a),u}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}e.XfaText=n},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=M,e.updateTextLayer=$;var r=n(1),a=n(6);const c=1e5,u=30,f=.8,d=new Map;function O(V,X){let Y;if(X&&r.FeatureTest.isOffscreenCanvasSupported)Y=new OffscreenCanvas(V,V).getContext("2d",{alpha:!1});else{const G=document.createElement("canvas");G.width=G.height=V,Y=G.getContext("2d",{alpha:!1})}return Y}function g(V,X){const Y=d.get(V);if(Y)return Y;const G=O(u,X);G.font=`${u}px ${V}`;const L=G.measureText("");let I=L.fontBoundingBoxAscent,ee=Math.abs(L.fontBoundingBoxDescent);if(I){const z=I/(I+ee);return d.set(V,z),G.canvas.width=G.canvas.height=0,z}G.strokeStyle="red",G.clearRect(0,0,u,u),G.strokeText("g",0,0);let ne=G.getImageData(0,0,u,u).data;ee=0;for(let z=ne.length-1-3;z>=0;z-=4)if(ne[z]>0){ee=Math.ceil(z/4/u);break}G.clearRect(0,0,u,u),G.strokeText("A",0,u),ne=G.getImageData(0,0,u,u).data,I=0;for(let z=0,ae=ne.length;z<ae;z+=4)if(ne[z]>0){I=u-Math.floor(z/4/u);break}if(G.canvas.width=G.canvas.height=0,I){const z=I/(I+ee);return d.set(V,z),z}return d.set(V,f),f}function x(V,X,Y){const G=document.createElement("span"),L={angle:0,canvasWidth:0,hasText:X.str!=="",hasEOL:X.hasEOL,fontSize:0};V._textDivs.push(G);const I=r.Util.transform(V._transform,X.transform);let ee=Math.atan2(I[1],I[0]);const ne=Y[X.fontName];ne.vertical&&(ee+=Math.PI/2);const z=Math.hypot(I[2],I[3]),ae=z*g(ne.fontFamily,V._isOffscreenCanvasSupported);let H,fe;ee===0?(H=I[4],fe=I[5]-ae):(H=I[4]+ae*Math.sin(ee),fe=I[5]-ae*Math.cos(ee));const me="calc(var(--scale-factor)*",se=G.style;V._container===V._rootContainer?(se.left=`${(100*H/V._pageWidth).toFixed(2)}%`,se.top=`${(100*fe/V._pageHeight).toFixed(2)}%`):(se.left=`${me}${H.toFixed(2)}px)`,se.top=`${me}${fe.toFixed(2)}px)`),se.fontSize=`${me}${z.toFixed(2)}px)`,se.fontFamily=ne.fontFamily,L.fontSize=z,G.setAttribute("role","presentation"),G.textContent=X.str,G.dir=X.dir,V._fontInspectorEnabled&&(G.dataset.fontName=X.fontName),ee!==0&&(L.angle=ee*(180/Math.PI));let Se=!1;if(X.str.length>1)Se=!0;else if(X.str!==" "&&X.transform[0]!==X.transform[3]){const Ae=Math.abs(X.transform[0]),Pe=Math.abs(X.transform[3]);Ae!==Pe&&Math.max(Ae,Pe)/Math.min(Ae,Pe)>1.5&&(Se=!0)}Se&&(L.canvasWidth=ne.vertical?X.height:X.width),V._textDivProperties.set(G,L),V._isReadableStream&&V._layoutText(G)}function T(V){const{div:X,scale:Y,properties:G,ctx:L,prevFontSize:I,prevFontFamily:ee}=V,{style:ne}=X;let z="";if(G.canvasWidth!==0&&G.hasText){const{fontFamily:ae}=ne,{canvasWidth:H,fontSize:fe}=G;(I!==fe||ee!==ae)&&(L.font=`${fe*Y}px ${ae}`,V.prevFontSize=fe,V.prevFontFamily=ae);const{width:me}=L.measureText(X.textContent);me>0&&(z=`scaleX(${H*Y/me})`)}G.angle!==0&&(z=`rotate(${G.angle}deg) ${z}`),z.length>0&&(ne.transform=z)}function E(V){if(V._canceled)return;const X=V._textDivs,Y=V._capability;if(X.length>c){Y.resolve();return}if(!V._isReadableStream)for(const L of X)V._layoutText(L);Y.resolve()}class R{constructor({textContentSource:X,container:Y,viewport:G,textDivs:L,textDivProperties:I,textContentItemsStr:ee,isOffscreenCanvasSupported:ne}){var me;this._textContentSource=X,this._isReadableStream=X instanceof ReadableStream,this._container=this._rootContainer=Y,this._textDivs=L||[],this._textContentItemsStr=ee||[],this._isOffscreenCanvasSupported=ne,this._fontInspectorEnabled=!!((me=globalThis.FontInspector)!=null&&me.enabled),this._reader=null,this._textDivProperties=I||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:G.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:O(0,ne)};const{pageWidth:z,pageHeight:ae,pageX:H,pageY:fe}=G.rawDims;this._transform=[1,0,0,-1,-H,fe+ae],this._pageWidth=z,this._pageHeight=ae,(0,a.setLayerDimensions)(Y,G),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(X,Y){for(const G of X){if(G.str===void 0){if(G.type==="beginMarkedContentProps"||G.type==="beginMarkedContent"){const L=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),G.id!==null&&this._container.setAttribute("id",`${G.id}`),L.append(this._container)}else G.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(G.str),x(this,G,Y)}}_layoutText(X){const Y=this._layoutTextParams.properties=this._textDivProperties.get(X);if(this._layoutTextParams.div=X,T(this._layoutTextParams),Y.hasText&&this._container.append(X),Y.hasEOL){const G=document.createElement("br");G.setAttribute("role","presentation"),this._container.append(G)}}_render(){const X=new r.PromiseCapability;let Y=Object.create(null);if(this._isReadableStream){const G=()=>{this._reader.read().then(({value:L,done:I})=>{if(I){X.resolve();return}Object.assign(Y,L.styles),this._processItems(L.items,Y),G()},X.reject)};this._reader=this._textContentSource.getReader(),G()}else if(this._textContentSource){const{items:G,styles:L}=this._textContentSource;this._processItems(G,L),X.resolve()}else throw new Error('No "textContentSource" parameter specified.');X.promise.then(()=>{Y=null,E(this)},this._capability.reject)}}e.TextLayerRenderTask=R;function M(V){!V.textContentSource&&(V.textContent||V.textContentStream)&&((0,a.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),V.textContentSource=V.textContent||V.textContentStream);const{container:X,viewport:Y}=V,G=getComputedStyle(X),L=G.getPropertyValue("visibility"),I=parseFloat(G.getPropertyValue("--scale-factor"));L==="visible"&&(!I||Math.abs(I-Y.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ee=new R(V);return ee._render(),ee}function $({container:V,viewport:X,textDivs:Y,textDivProperties:G,isOffscreenCanvasSupported:L,mustRotate:I=!0,mustRescale:ee=!0}){if(I&&(0,a.setLayerDimensions)(V,{rotation:X.rotation}),ee){const ne=O(0,L),ae={prevFontSize:null,prevFontFamily:null,div:null,scale:X.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ne};for(const H of Y)ae.properties=G.get(H),ae.div=H,T(ae)}}},(s,e,n)=>{var g,x,T,E,R,M,$,V,X,Y,G,pg,I,Vh,ne,mg,ae,gg;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var r=n(1),a=n(4),c=n(28),u=n(33),f=n(6),d=n(34);const fe=class fe{constructor({uiManager:se,pageIndex:Se,div:Ae,accessibilityManager:Pe,annotationLayer:de,viewport:Fe,l10n:Ke}){ke(this,G);ke(this,I);ke(this,ne);ke(this,ae);ke(this,g,void 0);ke(this,x,!1);ke(this,T,null);ke(this,E,this.pointerup.bind(this));ke(this,R,this.pointerdown.bind(this));ke(this,M,new Map);ke(this,$,!1);ke(this,V,!1);ke(this,X,!1);ke(this,Y,void 0);const ct=[c.FreeTextEditor,u.InkEditor,d.StampEditor];if(!fe._initialized){fe._initialized=!0;for(const it of ct)it.initialize(Ke)}se.registerEditorTypes(ct),Ie(this,Y,se),this.pageIndex=Se,this.div=Ae,Ie(this,g,Pe),Ie(this,T,de),this.viewport=Fe,N(this,Y).addLayer(this)}get isEmpty(){return N(this,M).size===0}updateToolbar(se){N(this,Y).updateToolbar(se)}updateMode(se=N(this,Y).getMode()){Re(this,ae,gg).call(this),se===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),se!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",se===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",se===r.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",se===r.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(se){if(!se&&N(this,Y).getMode()!==r.AnnotationEditorType.INK)return;if(!se){for(const Ae of N(this,M).values())if(Ae.isEmpty()){Ae.setInBackground();return}}Re(this,I,Vh).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(se){N(this,Y).setEditingState(se)}addCommands(se){N(this,Y).addCommands(se)}enable(){this.div.style.pointerEvents="auto";const se=new Set;for(const Ae of N(this,M).values())Ae.enableEditing(),Ae.annotationElementId&&se.add(Ae.annotationElementId);if(!N(this,T))return;const Se=N(this,T).getEditableAnnotations();for(const Ae of Se){if(Ae.hide(),N(this,Y).isDeletedAnnotationElement(Ae.data.id)||se.has(Ae.data.id))continue;const Pe=this.deserialize(Ae);Pe&&(this.addOrRebuild(Pe),Pe.enableEditing())}}disable(){var Se;Ie(this,X,!0),this.div.style.pointerEvents="none";const se=new Set;for(const Ae of N(this,M).values()){if(Ae.disableEditing(),!Ae.annotationElementId||Ae.serialize()!==null){se.add(Ae.annotationElementId);continue}(Se=this.getEditableAnnotation(Ae.annotationElementId))==null||Se.show(),Ae.remove()}if(N(this,T)){const Ae=N(this,T).getEditableAnnotations();for(const Pe of Ae){const{id:de}=Pe.data;se.has(de)||N(this,Y).isDeletedAnnotationElement(de)||Pe.show()}}Re(this,ae,gg).call(this),this.isEmpty&&(this.div.hidden=!0),Ie(this,X,!1)}getEditableAnnotation(se){var Se;return((Se=N(this,T))==null?void 0:Se.getEditableAnnotation(se))||null}setActiveEditor(se){N(this,Y).getActive()!==se&&N(this,Y).setActiveEditor(se)}enableClick(){this.div.addEventListener("pointerdown",N(this,R)),this.div.addEventListener("pointerup",N(this,E))}disableClick(){this.div.removeEventListener("pointerdown",N(this,R)),this.div.removeEventListener("pointerup",N(this,E))}attach(se){N(this,M).set(se.id,se);const{annotationElementId:Se}=se;Se&&N(this,Y).isDeletedAnnotationElement(Se)&&N(this,Y).removeDeletedAnnotationElement(se)}detach(se){var Se;N(this,M).delete(se.id),(Se=N(this,g))==null||Se.removePointerInTextLayer(se.contentDiv),!N(this,X)&&se.annotationElementId&&N(this,Y).addDeletedAnnotationElement(se)}remove(se){this.detach(se),N(this,Y).removeEditor(se),se.div.contains(document.activeElement)&&setTimeout(()=>{N(this,Y).focusMainContainer()},0),se.div.remove(),se.isAttachedToDOM=!1,N(this,V)||this.addInkEditorIfNeeded(!1)}changeParent(se){var Se;se.parent!==this&&(se.annotationElementId&&(N(this,Y).addDeletedAnnotationElement(se.annotationElementId),a.AnnotationEditor.deleteAnnotationElement(se),se.annotationElementId=null),this.attach(se),(Se=se.parent)==null||Se.detach(se),se.setParent(this),se.div&&se.isAttachedToDOM&&(se.div.remove(),this.div.append(se.div)))}add(se){if(this.changeParent(se),N(this,Y).addEditor(se),this.attach(se),!se.isAttachedToDOM){const Se=se.render();this.div.append(Se),se.isAttachedToDOM=!0}se.fixAndSetPosition(),se.onceAdded(),N(this,Y).addToAnnotationStorage(se)}moveEditorInDOM(se){var Ae;if(!se.isAttachedToDOM)return;const{activeElement:Se}=document;se.div.contains(Se)&&(se._focusEventsAllowed=!1,setTimeout(()=>{se.div.contains(document.activeElement)?se._focusEventsAllowed=!0:(se.div.addEventListener("focusin",()=>{se._focusEventsAllowed=!0},{once:!0}),Se.focus())},0)),se._structTreeParentId=(Ae=N(this,g))==null?void 0:Ae.moveElementInDOM(this.div,se.div,se.contentDiv,!0)}addOrRebuild(se){se.needsToBeRebuilt()?se.rebuild():this.add(se)}addUndoableEditor(se){const Se=()=>se._uiManager.rebuild(se),Ae=()=>{se.remove()};this.addCommands({cmd:Se,undo:Ae,mustExec:!1})}getNextId(){return N(this,Y).getId()}pasteEditor(se,Se){N(this,Y).updateToolbar(se),N(this,Y).updateMode(se);const{offsetX:Ae,offsetY:Pe}=Re(this,ne,mg).call(this),de=this.getNextId(),Fe=Re(this,G,pg).call(this,{parent:this,id:de,x:Ae,y:Pe,uiManager:N(this,Y),isCentered:!0,...Se});Fe&&this.add(Fe)}deserialize(se){switch(se.annotationType??se.annotationEditorType){case r.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(se,this,N(this,Y));case r.AnnotationEditorType.INK:return u.InkEditor.deserialize(se,this,N(this,Y));case r.AnnotationEditorType.STAMP:return d.StampEditor.deserialize(se,this,N(this,Y))}return null}addNewEditor(){Re(this,I,Vh).call(this,Re(this,ne,mg).call(this),!0)}setSelected(se){N(this,Y).setSelected(se)}toggleSelected(se){N(this,Y).toggleSelected(se)}isSelected(se){return N(this,Y).isSelected(se)}unselect(se){N(this,Y).unselect(se)}pointerup(se){const{isMac:Se}=r.FeatureTest.platform;if(!(se.button!==0||se.ctrlKey&&Se)&&se.target===this.div&&N(this,$)){if(Ie(this,$,!1),!N(this,x)){Ie(this,x,!0);return}if(N(this,Y).getMode()===r.AnnotationEditorType.STAMP){N(this,Y).unselectAll();return}Re(this,I,Vh).call(this,se,!1)}}pointerdown(se){if(N(this,$)){Ie(this,$,!1);return}const{isMac:Se}=r.FeatureTest.platform;if(se.button!==0||se.ctrlKey&&Se||se.target!==this.div)return;Ie(this,$,!0);const Ae=N(this,Y).getActive();Ie(this,x,!Ae||Ae.isEmpty())}findNewParent(se,Se,Ae){const Pe=N(this,Y).findParent(Se,Ae);return Pe===null||Pe===this?!1:(Pe.changeParent(se),!0)}destroy(){var se,Se;((se=N(this,Y).getActive())==null?void 0:se.parent)===this&&(N(this,Y).commitOrRemove(),N(this,Y).setActiveEditor(null));for(const Ae of N(this,M).values())(Se=N(this,g))==null||Se.removePointerInTextLayer(Ae.contentDiv),Ae.setParent(null),Ae.isAttachedToDOM=!1,Ae.div.remove();this.div=null,N(this,M).clear(),N(this,Y).removeLayer(this)}render({viewport:se}){this.viewport=se,(0,f.setLayerDimensions)(this.div,se);for(const Se of N(this,Y).getEditors(this.pageIndex))this.add(Se);this.updateMode()}update({viewport:se}){N(this,Y).commitOrRemove(),this.viewport=se,(0,f.setLayerDimensions)(this.div,{rotation:se.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:se,pageHeight:Se}=this.viewport.rawDims;return[se,Se]}};g=new WeakMap,x=new WeakMap,T=new WeakMap,E=new WeakMap,R=new WeakMap,M=new WeakMap,$=new WeakMap,V=new WeakMap,X=new WeakMap,Y=new WeakMap,G=new WeakSet,pg=function(se){switch(N(this,Y).getMode()){case r.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(se);case r.AnnotationEditorType.INK:return new u.InkEditor(se);case r.AnnotationEditorType.STAMP:return new d.StampEditor(se)}return null},I=new WeakSet,Vh=function(se,Se){const Ae=this.getNextId(),Pe=Re(this,G,pg).call(this,{parent:this,id:Ae,x:se.offsetX,y:se.offsetY,uiManager:N(this,Y),isCentered:Se});return Pe&&this.add(Pe),Pe},ne=new WeakSet,mg=function(){const{x:se,y:Se,width:Ae,height:Pe}=this.div.getBoundingClientRect(),de=Math.max(0,se),Fe=Math.max(0,Se),Ke=Math.min(window.innerWidth,se+Ae),ct=Math.min(window.innerHeight,Se+Pe),it=(de+Ke)/2-se,te=(Fe+ct)/2-Se,[D,F]=this.viewport.rotation%180===0?[it,te]:[te,it];return{offsetX:D,offsetY:F}},ae=new WeakSet,gg=function(){Ie(this,V,!0);for(const se of N(this,M).values())se.isEmpty()&&se.remove();Ie(this,V,!1)},Fn(fe,"_initialized",!1);let O=fe;e.AnnotationEditorLayer=O},(s,e,n)=>{var d,O,g,x,T,E,R,M,$,V,Z0,Y,W0,L,Y0,ee,Qc,z,Og,H,H0,me,vg;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var r=n(1),a=n(5),c=n(4),u=n(29);const Se=class Se extends c.AnnotationEditor{constructor(de){super({...de,name:"freeTextEditor"});ke(this,V);ke(this,Y);ke(this,L);ke(this,ee);ke(this,z);ke(this,H);ke(this,me);ke(this,d,this.editorDivBlur.bind(this));ke(this,O,this.editorDivFocus.bind(this));ke(this,g,this.editorDivInput.bind(this));ke(this,x,this.editorDivKeydown.bind(this));ke(this,T,void 0);ke(this,E,"");ke(this,R,`${this.id}-editor`);ke(this,M,void 0);ke(this,$,null);Ie(this,T,de.color||Se._defaultColor||c.AnnotationEditor._defaultLineColor),Ie(this,M,de.fontSize||Se._defaultFontSize)}static get _keyboardManager(){const de=Se.prototype,Fe=it=>it.isEmpty(),Ke=a.AnnotationEditorUIManager.TRANSLATE_SMALL,ct=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new a.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],de.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],de.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],de._translateEmpty,{args:[-Ke,0],checker:Fe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],de._translateEmpty,{args:[-ct,0],checker:Fe}],[["ArrowRight","mac+ArrowRight"],de._translateEmpty,{args:[Ke,0],checker:Fe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],de._translateEmpty,{args:[ct,0],checker:Fe}],[["ArrowUp","mac+ArrowUp"],de._translateEmpty,{args:[0,-Ke],checker:Fe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],de._translateEmpty,{args:[0,-ct],checker:Fe}],[["ArrowDown","mac+ArrowDown"],de._translateEmpty,{args:[0,Ke],checker:Fe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],de._translateEmpty,{args:[0,ct],checker:Fe}]]))}static initialize(de){c.AnnotationEditor.initialize(de,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Fe=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Fe.getPropertyValue("--freetext-padding"))}static updateDefaultParams(de,Fe){switch(de){case r.AnnotationEditorParamsType.FREETEXT_SIZE:Se._defaultFontSize=Fe;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:Se._defaultColor=Fe;break}}updateParams(de,Fe){switch(de){case r.AnnotationEditorParamsType.FREETEXT_SIZE:Re(this,V,Z0).call(this,Fe);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:Re(this,Y,W0).call(this,Fe);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,Se._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,Se._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,N(this,M)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,N(this,T)]]}_translateEmpty(de,Fe){this._uiManager.translateSelectedEditors(de,Fe,!0)}getInitialTranslation(){const de=this.parentScale;return[-Se._internalPadding*de,-(Se._internalPadding+N(this,M))*de]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",N(this,x)),this.editorDiv.addEventListener("focus",N(this,O)),this.editorDiv.addEventListener("blur",N(this,d)),this.editorDiv.addEventListener("input",N(this,g)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",N(this,R)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",N(this,x)),this.editorDiv.removeEventListener("focus",N(this,O)),this.editorDiv.removeEventListener("blur",N(this,d)),this.editorDiv.removeEventListener("input",N(this,g)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(de){this._focusEventsAllowed&&(super.focusin(de),de.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var de;if(this.width){Re(this,me,vg).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(de=this._initialOptions)!=null&&de.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const de=N(this,E),Fe=Ie(this,E,Re(this,L,Y0).call(this).trimEnd());if(de===Fe)return;const Ke=ct=>{if(Ie(this,E,ct),!ct){this.remove();return}Re(this,z,Og).call(this),this._uiManager.rebuild(this),Re(this,ee,Qc).call(this)};this.addCommands({cmd:()=>{Ke(Fe)},undo:()=>{Ke(de)},mustExec:!1}),Re(this,ee,Qc).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(de){this.enterInEditMode()}keydown(de){de.target===this.div&&de.key==="Enter"&&(this.enterInEditMode(),de.preventDefault())}editorDivKeydown(de){Se._keyboardManager.exec(this,de)}editorDivFocus(de){this.isEditing=!0}editorDivBlur(de){this.isEditing=!1}editorDivInput(de){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let de,Fe;this.width&&(de=this.x,Fe=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",N(this,R)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(ct=>{var it;return(it=this.editorDiv)==null?void 0:it.setAttribute("aria-label",ct)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(ct=>{var it;return(it=this.editorDiv)==null?void 0:it.setAttribute("default-content",ct)}),this.editorDiv.contentEditable=!0;const{style:Ke}=this.editorDiv;if(Ke.fontSize=`calc(${N(this,M)}px * var(--scale-factor))`,Ke.color=N(this,T),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ct,it]=this.parentDimensions;if(this.annotationElementId){const{position:te}=N(this,$);let[D,F]=this.getInitialTranslation();[D,F]=this.pageTranslationToScreen(D,F);const[j,W]=this.pageDimensions,[K,le]=this.pageTranslation;let pe,xe;switch(this.rotation){case 0:pe=de+(te[0]-K)/j,xe=Fe+this.height-(te[1]-le)/W;break;case 90:pe=de+(te[0]-K)/j,xe=Fe-(te[1]-le)/W,[D,F]=[F,-D];break;case 180:pe=de-this.width+(te[0]-K)/j,xe=Fe-(te[1]-le)/W,[D,F]=[-D,-F];break;case 270:pe=de+(te[0]-K-this.height*W)/j,xe=Fe+(te[1]-le-this.width*j)/W,[D,F]=[-F,D];break}this.setAt(pe*ct,xe*it,D,F)}else this.setAt(de*ct,Fe*it,this.width*ct,this.height*it);Re(this,z,Og).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(de,Fe,Ke){let ct=null;if(de instanceof u.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:te,fontColor:D},rect:F,rotation:j,id:W},textContent:K,textPosition:le,parent:{page:{pageNumber:pe}}}=de;if(!K||K.length===0)return null;ct=de={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(D),fontSize:te,value:K.join(`
`),position:le,pageIndex:pe-1,rect:F,rotation:j,id:W,deleted:!1}}const it=super.deserialize(de,Fe,Ke);return Ie(it,M,de.fontSize),Ie(it,T,r.Util.makeHexColor(...de.color)),Ie(it,E,de.value),it.annotationElementId=de.id||null,Ie(it,$,ct),it}serialize(de=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Fe=Se._internalPadding*this.parentScale,Ke=this.getRect(Fe,Fe),ct=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:N(this,T)),it={annotationType:r.AnnotationEditorType.FREETEXT,color:ct,fontSize:N(this,M),value:N(this,E),pageIndex:this.pageIndex,rect:Ke,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return de?it:this.annotationElementId&&!Re(this,H,H0).call(this,it)?null:(it.id=this.annotationElementId,it)}};d=new WeakMap,O=new WeakMap,g=new WeakMap,x=new WeakMap,T=new WeakMap,E=new WeakMap,R=new WeakMap,M=new WeakMap,$=new WeakMap,V=new WeakSet,Z0=function(de){const Fe=ct=>{this.editorDiv.style.fontSize=`calc(${ct}px * var(--scale-factor))`,this.translate(0,-(ct-N(this,M))*this.parentScale),Ie(this,M,ct),Re(this,ee,Qc).call(this)},Ke=N(this,M);this.addCommands({cmd:()=>{Fe(de)},undo:()=>{Fe(Ke)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Y=new WeakSet,W0=function(de){const Fe=N(this,T);this.addCommands({cmd:()=>{Ie(this,T,this.editorDiv.style.color=de)},undo:()=>{Ie(this,T,this.editorDiv.style.color=Fe)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},L=new WeakSet,Y0=function(){const de=this.editorDiv.getElementsByTagName("div");if(de.length===0)return this.editorDiv.innerText;const Fe=[];for(const Ke of de)Fe.push(Ke.innerText.replace(/\r\n?|\n/,""));return Fe.join(`
`)},ee=new WeakSet,Qc=function(){const[de,Fe]=this.parentDimensions;let Ke;if(this.isAttachedToDOM)Ke=this.div.getBoundingClientRect();else{const{currentLayer:ct,div:it}=this,te=it.style.display;it.style.display="hidden",ct.div.append(this.div),Ke=it.getBoundingClientRect(),it.remove(),it.style.display=te}this.rotation%180===this.parentRotation%180?(this.width=Ke.width/de,this.height=Ke.height/Fe):(this.width=Ke.height/de,this.height=Ke.width/Fe),this.fixAndSetPosition()},z=new WeakSet,Og=function(){if(this.editorDiv.replaceChildren(),!!N(this,E))for(const de of N(this,E).split(`
`)){const Fe=document.createElement("div");Fe.append(de?document.createTextNode(de):document.createElement("br")),this.editorDiv.append(Fe)}},H=new WeakSet,H0=function(de){const{value:Fe,fontSize:Ke,color:ct,rect:it,pageIndex:te}=N(this,$);return de.value!==Fe||de.fontSize!==Ke||de.rect.some((D,F)=>Math.abs(D-it[F])>=1)||de.color.some((D,F)=>D!==ct[F])||de.pageIndex!==te},me=new WeakSet,vg=function(de=!1){if(!this.annotationElementId)return;if(Re(this,ee,Qc).call(this),!de&&(this.width===0||this.height===0)){setTimeout(()=>Re(this,me,vg).call(this,!0),0);return}const Fe=Se._internalPadding*this.parentScale;N(this,$).rect=this.getRect(Fe,Fe)},Fn(Se,"_freeTextDefaultContent",""),Fn(Se,"_internalPadding",0),Fn(Se,"_defaultColor",null),Fn(Se,"_defaultFontSize",10),Fn(Se,"_type","freetext");let f=Se;e.FreeTextEditor=f},(s,e,n)=>{var F,W,Ua,le,G0,xe,$e,_e,Be,Ue,ot,qe,Ct,Nt,gt,Pt,tt,De,Me,We,bt,ht,It,K0,Bt,Ih,St,yg,Lt,bg,Te,we,Je,Ge,nn,Ht,Ce,Sg,Qt,kt,$t,jt,J0,ft,xg;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var r=n(1),a=n(6),c=n(3),u=n(30),f=n(31),d=n(32);const O=1e3,g=9,x=new WeakSet;function T(Dt){return{width:Dt[2]-Dt[0],height:Dt[3]-Dt[1]}}class E{static create(ye){switch(ye.data.annotationType){case r.AnnotationType.LINK:return new M(ye);case r.AnnotationType.TEXT:return new $(ye);case r.AnnotationType.WIDGET:switch(ye.data.fieldType){case"Tx":return new X(ye);case"Btn":return ye.data.radioButton?new L(ye):ye.data.checkBox?new G(ye):new I(ye);case"Ch":return new ee(ye);case"Sig":return new Y(ye)}return new V(ye);case r.AnnotationType.POPUP:return new ne(ye);case r.AnnotationType.FREETEXT:return new ae(ye);case r.AnnotationType.LINE:return new H(ye);case r.AnnotationType.SQUARE:return new fe(ye);case r.AnnotationType.CIRCLE:return new me(ye);case r.AnnotationType.POLYLINE:return new se(ye);case r.AnnotationType.CARET:return new Ae(ye);case r.AnnotationType.INK:return new Pe(ye);case r.AnnotationType.POLYGON:return new Se(ye);case r.AnnotationType.HIGHLIGHT:return new de(ye);case r.AnnotationType.UNDERLINE:return new Fe(ye);case r.AnnotationType.SQUIGGLY:return new Ke(ye);case r.AnnotationType.STRIKEOUT:return new ct(ye);case r.AnnotationType.STAMP:return new it(ye);case r.AnnotationType.FILEATTACHMENT:return new te(ye);default:return new R(ye)}}}const j=class j{constructor(ye,{isRenderable:B=!1,ignoreBorder:oe=!1,createQuadrilaterals:q=!1}={}){ke(this,F,!1);this.isRenderable=B,this.data=ye.data,this.layer=ye.layer,this.linkService=ye.linkService,this.downloadManager=ye.downloadManager,this.imageResourcesPath=ye.imageResourcesPath,this.renderForms=ye.renderForms,this.svgFactory=ye.svgFactory,this.annotationStorage=ye.annotationStorage,this.enableScripting=ye.enableScripting,this.hasJSActions=ye.hasJSActions,this._fieldObjects=ye.fieldObjects,this.parent=ye.parent,B&&(this.container=this._createContainer(oe)),q&&this._createQuadrilaterals()}static _hasPopupData({titleObj:ye,contentsObj:B,richText:oe}){return!!(ye!=null&&ye.str||B!=null&&B.str||oe!=null&&oe.str)}get hasPopupData(){return j._hasPopupData(this.data)}_createContainer(ye){const{data:B,parent:{page:oe,viewport:q}}=this,he=document.createElement("section");he.setAttribute("data-annotation-id",B.id),this instanceof V||(he.tabIndex=O),he.style.zIndex=this.parent.zIndex++,this.data.popupRef&&he.setAttribute("aria-haspopup","dialog"),B.noRotate&&he.classList.add("norotate");const{pageWidth:be,pageHeight:Ee,pageX:Ze,pageY:rt}=q.rawDims;if(!B.rect||this instanceof ne){const{rotation:Rt}=B;return!B.hasOwnCanvas&&Rt!==0&&this.setRotation(Rt,he),he}const{width:at,height:wt}=T(B.rect),xt=r.Util.normalizeRect([B.rect[0],oe.view[3]-B.rect[1]+oe.view[1],B.rect[2],oe.view[3]-B.rect[3]+oe.view[1]]);if(!ye&&B.borderStyle.width>0){he.style.borderWidth=`${B.borderStyle.width}px`;const Rt=B.borderStyle.horizontalCornerRadius,zt=B.borderStyle.verticalCornerRadius;if(Rt>0||zt>0){const an=`calc(${Rt}px * var(--scale-factor)) / calc(${zt}px * var(--scale-factor))`;he.style.borderRadius=an}else if(this instanceof L){const an=`calc(${at}px * var(--scale-factor)) / calc(${wt}px * var(--scale-factor))`;he.style.borderRadius=an}switch(B.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:he.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:he.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:he.style.borderBottomStyle="solid";break}const Jt=B.borderColor||null;Jt?(Ie(this,F,!0),he.style.borderColor=r.Util.makeHexColor(Jt[0]|0,Jt[1]|0,Jt[2]|0)):he.style.borderWidth=0}he.style.left=`${100*(xt[0]-Ze)/be}%`,he.style.top=`${100*(xt[1]-rt)/Ee}%`;const{rotation:dt}=B;return B.hasOwnCanvas||dt===0?(he.style.width=`${100*at/be}%`,he.style.height=`${100*wt/Ee}%`):this.setRotation(dt,he),he}setRotation(ye,B=this.container){if(!this.data.rect)return;const{pageWidth:oe,pageHeight:q}=this.parent.viewport.rawDims,{width:he,height:be}=T(this.data.rect);let Ee,Ze;ye%180===0?(Ee=100*he/oe,Ze=100*be/q):(Ee=100*be/oe,Ze=100*he/q),B.style.width=`${Ee}%`,B.style.height=`${Ze}%`,B.setAttribute("data-main-rotation",(360-ye)%360)}get _commonActions(){const ye=(B,oe,q)=>{const he=q.detail[B],be=he[0],Ee=he.slice(1);q.target.style[oe]=u.ColorConverters[`${be}_HTML`](Ee),this.annotationStorage.setValue(this.data.id,{[oe]:u.ColorConverters[`${be}_rgb`](Ee)})};return(0,r.shadow)(this,"_commonActions",{display:B=>{const{display:oe}=B.detail,q=oe%2===1;this.container.style.visibility=q?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:q,noPrint:oe===1||oe===2})},print:B=>{this.annotationStorage.setValue(this.data.id,{noPrint:!B.detail.print})},hidden:B=>{const{hidden:oe}=B.detail;this.container.style.visibility=oe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:oe,noView:oe})},focus:B=>{setTimeout(()=>B.target.focus({preventScroll:!1}),0)},userName:B=>{B.target.title=B.detail.userName},readonly:B=>{B.target.disabled=B.detail.readonly},required:B=>{this._setRequired(B.target,B.detail.required)},bgColor:B=>{ye("bgColor","backgroundColor",B)},fillColor:B=>{ye("fillColor","backgroundColor",B)},fgColor:B=>{ye("fgColor","color",B)},textColor:B=>{ye("textColor","color",B)},borderColor:B=>{ye("borderColor","borderColor",B)},strokeColor:B=>{ye("strokeColor","borderColor",B)},rotation:B=>{const oe=B.detail.rotation;this.setRotation(oe),this.annotationStorage.setValue(this.data.id,{rotation:oe})}})}_dispatchEventFromSandbox(ye,B){const oe=this._commonActions;for(const q of Object.keys(B.detail)){const he=ye[q]||oe[q];he==null||he(B)}}_setDefaultPropertiesFromJS(ye){if(!this.enableScripting)return;const B=this.annotationStorage.getRawValue(this.data.id);if(!B)return;const oe=this._commonActions;for(const[q,he]of Object.entries(B)){const be=oe[q];if(be){const Ee={detail:{[q]:he},target:ye};be(Ee),delete B[q]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:ye}=this.data;if(!ye)return;const[B,oe,q,he]=this.data.rect;if(ye.length===1){const[,{x:zt,y:Jt},{x:an,y:vn}]=ye[0];if(q===zt&&he===Jt&&B===an&&oe===vn)return}const{style:be}=this.container;let Ee;if(N(this,F)){const{borderColor:zt,borderWidth:Jt}=be;be.borderWidth=0,Ee=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${zt}" stroke-width="${Jt}">`],this.container.classList.add("hasBorder")}const Ze=q-B,rt=he-oe,{svgFactory:at}=this,wt=at.createElement("svg");wt.classList.add("quadrilateralsContainer"),wt.setAttribute("width",0),wt.setAttribute("height",0);const xt=at.createElement("defs");wt.append(xt);const dt=at.createElement("clipPath"),Rt=`clippath_${this.data.id}`;dt.setAttribute("id",Rt),dt.setAttribute("clipPathUnits","objectBoundingBox"),xt.append(dt);for(const[,{x:zt,y:Jt},{x:an,y:vn}]of ye){const En=at.createElement("rect"),Nn=(an-B)/Ze,Cr=(he-Jt)/rt,Hn=(zt-an)/Ze,gn=(Jt-vn)/rt;En.setAttribute("x",Nn),En.setAttribute("y",Cr),En.setAttribute("width",Hn),En.setAttribute("height",gn),dt.append(En),Ee==null||Ee.push(`<rect vector-effect="non-scaling-stroke" x="${Nn}" y="${Cr}" width="${Hn}" height="${gn}"/>`)}N(this,F)&&(Ee.push("</g></svg>')"),be.backgroundImage=Ee.join("")),this.container.append(wt),this.container.style.clipPath=`url(#${Rt})`}_createPopup(){const{container:ye,data:B}=this;ye.setAttribute("aria-haspopup","dialog");const oe=new ne({data:{color:B.color,titleObj:B.titleObj,modificationDate:B.modificationDate,contentsObj:B.contentsObj,richText:B.richText,parentRect:B.rect,borderStyle:0,id:`popup_${B.id}`,rotation:B.rotation},parent:this.parent,elements:[this]});this.parent.div.append(oe.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ye,B=null){const oe=[];if(this._fieldObjects){const q=this._fieldObjects[ye];if(q)for(const{page:he,id:be,exportValues:Ee}of q){if(he===-1||be===B)continue;const Ze=typeof Ee=="string"?Ee:null,rt=document.querySelector(`[data-element-id="${be}"]`);if(rt&&!x.has(rt)){(0,r.warn)(`_getElementsByName - element not allowed: ${be}`);continue}oe.push({id:be,exportValue:Ze,domElement:rt})}return oe}for(const q of document.getElementsByName(ye)){const{exportValue:he}=q,be=q.getAttribute("data-element-id");be!==B&&x.has(q)&&oe.push({id:be,exportValue:he,domElement:q})}return oe}show(){var ye;this.container&&(this.container.hidden=!1),(ye=this.popup)==null||ye.maybeShow()}hide(){var ye;this.container&&(this.container.hidden=!0),(ye=this.popup)==null||ye.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const ye=this.getElementsToTriggerPopup();if(Array.isArray(ye))for(const B of ye)B.classList.add("highlightArea");else ye.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:ye,data:{id:B}}=this;this.container.addEventListener("dblclick",()=>{var oe;(oe=this.linkService.eventBus)==null||oe.dispatch("switchannotationeditormode",{source:this,mode:ye,editId:B})})}};F=new WeakMap;let R=j;class M extends R{constructor(B,oe=null){super(B,{isRenderable:!0,ignoreBorder:!!(oe!=null&&oe.ignoreBorder),createQuadrilaterals:!0});ke(this,W);ke(this,le);this.isTooltipOnly=B.data.isTooltipOnly}render(){const{data:B,linkService:oe}=this,q=document.createElement("a");q.setAttribute("data-element-id",B.id);let he=!1;return B.url?(oe.addLinkAttributes(q,B.url,B.newWindow),he=!0):B.action?(this._bindNamedAction(q,B.action),he=!0):B.attachment?(this._bindAttachment(q,B.attachment),he=!0):B.setOCGState?(Re(this,le,G0).call(this,q,B.setOCGState),he=!0):B.dest?(this._bindLink(q,B.dest),he=!0):(B.actions&&(B.actions.Action||B.actions["Mouse Up"]||B.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(q,B),he=!0),B.resetForm?(this._bindResetFormAction(q,B.resetForm),he=!0):this.isTooltipOnly&&!he&&(this._bindLink(q,""),he=!0)),this.container.classList.add("linkAnnotation"),he&&this.container.append(q),this.container}_bindLink(B,oe){B.href=this.linkService.getDestinationHash(oe),B.onclick=()=>(oe&&this.linkService.goToDestination(oe),!1),(oe||oe==="")&&Re(this,W,Ua).call(this)}_bindNamedAction(B,oe){B.href=this.linkService.getAnchorUrl(""),B.onclick=()=>(this.linkService.executeNamedAction(oe),!1),Re(this,W,Ua).call(this)}_bindAttachment(B,oe){B.href=this.linkService.getAnchorUrl(""),B.onclick=()=>{var q;return(q=this.downloadManager)==null||q.openOrDownloadData(this.container,oe.content,oe.filename),!1},Re(this,W,Ua).call(this)}_bindJSAction(B,oe){B.href=this.linkService.getAnchorUrl("");const q=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const he of Object.keys(oe.actions)){const be=q.get(he);be&&(B[be]=()=>{var Ee;return(Ee=this.linkService.eventBus)==null||Ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:oe.id,name:he}}),!1})}B.onclick||(B.onclick=()=>!1),Re(this,W,Ua).call(this)}_bindResetFormAction(B,oe){const q=B.onclick;if(q||(B.href=this.linkService.getAnchorUrl("")),Re(this,W,Ua).call(this),!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),q||(B.onclick=()=>!1);return}B.onclick=()=>{var wt;q==null||q();const{fields:he,refs:be,include:Ee}=oe,Ze=[];if(he.length!==0||be.length!==0){const xt=new Set(be);for(const dt of he){const Rt=this._fieldObjects[dt]||[];for(const{id:zt}of Rt)xt.add(zt)}for(const dt of Object.values(this._fieldObjects))for(const Rt of dt)xt.has(Rt.id)===Ee&&Ze.push(Rt)}else for(const xt of Object.values(this._fieldObjects))Ze.push(...xt);const rt=this.annotationStorage,at=[];for(const xt of Ze){const{id:dt}=xt;switch(at.push(dt),xt.type){case"text":{const zt=xt.defaultValue||"";rt.setValue(dt,{value:zt});break}case"checkbox":case"radiobutton":{const zt=xt.defaultValue===xt.exportValues;rt.setValue(dt,{value:zt});break}case"combobox":case"listbox":{const zt=xt.defaultValue||"";rt.setValue(dt,{value:zt});break}default:continue}const Rt=document.querySelector(`[data-element-id="${dt}"]`);if(Rt){if(!x.has(Rt)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${dt}`);continue}}else continue;Rt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((wt=this.linkService.eventBus)==null||wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:at,name:"ResetForm"}})),!1}}}W=new WeakSet,Ua=function(){this.container.setAttribute("data-internal-link","")},le=new WeakSet,G0=function(B,oe){B.href=this.linkService.getAnchorUrl(""),B.onclick=()=>(this.linkService.executeSetOCGState(oe),!1),Re(this,W,Ua).call(this)};class $ extends R{constructor(ye){super(ye,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const ye=document.createElement("img");return ye.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ye.alt="[{{type}} Annotation]",ye.dataset.l10nId="text_annotation_type",ye.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(ye),this.container}}class V extends R{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(ye){var B;this.data.hasOwnCanvas&&(((B=ye.previousSibling)==null?void 0:B.nodeName)==="CANVAS"&&(ye.previousSibling.hidden=!0),ye.hidden=!1)}_getKeyModifier(ye){const{isWin:B,isMac:oe}=r.FeatureTest.platform;return B&&ye.ctrlKey||oe&&ye.metaKey}_setEventListener(ye,B,oe,q,he){oe.includes("mouse")?ye.addEventListener(oe,be=>{var Ee;(Ee=this.linkService.eventBus)==null||Ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:q,value:he(be),shift:be.shiftKey,modifier:this._getKeyModifier(be)}})}):ye.addEventListener(oe,be=>{var Ee;if(oe==="blur"){if(!B.focused||!be.relatedTarget)return;B.focused=!1}else if(oe==="focus"){if(B.focused)return;B.focused=!0}he&&((Ee=this.linkService.eventBus)==null||Ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:q,value:he(be)}}))})}_setEventListeners(ye,B,oe,q){var he,be,Ee;for(const[Ze,rt]of oe)(rt==="Action"||(he=this.data.actions)!=null&&he[rt])&&((rt==="Focus"||rt==="Blur")&&(B||(B={focused:!1})),this._setEventListener(ye,B,Ze,rt,q),rt==="Focus"&&!((be=this.data.actions)!=null&&be.Blur)?this._setEventListener(ye,B,"blur","Blur",null):rt==="Blur"&&!((Ee=this.data.actions)!=null&&Ee.Focus)&&this._setEventListener(ye,B,"focus","Focus",null))}_setBackgroundColor(ye){const B=this.data.backgroundColor||null;ye.style.backgroundColor=B===null?"transparent":r.Util.makeHexColor(B[0],B[1],B[2])}_setTextStyle(ye){const B=["left","center","right"],{fontColor:oe}=this.data.defaultAppearanceData,q=this.data.defaultAppearanceData.fontSize||g,he=ye.style;let be;const Ee=2,Ze=rt=>Math.round(10*rt)/10;if(this.data.multiLine){const rt=Math.abs(this.data.rect[3]-this.data.rect[1]-Ee),at=Math.round(rt/(r.LINE_FACTOR*q))||1,wt=rt/at;be=Math.min(q,Ze(wt/r.LINE_FACTOR))}else{const rt=Math.abs(this.data.rect[3]-this.data.rect[1]-Ee);be=Math.min(q,Ze(rt/r.LINE_FACTOR))}he.fontSize=`calc(${be}px * var(--scale-factor))`,he.color=r.Util.makeHexColor(oe[0],oe[1],oe[2]),this.data.textAlignment!==null&&(he.textAlign=B[this.data.textAlignment])}_setRequired(ye,B){B?ye.setAttribute("required",!0):ye.removeAttribute("required"),ye.setAttribute("aria-required",B)}}class X extends V{constructor(ye){const B=ye.renderForms||!ye.data.hasAppearance&&!!ye.data.fieldValue;super(ye,{isRenderable:B})}setPropertyOnSiblings(ye,B,oe,q){const he=this.annotationStorage;for(const be of this._getElementsByName(ye.name,ye.id))be.domElement&&(be.domElement[B]=oe),he.setValue(be.id,{[q]:oe})}render(){var q,he;const ye=this.annotationStorage,B=this.data.id;this.container.classList.add("textWidgetAnnotation");let oe=null;if(this.renderForms){const be=ye.getValue(B,{value:this.data.fieldValue});let Ee=be.value||"";const Ze=ye.getValue(B,{charLimit:this.data.maxLen}).charLimit;Ze&&Ee.length>Ze&&(Ee=Ee.slice(0,Ze));let rt=be.formattedValue||((q=this.data.textContent)==null?void 0:q.join(`
`))||null;rt&&this.data.comb&&(rt=rt.replaceAll(/\s+/g,""));const at={userValue:Ee,formattedValue:rt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(oe=document.createElement("textarea"),oe.textContent=rt??Ee,this.data.doNotScroll&&(oe.style.overflowY="hidden")):(oe=document.createElement("input"),oe.type="text",oe.setAttribute("value",rt??Ee),this.data.doNotScroll&&(oe.style.overflowX="hidden")),this.data.hasOwnCanvas&&(oe.hidden=!0),x.add(oe),oe.setAttribute("data-element-id",B),oe.disabled=this.data.readOnly,oe.name=this.data.fieldName,oe.tabIndex=O,this._setRequired(oe,this.data.required),Ze&&(oe.maxLength=Ze),oe.addEventListener("input",xt=>{ye.setValue(B,{value:xt.target.value}),this.setPropertyOnSiblings(oe,"value",xt.target.value,"value"),at.formattedValue=null}),oe.addEventListener("resetform",xt=>{const dt=this.data.defaultFieldValue??"";oe.value=at.userValue=dt,at.formattedValue=null});let wt=xt=>{const{formattedValue:dt}=at;dt!=null&&(xt.target.value=dt),xt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){oe.addEventListener("focus",dt=>{if(at.focused)return;const{target:Rt}=dt;at.userValue&&(Rt.value=at.userValue),at.lastCommittedValue=Rt.value,at.commitKey=1,at.focused=!0}),oe.addEventListener("updatefromsandbox",dt=>{this.showElementAndHideCanvas(dt.target);const Rt={value(zt){at.userValue=zt.detail.value??"",ye.setValue(B,{value:at.userValue.toString()}),zt.target.value=at.userValue},formattedValue(zt){const{formattedValue:Jt}=zt.detail;at.formattedValue=Jt,Jt!=null&&zt.target!==document.activeElement&&(zt.target.value=Jt),ye.setValue(B,{formattedValue:Jt})},selRange(zt){zt.target.setSelectionRange(...zt.detail.selRange)},charLimit:zt=>{var En;const{charLimit:Jt}=zt.detail,{target:an}=zt;if(Jt===0){an.removeAttribute("maxLength");return}an.setAttribute("maxLength",Jt);let vn=at.userValue;!vn||vn.length<=Jt||(vn=vn.slice(0,Jt),an.value=at.userValue=vn,ye.setValue(B,{value:vn}),(En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B,name:"Keystroke",value:vn,willCommit:!0,commitKey:1,selStart:an.selectionStart,selEnd:an.selectionEnd}}))}};this._dispatchEventFromSandbox(Rt,dt)}),oe.addEventListener("keydown",dt=>{var Jt;at.commitKey=1;let Rt=-1;if(dt.key==="Escape"?Rt=0:dt.key==="Enter"&&!this.data.multiLine?Rt=2:dt.key==="Tab"&&(at.commitKey=3),Rt===-1)return;const{value:zt}=dt.target;at.lastCommittedValue!==zt&&(at.lastCommittedValue=zt,at.userValue=zt,(Jt=this.linkService.eventBus)==null||Jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B,name:"Keystroke",value:zt,willCommit:!0,commitKey:Rt,selStart:dt.target.selectionStart,selEnd:dt.target.selectionEnd}}))});const xt=wt;wt=null,oe.addEventListener("blur",dt=>{var zt;if(!at.focused||!dt.relatedTarget)return;at.focused=!1;const{value:Rt}=dt.target;at.userValue=Rt,at.lastCommittedValue!==Rt&&((zt=this.linkService.eventBus)==null||zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B,name:"Keystroke",value:Rt,willCommit:!0,commitKey:at.commitKey,selStart:dt.target.selectionStart,selEnd:dt.target.selectionEnd}})),xt(dt)}),(he=this.data.actions)!=null&&he.Keystroke&&oe.addEventListener("beforeinput",dt=>{var Cr;at.lastCommittedValue=null;const{data:Rt,target:zt}=dt,{value:Jt,selectionStart:an,selectionEnd:vn}=zt;let En=an,Nn=vn;switch(dt.inputType){case"deleteWordBackward":{const Hn=Jt.substring(0,an).match(/\w*[^\w]*$/);Hn&&(En-=Hn[0].length);break}case"deleteWordForward":{const Hn=Jt.substring(an).match(/^[^\w]*\w*/);Hn&&(Nn+=Hn[0].length);break}case"deleteContentBackward":an===vn&&(En-=1);break;case"deleteContentForward":an===vn&&(Nn+=1);break}dt.preventDefault(),(Cr=this.linkService.eventBus)==null||Cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B,name:"Keystroke",value:Jt,change:Rt||"",willCommit:!1,selStart:En,selEnd:Nn}})}),this._setEventListeners(oe,at,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],dt=>dt.target.value)}if(wt&&oe.addEventListener("blur",wt),this.data.comb){const dt=(this.data.rect[2]-this.data.rect[0])/Ze;oe.classList.add("comb"),oe.style.letterSpacing=`calc(${dt}px * var(--scale-factor) - 1ch)`}}else oe=document.createElement("div"),oe.textContent=this.data.fieldValue,oe.style.verticalAlign="middle",oe.style.display="table-cell";return this._setTextStyle(oe),this._setBackgroundColor(oe),this._setDefaultPropertiesFromJS(oe),this.container.append(oe),this.container}}class Y extends V{constructor(ye){super(ye,{isRenderable:!!ye.data.hasOwnCanvas})}}class G extends V{constructor(ye){super(ye,{isRenderable:ye.renderForms})}render(){const ye=this.annotationStorage,B=this.data,oe=B.id;let q=ye.getValue(oe,{value:B.exportValue===B.fieldValue}).value;typeof q=="string"&&(q=q!=="Off",ye.setValue(oe,{value:q})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const he=document.createElement("input");return x.add(he),he.setAttribute("data-element-id",oe),he.disabled=B.readOnly,this._setRequired(he,this.data.required),he.type="checkbox",he.name=B.fieldName,q&&he.setAttribute("checked",!0),he.setAttribute("exportValue",B.exportValue),he.tabIndex=O,he.addEventListener("change",be=>{const{name:Ee,checked:Ze}=be.target;for(const rt of this._getElementsByName(Ee,oe)){const at=Ze&&rt.exportValue===B.exportValue;rt.domElement&&(rt.domElement.checked=at),ye.setValue(rt.id,{value:at})}ye.setValue(oe,{value:Ze})}),he.addEventListener("resetform",be=>{const Ee=B.defaultFieldValue||"Off";be.target.checked=Ee===B.exportValue}),this.enableScripting&&this.hasJSActions&&(he.addEventListener("updatefromsandbox",be=>{const Ee={value(Ze){Ze.target.checked=Ze.detail.value!=="Off",ye.setValue(oe,{value:Ze.target.checked})}};this._dispatchEventFromSandbox(Ee,be)}),this._setEventListeners(he,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],be=>be.target.checked)),this._setBackgroundColor(he),this._setDefaultPropertiesFromJS(he),this.container.append(he),this.container}}class L extends V{constructor(ye){super(ye,{isRenderable:ye.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const ye=this.annotationStorage,B=this.data,oe=B.id;let q=ye.getValue(oe,{value:B.fieldValue===B.buttonValue}).value;typeof q=="string"&&(q=q!==B.buttonValue,ye.setValue(oe,{value:q}));const he=document.createElement("input");if(x.add(he),he.setAttribute("data-element-id",oe),he.disabled=B.readOnly,this._setRequired(he,this.data.required),he.type="radio",he.name=B.fieldName,q&&he.setAttribute("checked",!0),he.tabIndex=O,he.addEventListener("change",be=>{const{name:Ee,checked:Ze}=be.target;for(const rt of this._getElementsByName(Ee,oe))ye.setValue(rt.id,{value:!1});ye.setValue(oe,{value:Ze})}),he.addEventListener("resetform",be=>{const Ee=B.defaultFieldValue;be.target.checked=Ee!=null&&Ee===B.buttonValue}),this.enableScripting&&this.hasJSActions){const be=B.buttonValue;he.addEventListener("updatefromsandbox",Ee=>{const Ze={value:rt=>{const at=be===rt.detail.value;for(const wt of this._getElementsByName(rt.target.name)){const xt=at&&wt.id===oe;wt.domElement&&(wt.domElement.checked=xt),ye.setValue(wt.id,{value:xt})}}};this._dispatchEventFromSandbox(Ze,Ee)}),this._setEventListeners(he,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ee=>Ee.target.checked)}return this._setBackgroundColor(he),this._setDefaultPropertiesFromJS(he),this.container.append(he),this.container}}class I extends M{constructor(ye){super(ye,{ignoreBorder:ye.data.hasAppearance})}render(){const ye=super.render();ye.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(ye.title=this.data.alternativeText);const B=ye.lastChild;return this.enableScripting&&this.hasJSActions&&B&&(this._setDefaultPropertiesFromJS(B),B.addEventListener("updatefromsandbox",oe=>{this._dispatchEventFromSandbox({},oe)})),ye}}class ee extends V{constructor(ye){super(ye,{isRenderable:ye.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const ye=this.annotationStorage,B=this.data.id,oe=ye.getValue(B,{value:this.data.fieldValue}),q=document.createElement("select");x.add(q),q.setAttribute("data-element-id",B),q.disabled=this.data.readOnly,this._setRequired(q,this.data.required),q.name=this.data.fieldName,q.tabIndex=O;let he=this.data.combo&&this.data.options.length>0;this.data.combo||(q.size=this.data.options.length,this.data.multiSelect&&(q.multiple=!0)),q.addEventListener("resetform",at=>{const wt=this.data.defaultFieldValue;for(const xt of q.options)xt.selected=xt.value===wt});for(const at of this.data.options){const wt=document.createElement("option");wt.textContent=at.displayValue,wt.value=at.exportValue,oe.value.includes(at.exportValue)&&(wt.setAttribute("selected",!0),he=!1),q.append(wt)}let be=null;if(he){const at=document.createElement("option");at.value=" ",at.setAttribute("hidden",!0),at.setAttribute("selected",!0),q.prepend(at),be=()=>{at.remove(),q.removeEventListener("input",be),be=null},q.addEventListener("input",be)}const Ee=at=>{const wt=at?"value":"textContent",{options:xt,multiple:dt}=q;return dt?Array.prototype.filter.call(xt,Rt=>Rt.selected).map(Rt=>Rt[wt]):xt.selectedIndex===-1?null:xt[xt.selectedIndex][wt]};let Ze=Ee(!1);const rt=at=>{const wt=at.target.options;return Array.prototype.map.call(wt,xt=>({displayValue:xt.textContent,exportValue:xt.value}))};return this.enableScripting&&this.hasJSActions?(q.addEventListener("updatefromsandbox",at=>{const wt={value(xt){be==null||be();const dt=xt.detail.value,Rt=new Set(Array.isArray(dt)?dt:[dt]);for(const zt of q.options)zt.selected=Rt.has(zt.value);ye.setValue(B,{value:Ee(!0)}),Ze=Ee(!1)},multipleSelection(xt){q.multiple=!0},remove(xt){const dt=q.options,Rt=xt.detail.remove;dt[Rt].selected=!1,q.remove(Rt),dt.length>0&&Array.prototype.findIndex.call(dt,Jt=>Jt.selected)===-1&&(dt[0].selected=!0),ye.setValue(B,{value:Ee(!0),items:rt(xt)}),Ze=Ee(!1)},clear(xt){for(;q.length!==0;)q.remove(0);ye.setValue(B,{value:null,items:[]}),Ze=Ee(!1)},insert(xt){const{index:dt,displayValue:Rt,exportValue:zt}=xt.detail.insert,Jt=q.children[dt],an=document.createElement("option");an.textContent=Rt,an.value=zt,Jt?Jt.before(an):q.append(an),ye.setValue(B,{value:Ee(!0),items:rt(xt)}),Ze=Ee(!1)},items(xt){const{items:dt}=xt.detail;for(;q.length!==0;)q.remove(0);for(const Rt of dt){const{displayValue:zt,exportValue:Jt}=Rt,an=document.createElement("option");an.textContent=zt,an.value=Jt,q.append(an)}q.options.length>0&&(q.options[0].selected=!0),ye.setValue(B,{value:Ee(!0),items:rt(xt)}),Ze=Ee(!1)},indices(xt){const dt=new Set(xt.detail.indices);for(const Rt of xt.target.options)Rt.selected=dt.has(Rt.index);ye.setValue(B,{value:Ee(!0)}),Ze=Ee(!1)},editable(xt){xt.target.disabled=!xt.detail.editable}};this._dispatchEventFromSandbox(wt,at)}),q.addEventListener("input",at=>{var xt;const wt=Ee(!0);ye.setValue(B,{value:wt}),at.preventDefault(),(xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B,name:"Keystroke",value:Ze,changeEx:wt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(q,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],at=>at.target.value)):q.addEventListener("input",function(at){ye.setValue(B,{value:Ee(!0)})}),this.data.combo&&this._setTextStyle(q),this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class ne extends R{constructor(ye){const{data:B,elements:oe}=ye;super(ye,{isRenderable:R._hasPopupData(B)}),this.elements=oe}render(){this.container.classList.add("popupAnnotation");const ye=new z({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),B=[];for(const oe of this.elements)oe.popup=ye,B.push(oe.data.id),oe.addHighlightArea();return this.container.setAttribute("aria-controls",B.map(oe=>`${r.AnnotationPrefix}${oe}`).join(",")),this.container}}class z{constructor({container:ye,color:B,elements:oe,titleObj:q,modificationDate:he,contentsObj:be,richText:Ee,parent:Ze,rect:rt,parentRect:at,open:wt}){ke(this,It);ke(this,Bt);ke(this,St);ke(this,Lt);ke(this,xe,null);ke(this,$e,Re(this,It,K0).bind(this));ke(this,_e,Re(this,Lt,bg).bind(this));ke(this,Be,Re(this,St,yg).bind(this));ke(this,Ue,Re(this,Bt,Ih).bind(this));ke(this,ot,null);ke(this,qe,null);ke(this,Ct,null);ke(this,Nt,null);ke(this,gt,null);ke(this,Pt,null);ke(this,tt,!1);ke(this,De,null);ke(this,Me,null);ke(this,We,null);ke(this,bt,null);ke(this,ht,!1);var dt;Ie(this,qe,ye),Ie(this,bt,q),Ie(this,Ct,be),Ie(this,We,Ee),Ie(this,gt,Ze),Ie(this,ot,B),Ie(this,Me,rt),Ie(this,Pt,at),Ie(this,Nt,oe);const xt=a.PDFDateString.toDateObject(he);xt&&Ie(this,xe,Ze.l10n.get("annotation_date_string",{date:xt.toLocaleDateString(),time:xt.toLocaleTimeString()})),this.trigger=oe.flatMap(Rt=>Rt.getElementsToTriggerPopup());for(const Rt of this.trigger)Rt.addEventListener("click",N(this,Ue)),Rt.addEventListener("mouseenter",N(this,Be)),Rt.addEventListener("mouseleave",N(this,_e)),Rt.classList.add("popupTriggerArea");for(const Rt of oe)(dt=Rt.container)==null||dt.addEventListener("keydown",N(this,$e));N(this,qe).hidden=!0,wt&&Re(this,Bt,Ih).call(this)}render(){if(N(this,De))return;const{page:{view:ye},viewport:{rawDims:{pageWidth:B,pageHeight:oe,pageX:q,pageY:he}}}=N(this,gt),be=Ie(this,De,document.createElement("div"));if(be.className="popup",N(this,ot)){const En=be.style.outlineColor=r.Util.makeHexColor(...N(this,ot));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?be.style.backgroundColor=`color-mix(in srgb, ${En} 30%, white)`:be.style.backgroundColor=r.Util.makeHexColor(...N(this,ot).map(Cr=>Math.floor(.7*(255-Cr)+Cr)))}const Ee=document.createElement("span");Ee.className="header";const Ze=document.createElement("h1");if(Ee.append(Ze),{dir:Ze.dir,str:Ze.textContent}=N(this,bt),be.append(Ee),N(this,xe)){const En=document.createElement("span");En.classList.add("popupDate"),N(this,xe).then(Nn=>{En.textContent=Nn}),Ee.append(En)}const rt=N(this,Ct),at=N(this,We);if(at!=null&&at.str&&(!(rt!=null&&rt.str)||rt.str===at.str))d.XfaLayer.render({xfaHtml:at.html,intent:"richText",div:be}),be.lastChild.classList.add("richText","popupContent");else{const En=this._formatContents(rt);be.append(En)}let wt=!!N(this,Pt),xt=wt?N(this,Pt):N(this,Me);for(const En of N(this,Nt))if(!xt||r.Util.intersect(En.data.rect,xt)!==null){xt=En.data.rect,wt=!0;break}const dt=r.Util.normalizeRect([xt[0],ye[3]-xt[1]+ye[1],xt[2],ye[3]-xt[3]+ye[1]]),Rt=5,zt=wt?xt[2]-xt[0]+Rt:0,Jt=dt[0]+zt,an=dt[1],{style:vn}=N(this,qe);vn.left=`${100*(Jt-q)/B}%`,vn.top=`${100*(an-he)/oe}%`,N(this,qe).append(be)}_formatContents({str:ye,dir:B}){const oe=document.createElement("p");oe.classList.add("popupContent"),oe.dir=B;const q=ye.split(/(?:\r\n?|\n)/);for(let he=0,be=q.length;he<be;++he){const Ee=q[he];oe.append(document.createTextNode(Ee)),he<be-1&&oe.append(document.createElement("br"))}return oe}forceHide(){Ie(this,ht,this.isVisible),N(this,ht)&&(N(this,qe).hidden=!0)}maybeShow(){N(this,ht)&&(Ie(this,ht,!1),N(this,qe).hidden=!1)}get isVisible(){return N(this,qe).hidden===!1}}xe=new WeakMap,$e=new WeakMap,_e=new WeakMap,Be=new WeakMap,Ue=new WeakMap,ot=new WeakMap,qe=new WeakMap,Ct=new WeakMap,Nt=new WeakMap,gt=new WeakMap,Pt=new WeakMap,tt=new WeakMap,De=new WeakMap,Me=new WeakMap,We=new WeakMap,bt=new WeakMap,ht=new WeakMap,It=new WeakSet,K0=function(ye){ye.altKey||ye.shiftKey||ye.ctrlKey||ye.metaKey||(ye.key==="Enter"||ye.key==="Escape"&&N(this,tt))&&Re(this,Bt,Ih).call(this)},Bt=new WeakSet,Ih=function(){Ie(this,tt,!N(this,tt)),N(this,tt)?(Re(this,St,yg).call(this),N(this,qe).addEventListener("click",N(this,Ue)),N(this,qe).addEventListener("keydown",N(this,$e))):(Re(this,Lt,bg).call(this),N(this,qe).removeEventListener("click",N(this,Ue)),N(this,qe).removeEventListener("keydown",N(this,$e)))},St=new WeakSet,yg=function(){N(this,De)||this.render(),this.isVisible?N(this,tt)&&N(this,qe).classList.add("focused"):(N(this,qe).hidden=!1,N(this,qe).style.zIndex=parseInt(N(this,qe).style.zIndex)+1e3)},Lt=new WeakSet,bg=function(){N(this,qe).classList.remove("focused"),!(N(this,tt)||!this.isVisible)&&(N(this,qe).hidden=!0,N(this,qe).style.zIndex=parseInt(N(this,qe).style.zIndex)-1e3)};class ae extends R{constructor(ye){super(ye,{isRenderable:!0,ignoreBorder:!0}),this.textContent=ye.data.textContent,this.textPosition=ye.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const ye=document.createElement("div");ye.classList.add("annotationTextContent"),ye.setAttribute("role","comment");for(const B of this.textContent){const oe=document.createElement("span");oe.textContent=B,ye.append(oe)}this.container.append(ye)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=ae;class H extends R{constructor(B){super(B,{isRenderable:!0,ignoreBorder:!0});ke(this,Te,null)}render(){this.container.classList.add("lineAnnotation");const B=this.data,{width:oe,height:q}=T(B.rect),he=this.svgFactory.create(oe,q,!0),be=Ie(this,Te,this.svgFactory.createElement("svg:line"));return be.setAttribute("x1",B.rect[2]-B.lineCoordinates[0]),be.setAttribute("y1",B.rect[3]-B.lineCoordinates[1]),be.setAttribute("x2",B.rect[2]-B.lineCoordinates[2]),be.setAttribute("y2",B.rect[3]-B.lineCoordinates[3]),be.setAttribute("stroke-width",B.borderStyle.width||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),he.append(be),this.container.append(he),!B.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return N(this,Te)}addHighlightArea(){this.container.classList.add("highlightArea")}}Te=new WeakMap;class fe extends R{constructor(B){super(B,{isRenderable:!0,ignoreBorder:!0});ke(this,we,null)}render(){this.container.classList.add("squareAnnotation");const B=this.data,{width:oe,height:q}=T(B.rect),he=this.svgFactory.create(oe,q,!0),be=B.borderStyle.width,Ee=Ie(this,we,this.svgFactory.createElement("svg:rect"));return Ee.setAttribute("x",be/2),Ee.setAttribute("y",be/2),Ee.setAttribute("width",oe-be),Ee.setAttribute("height",q-be),Ee.setAttribute("stroke-width",be||1),Ee.setAttribute("stroke","transparent"),Ee.setAttribute("fill","transparent"),he.append(Ee),this.container.append(he),!B.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return N(this,we)}addHighlightArea(){this.container.classList.add("highlightArea")}}we=new WeakMap;class me extends R{constructor(B){super(B,{isRenderable:!0,ignoreBorder:!0});ke(this,Je,null)}render(){this.container.classList.add("circleAnnotation");const B=this.data,{width:oe,height:q}=T(B.rect),he=this.svgFactory.create(oe,q,!0),be=B.borderStyle.width,Ee=Ie(this,Je,this.svgFactory.createElement("svg:ellipse"));return Ee.setAttribute("cx",oe/2),Ee.setAttribute("cy",q/2),Ee.setAttribute("rx",oe/2-be/2),Ee.setAttribute("ry",q/2-be/2),Ee.setAttribute("stroke-width",be||1),Ee.setAttribute("stroke","transparent"),Ee.setAttribute("fill","transparent"),he.append(Ee),this.container.append(he),!B.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return N(this,Je)}addHighlightArea(){this.container.classList.add("highlightArea")}}Je=new WeakMap;class se extends R{constructor(B){super(B,{isRenderable:!0,ignoreBorder:!0});ke(this,Ge,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const B=this.data,{width:oe,height:q}=T(B.rect),he=this.svgFactory.create(oe,q,!0);let be=[];for(const Ze of B.vertices){const rt=Ze.x-B.rect[0],at=B.rect[3]-Ze.y;be.push(rt+","+at)}be=be.join(" ");const Ee=Ie(this,Ge,this.svgFactory.createElement(this.svgElementName));return Ee.setAttribute("points",be),Ee.setAttribute("stroke-width",B.borderStyle.width||1),Ee.setAttribute("stroke","transparent"),Ee.setAttribute("fill","transparent"),he.append(Ee),this.container.append(he),!B.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return N(this,Ge)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ge=new WeakMap;class Se extends se{constructor(ye){super(ye),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ae extends R{constructor(ye){super(ye,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Pe extends R{constructor(B){super(B,{isRenderable:!0,ignoreBorder:!0});ke(this,nn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const B=this.data,{width:oe,height:q}=T(B.rect),he=this.svgFactory.create(oe,q,!0);for(const be of B.inkLists){let Ee=[];for(const rt of be){const at=rt.x-B.rect[0],wt=B.rect[3]-rt.y;Ee.push(`${at},${wt}`)}Ee=Ee.join(" ");const Ze=this.svgFactory.createElement(this.svgElementName);N(this,nn).push(Ze),Ze.setAttribute("points",Ee),Ze.setAttribute("stroke-width",B.borderStyle.width||1),Ze.setAttribute("stroke","transparent"),Ze.setAttribute("fill","transparent"),!B.popupRef&&this.hasPopupData&&this._createPopup(),he.append(Ze)}return this.container.append(he),this.container}getElementsToTriggerPopup(){return N(this,nn)}addHighlightArea(){this.container.classList.add("highlightArea")}}nn=new WeakMap,e.InkAnnotationElement=Pe;class de extends R{constructor(ye){super(ye,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Fe extends R{constructor(ye){super(ye,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ke extends R{constructor(ye){super(ye,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ct extends R{constructor(ye){super(ye,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class it extends R{constructor(ye){super(ye,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=it;class te extends R{constructor(B){var he;super(B,{isRenderable:!0});ke(this,Ce);ke(this,Ht,null);const{filename:oe,content:q}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(oe,!0),this.content=q,(he=this.linkService.eventBus)==null||he.dispatch("fileattachmentannotation",{source:this,filename:oe,content:q})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:B,data:oe}=this;let q;oe.hasAppearance||oe.fillAlpha===0?q=document.createElement("div"):(q=document.createElement("img"),q.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(oe.name)?"paperclip":"pushpin"}.svg`,oe.fillAlpha&&oe.fillAlpha<1&&(q.style=`filter: opacity(${Math.round(oe.fillAlpha*100)}%);`)),q.addEventListener("dblclick",Re(this,Ce,Sg).bind(this)),Ie(this,Ht,q);const{isMac:he}=r.FeatureTest.platform;return B.addEventListener("keydown",be=>{be.key==="Enter"&&(he?be.metaKey:be.ctrlKey)&&Re(this,Ce,Sg).call(this)}),!oe.popupRef&&this.hasPopupData?this._createPopup():q.classList.add("popupTriggerArea"),B.append(q),B}getElementsToTriggerPopup(){return N(this,Ht)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ht=new WeakMap,Ce=new WeakSet,Sg=function(){var B;(B=this.downloadManager)==null||B.openOrDownloadData(this.container,this.content,this.filename)};class D{constructor({div:ye,accessibilityManager:B,annotationCanvasMap:oe,l10n:q,page:he,viewport:be}){ke(this,jt);ke(this,ft);ke(this,Qt,null);ke(this,kt,null);ke(this,$t,new Map);this.div=ye,Ie(this,Qt,B),Ie(this,kt,oe),this.l10n=q,this.page=he,this.viewport=be,this.zIndex=0,this.l10n||(this.l10n=f.NullL10n)}async render(ye){const{annotations:B}=ye,oe=this.div;(0,a.setLayerDimensions)(oe,this.viewport);const q=new Map,he={data:null,layer:oe,linkService:ye.linkService,downloadManager:ye.downloadManager,imageResourcesPath:ye.imageResourcesPath||"",renderForms:ye.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:ye.annotationStorage||new c.AnnotationStorage,enableScripting:ye.enableScripting===!0,hasJSActions:ye.hasJSActions,fieldObjects:ye.fieldObjects,parent:this,elements:null};for(const be of B){if(be.noHTML)continue;const Ee=be.annotationType===r.AnnotationType.POPUP;if(Ee){const at=q.get(be.id);if(!at)continue;he.elements=at}else{const{width:at,height:wt}=T(be.rect);if(at<=0||wt<=0)continue}he.data=be;const Ze=E.create(he);if(!Ze.isRenderable)continue;if(!Ee&&be.popupRef){const at=q.get(be.popupRef);at?at.push(Ze):q.set(be.popupRef,[Ze])}Ze.annotationEditorType>0&&N(this,$t).set(Ze.data.id,Ze);const rt=Ze.render();be.hidden&&(rt.style.visibility="hidden"),Re(this,jt,J0).call(this,rt,be.id)}Re(this,ft,xg).call(this),await this.l10n.translate(oe)}update({viewport:ye}){const B=this.div;this.viewport=ye,(0,a.setLayerDimensions)(B,{rotation:ye.rotation}),Re(this,ft,xg).call(this),B.hidden=!1}getEditableAnnotations(){return Array.from(N(this,$t).values())}getEditableAnnotation(ye){return N(this,$t).get(ye)}}Qt=new WeakMap,kt=new WeakMap,$t=new WeakMap,jt=new WeakSet,J0=function(ye,B){var q;const oe=ye.firstChild||ye;oe.id=`${r.AnnotationPrefix}${B}`,this.div.append(ye),(q=N(this,Qt))==null||q.moveElementInDOM(this.div,ye,oe,!1)},ft=new WeakSet,xg=function(){if(!N(this,kt))return;const ye=this.div;for(const[B,oe]of N(this,kt)){const q=ye.querySelector(`[data-annotation-id="${B}"]`);if(!q)continue;const{firstChild:he}=q;he?he.nodeName==="CANVAS"?he.replaceWith(oe):he.before(oe):q.append(oe)}N(this,kt).clear()},e.AnnotationLayer=D},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function n(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function r(c){return Math.max(0,Math.min(255,255*c))}class a{static CMYK_G([u,f,d,O]){return["G",1-Math.min(1,.3*u+.59*d+.11*f+O)]}static G_CMYK([u]){return["CMYK",0,0,0,1-u]}static G_RGB([u]){return["RGB",u,u,u]}static G_rgb([u]){return u=r(u),[u,u,u]}static G_HTML([u]){const f=n(u);return`#${f}${f}${f}`}static RGB_G([u,f,d]){return["G",.3*u+.59*f+.11*d]}static RGB_rgb(u){return u.map(r)}static RGB_HTML(u){return`#${u.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([u,f,d,O]){return["RGB",1-Math.min(1,u+O),1-Math.min(1,d+O),1-Math.min(1,f+O)]}static CMYK_rgb([u,f,d,O]){return[r(1-Math.min(1,u+O)),r(1-Math.min(1,d+O)),r(1-Math.min(1,f+O))]}static CMYK_HTML(u){const f=this.CMYK_RGB(u).slice(1);return this.RGB_HTML(f)}static RGB_CMYK([u,f,d]){const O=1-u,g=1-f,x=1-d,T=Math.min(O,g,x);return["CMYK",O,g,x,T]}}e.ColorConverters=a},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=r;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};n.print_progress_percent="{{progress}}%";function r(u,f){switch(u){case"find_match_count":u=`find_match_count[${f.total===1?"one":"other"}]`;break;case"find_match_count_limit":u=`find_match_count_limit[${f.limit===1?"one":"other"}]`;break}return n[u]||""}function a(u,f){return f?u.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(d,O)=>O in f?f[O]:"{{"+O+"}}"):u}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(u,f=null,d=r(u,f)){return a(d,f)},async translate(u){}};e.NullL10n=c},(s,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var r=n(25);class a{static setupStorage(u,f,d,O,g){const x=O.getValue(f,{value:null});switch(d.name){case"textarea":if(x.value!==null&&(u.textContent=x.value),g==="print")break;u.addEventListener("input",T=>{O.setValue(f,{value:T.target.value})});break;case"input":if(d.attributes.type==="radio"||d.attributes.type==="checkbox"){if(x.value===d.attributes.xfaOn?u.setAttribute("checked",!0):x.value===d.attributes.xfaOff&&u.removeAttribute("checked"),g==="print")break;u.addEventListener("change",T=>{O.setValue(f,{value:T.target.checked?T.target.getAttribute("xfaOn"):T.target.getAttribute("xfaOff")})})}else{if(x.value!==null&&u.setAttribute("value",x.value),g==="print")break;u.addEventListener("input",T=>{O.setValue(f,{value:T.target.value})})}break;case"select":if(x.value!==null){u.setAttribute("value",x.value);for(const T of d.children)T.attributes.value===x.value?T.attributes.selected=!0:T.attributes.hasOwnProperty("selected")&&delete T.attributes.selected}u.addEventListener("input",T=>{const E=T.target.options,R=E.selectedIndex===-1?"":E[E.selectedIndex].value;O.setValue(f,{value:R})});break}}static setAttributes({html:u,element:f,storage:d=null,intent:O,linkService:g}){const{attributes:x}=f,T=u instanceof HTMLAnchorElement;x.type==="radio"&&(x.name=`${x.name}-${O}`);for(const[E,R]of Object.entries(x))if(R!=null)switch(E){case"class":R.length&&u.setAttribute(E,R.join(" "));break;case"dataId":break;case"id":u.setAttribute("data-element-id",R);break;case"style":Object.assign(u.style,R);break;case"textContent":u.textContent=R;break;default:(!T||E!=="href"&&E!=="newWindow")&&u.setAttribute(E,R)}T&&g.addLinkAttributes(u,x.href,x.newWindow),d&&x.dataId&&this.setupStorage(u,x.dataId,f,d)}static render(u){var M;const f=u.annotationStorage,d=u.linkService,O=u.xfaHtml,g=u.intent||"display",x=document.createElement(O.name);O.attributes&&this.setAttributes({html:x,element:O,intent:g,linkService:d});const T=[[O,-1,x]],E=u.div;if(E.append(x),u.viewport){const $=`matrix(${u.viewport.transform.join(",")})`;E.style.transform=$}g!=="richText"&&E.setAttribute("class","xfaLayer xfaFont");const R=[];for(;T.length>0;){const[$,V,X]=T.at(-1);if(V+1===$.children.length){T.pop();continue}const Y=$.children[++T.at(-1)[1]];if(Y===null)continue;const{name:G}=Y;if(G==="#text"){const I=document.createTextNode(Y.value);R.push(I),X.append(I);continue}const L=(M=Y==null?void 0:Y.attributes)!=null&&M.xmlns?document.createElementNS(Y.attributes.xmlns,G):document.createElement(G);if(X.append(L),Y.attributes&&this.setAttributes({html:L,element:Y,storage:f,intent:g,linkService:d}),Y.children&&Y.children.length>0)T.push([Y,-1,L]);else if(Y.value){const I=document.createTextNode(Y.value);r.XfaText.shouldBuildText(G)&&R.push(I),L.append(I)}}for(const $ of E.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))$.setAttribute("readOnly",!0);return{textDivs:R}}static update(u){const f=`matrix(${u.viewport.transform.join(",")})`;u.div.style.transform=f,u.div.hidden=!1}}e.XfaLayer=a},(s,e,n)=>{var O,g,x,T,E,R,M,$,V,X,Y,G,L,I,ee,eS,z,tS,H,nS,me,rS,Se,kg,Pe,iS,Fe,wg,ct,sS,te,aS,F,oS,W,lS,le,cS,xe,Ps,_e,Tg,Ue,Bh,qe,Uh,Nt,Wo,Pt,Cg,De,Xh,We,uS,ht,Eg,Mt,hS,et,fS,Et,Pg,Ve,zh,we,Yo;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var r=n(1),a=n(4),c=n(29),u=n(6),f=n(5);const Ge=class Ge extends a.AnnotationEditor{constructor(Ce){super({...Ce,name:"inkEditor"});ke(this,ee);ke(this,z);ke(this,H);ke(this,me);ke(this,Se);ke(this,Pe);ke(this,Fe);ke(this,ct);ke(this,te);ke(this,F);ke(this,W);ke(this,le);ke(this,xe);ke(this,_e);ke(this,Ue);ke(this,qe);ke(this,Nt);ke(this,Pt);ke(this,De);ke(this,et);ke(this,Et);ke(this,Ve);ke(this,we);ke(this,O,0);ke(this,g,0);ke(this,x,this.canvasPointermove.bind(this));ke(this,T,this.canvasPointerleave.bind(this));ke(this,E,this.canvasPointerup.bind(this));ke(this,R,this.canvasPointerdown.bind(this));ke(this,M,new Path2D);ke(this,$,!1);ke(this,V,!1);ke(this,X,!1);ke(this,Y,null);ke(this,G,0);ke(this,L,0);ke(this,I,null);this.color=Ce.color||null,this.thickness=Ce.thickness||null,this.opacity=Ce.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ce){a.AnnotationEditor.initialize(Ce,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ce,Ot){switch(Ce){case r.AnnotationEditorParamsType.INK_THICKNESS:Ge._defaultThickness=Ot;break;case r.AnnotationEditorParamsType.INK_COLOR:Ge._defaultColor=Ot;break;case r.AnnotationEditorParamsType.INK_OPACITY:Ge._defaultOpacity=Ot/100;break}}updateParams(Ce,Ot){switch(Ce){case r.AnnotationEditorParamsType.INK_THICKNESS:Re(this,ee,eS).call(this,Ot);break;case r.AnnotationEditorParamsType.INK_COLOR:Re(this,z,tS).call(this,Ot);break;case r.AnnotationEditorParamsType.INK_OPACITY:Re(this,H,nS).call(this,Ot);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,Ge._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,Ge._defaultColor||a.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ge._defaultOpacity*100)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ge._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||Ge._defaultColor||a.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Ge._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Re(this,Ue,Bh).call(this),Re(this,qe,Uh).call(this)),this.isAttachedToDOM||(this.parent.add(this),Re(this,Nt,Wo).call(this)),Re(this,we,Yo).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,N(this,Y).disconnect(),Ie(this,Y,null),super.remove())}setParent(Ce){!this.parent&&Ce?this._uiManager.removeShouldRescale(this):this.parent&&Ce===null&&this._uiManager.addShouldRescale(this),super.setParent(Ce)}onScaleChanging(){const[Ce,Ot]=this.parentDimensions,Qt=this.width*Ce,kt=this.height*Ot;this.setDimensions(Qt,kt)}enableEditMode(){N(this,$)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",N(this,R)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",N(this,R)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){N(this,$)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ie(this,$,!0),this.div.classList.add("disabled"),Re(this,we,Yo).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ce){this._focusEventsAllowed&&(super.focusin(Ce),this.enableEditMode())}canvasPointerdown(Ce){Ce.button!==0||!this.isInEditMode()||N(this,$)||(this.setInForeground(),Ce.preventDefault(),Ce.type!=="mouse"&&this.div.focus(),Re(this,Pe,iS).call(this,Ce.offsetX,Ce.offsetY))}canvasPointermove(Ce){Ce.preventDefault(),Re(this,Fe,wg).call(this,Ce.offsetX,Ce.offsetY)}canvasPointerup(Ce){Ce.preventDefault(),Re(this,_e,Tg).call(this,Ce)}canvasPointerleave(Ce){Re(this,_e,Tg).call(this,Ce)}get isResizable(){return!this.isEmpty()&&N(this,$)}render(){if(this.div)return this.div;let Ce,Ot;this.width&&(Ce=this.x,Ot=this.y),super.render(),a.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(rn=>{var ft;return(ft=this.div)==null?void 0:ft.setAttribute("aria-label",rn)});const[Qt,kt,$t,jt]=Re(this,me,rS).call(this);if(this.setAt(Qt,kt,0,0),this.setDims($t,jt),Re(this,Ue,Bh).call(this),this.width){const[rn,ft]=this.parentDimensions;this.setAspectRatio(this.width*rn,this.height*ft),this.setAt(Ce*rn,Ot*ft,this.width*rn,this.height*ft),Ie(this,X,!0),Re(this,Nt,Wo).call(this),this.setDims(this.width*rn,this.height*ft),Re(this,xe,Ps).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Re(this,qe,Uh).call(this),this.div}setDimensions(Ce,Ot){const Qt=Math.round(Ce),kt=Math.round(Ot);if(N(this,G)===Qt&&N(this,L)===kt)return;Ie(this,G,Qt),Ie(this,L,kt),this.canvas.style.visibility="hidden";const[$t,jt]=this.parentDimensions;this.width=Ce/$t,this.height=Ot/jt,this.fixAndSetPosition(),N(this,$)&&Re(this,Pt,Cg).call(this,Ce,Ot),Re(this,Nt,Wo).call(this),Re(this,xe,Ps).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ce,Ot,Qt){var he,be,Ee;if(Ce instanceof c.InkAnnotationElement)return null;const kt=super.deserialize(Ce,Ot,Qt);kt.thickness=Ce.thickness,kt.color=r.Util.makeHexColor(...Ce.color),kt.opacity=Ce.opacity;const[$t,jt]=kt.pageDimensions,rn=kt.width*$t,ft=kt.height*jt,Kt=kt.parentScale,Dt=Ce.thickness/2;Ie(kt,$,!0),Ie(kt,G,Math.round(rn)),Ie(kt,L,Math.round(ft));const{paths:ye,rect:B,rotation:oe}=Ce;for(let{bezier:Ze}of ye){Ze=Re(he=Ge,Mt,hS).call(he,Ze,B,oe);const rt=[];kt.paths.push(rt);let at=Kt*(Ze[0]-Dt),wt=Kt*(Ze[1]-Dt);for(let dt=2,Rt=Ze.length;dt<Rt;dt+=6){const zt=Kt*(Ze[dt]-Dt),Jt=Kt*(Ze[dt+1]-Dt),an=Kt*(Ze[dt+2]-Dt),vn=Kt*(Ze[dt+3]-Dt),En=Kt*(Ze[dt+4]-Dt),Nn=Kt*(Ze[dt+5]-Dt);rt.push([[at,wt],[zt,Jt],[an,vn],[En,Nn]]),at=En,wt=Nn}const xt=Re(this,We,uS).call(this,rt);kt.bezierPath2D.push(xt)}const q=Re(be=kt,Et,Pg).call(be);return Ie(kt,g,Math.max(a.AnnotationEditor.MIN_SIZE,q[2]-q[0])),Ie(kt,O,Math.max(a.AnnotationEditor.MIN_SIZE,q[3]-q[1])),Re(Ee=kt,Pt,Cg).call(Ee,rn,ft),kt}serialize(){if(this.isEmpty())return null;const Ce=this.getRect(0,0),Ot=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:Ot,thickness:this.thickness,opacity:this.opacity,paths:Re(this,et,fS).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ce),pageIndex:this.pageIndex,rect:Ce,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};O=new WeakMap,g=new WeakMap,x=new WeakMap,T=new WeakMap,E=new WeakMap,R=new WeakMap,M=new WeakMap,$=new WeakMap,V=new WeakMap,X=new WeakMap,Y=new WeakMap,G=new WeakMap,L=new WeakMap,I=new WeakMap,ee=new WeakSet,eS=function(Ce){const Ot=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ce,Re(this,we,Yo).call(this)},undo:()=>{this.thickness=Ot,Re(this,we,Yo).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},z=new WeakSet,tS=function(Ce){const Ot=this.color;this.addCommands({cmd:()=>{this.color=Ce,Re(this,xe,Ps).call(this)},undo:()=>{this.color=Ot,Re(this,xe,Ps).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},H=new WeakSet,nS=function(Ce){Ce/=100;const Ot=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ce,Re(this,xe,Ps).call(this)},undo:()=>{this.opacity=Ot,Re(this,xe,Ps).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},me=new WeakSet,rS=function(){const{parentRotation:Ce,parentDimensions:[Ot,Qt]}=this;switch(Ce){case 90:return[0,Qt,Qt,Ot];case 180:return[Ot,Qt,Ot,Qt];case 270:return[Ot,0,Qt,Ot];default:return[0,0,Ot,Qt]}},Se=new WeakSet,kg=function(){const{ctx:Ce,color:Ot,opacity:Qt,thickness:kt,parentScale:$t,scaleFactor:jt}=this;Ce.lineWidth=kt*$t/jt,Ce.lineCap="round",Ce.lineJoin="round",Ce.miterLimit=10,Ce.strokeStyle=`${Ot}${(0,f.opacityToHex)(Qt)}`},Pe=new WeakSet,iS=function(Ce,Ot){this.canvas.addEventListener("contextmenu",u.noContextMenu),this.canvas.addEventListener("pointerleave",N(this,T)),this.canvas.addEventListener("pointermove",N(this,x)),this.canvas.addEventListener("pointerup",N(this,E)),this.canvas.removeEventListener("pointerdown",N(this,R)),this.isEditing=!0,N(this,X)||(Ie(this,X,!0),Re(this,Nt,Wo).call(this),this.thickness||(this.thickness=Ge._defaultThickness),this.color||(this.color=Ge._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Ge._defaultOpacity)),this.currentPath.push([Ce,Ot]),Ie(this,V,!1),Re(this,Se,kg).call(this),Ie(this,I,()=>{Re(this,F,oS).call(this),N(this,I)&&window.requestAnimationFrame(N(this,I))}),window.requestAnimationFrame(N(this,I))},Fe=new WeakSet,wg=function(Ce,Ot){const[Qt,kt]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ce===Qt&&Ot===kt)return;const $t=this.currentPath;let jt=N(this,M);if($t.push([Ce,Ot]),Ie(this,V,!0),$t.length<=2){jt.moveTo(...$t[0]),jt.lineTo(Ce,Ot);return}$t.length===3&&(Ie(this,M,jt=new Path2D),jt.moveTo(...$t[0])),Re(this,W,lS).call(this,jt,...$t.at(-3),...$t.at(-2),Ce,Ot)},ct=new WeakSet,sS=function(){if(this.currentPath.length===0)return;const Ce=this.currentPath.at(-1);N(this,M).lineTo(...Ce)},te=new WeakSet,aS=function(Ce,Ot){Ie(this,I,null),Ce=Math.min(Math.max(Ce,0),this.canvas.width),Ot=Math.min(Math.max(Ot,0),this.canvas.height),Re(this,Fe,wg).call(this,Ce,Ot),Re(this,ct,sS).call(this);let Qt;if(this.currentPath.length!==1)Qt=Re(this,le,cS).call(this);else{const ft=[Ce,Ot];Qt=[[ft,ft.slice(),ft.slice(),ft]]}const kt=N(this,M),$t=this.currentPath;this.currentPath=[],Ie(this,M,new Path2D);const jt=()=>{this.allRawPaths.push($t),this.paths.push(Qt),this.bezierPath2D.push(kt),this.rebuild()},rn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Re(this,Ue,Bh).call(this),Re(this,qe,Uh).call(this)),Re(this,we,Yo).call(this))};this.addCommands({cmd:jt,undo:rn,mustExec:!0})},F=new WeakSet,oS=function(){if(!N(this,V))return;Ie(this,V,!1);const Ce=Math.ceil(this.thickness*this.parentScale),Ot=this.currentPath.slice(-3),Qt=Ot.map(jt=>jt[0]),kt=Ot.map(jt=>jt[1]);Math.min(...Qt)-Ce,Math.max(...Qt)+Ce,Math.min(...kt)-Ce,Math.max(...kt)+Ce;const{ctx:$t}=this;$t.save(),$t.clearRect(0,0,this.canvas.width,this.canvas.height);for(const jt of this.bezierPath2D)$t.stroke(jt);$t.stroke(N(this,M)),$t.restore()},W=new WeakSet,lS=function(Ce,Ot,Qt,kt,$t,jt,rn){const ft=(Ot+kt)/2,Kt=(Qt+$t)/2,Dt=(kt+jt)/2,ye=($t+rn)/2;Ce.bezierCurveTo(ft+2*(kt-ft)/3,Kt+2*($t-Kt)/3,Dt+2*(kt-Dt)/3,ye+2*($t-ye)/3,Dt,ye)},le=new WeakSet,cS=function(){const Ce=this.currentPath;if(Ce.length<=2)return[[Ce[0],Ce[0],Ce.at(-1),Ce.at(-1)]];const Ot=[];let Qt,[kt,$t]=Ce[0];for(Qt=1;Qt<Ce.length-2;Qt++){const[B,oe]=Ce[Qt],[q,he]=Ce[Qt+1],be=(B+q)/2,Ee=(oe+he)/2,Ze=[kt+2*(B-kt)/3,$t+2*(oe-$t)/3],rt=[be+2*(B-be)/3,Ee+2*(oe-Ee)/3];Ot.push([[kt,$t],Ze,rt,[be,Ee]]),[kt,$t]=[be,Ee]}const[jt,rn]=Ce[Qt],[ft,Kt]=Ce[Qt+1],Dt=[kt+2*(jt-kt)/3,$t+2*(rn-$t)/3],ye=[ft+2*(jt-ft)/3,Kt+2*(rn-Kt)/3];return Ot.push([[kt,$t],Dt,ye,[ft,Kt]]),Ot},xe=new WeakSet,Ps=function(){if(this.isEmpty()){Re(this,De,Xh).call(this);return}Re(this,Se,kg).call(this);const{canvas:Ce,ctx:Ot}=this;Ot.setTransform(1,0,0,1,0,0),Ot.clearRect(0,0,Ce.width,Ce.height),Re(this,De,Xh).call(this);for(const Qt of this.bezierPath2D)Ot.stroke(Qt)},_e=new WeakSet,Tg=function(Ce){this.canvas.removeEventListener("pointerleave",N(this,T)),this.canvas.removeEventListener("pointermove",N(this,x)),this.canvas.removeEventListener("pointerup",N(this,E)),this.canvas.addEventListener("pointerdown",N(this,R)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",u.noContextMenu)},10),Re(this,te,aS).call(this,Ce.offsetX,Ce.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ue=new WeakSet,Bh=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",a.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ce=>{var Ot;return(Ot=this.canvas)==null?void 0:Ot.setAttribute("aria-label",Ce)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},qe=new WeakSet,Uh=function(){Ie(this,Y,new ResizeObserver(Ce=>{const Ot=Ce[0].contentRect;Ot.width&&Ot.height&&this.setDimensions(Ot.width,Ot.height)})),N(this,Y).observe(this.div)},Nt=new WeakSet,Wo=function(){if(!N(this,X))return;const[Ce,Ot]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ce),this.canvas.height=Math.ceil(this.height*Ot),Re(this,De,Xh).call(this)},Pt=new WeakSet,Cg=function(Ce,Ot){const Qt=Re(this,Ve,zh).call(this),kt=(Ce-Qt)/N(this,g),$t=(Ot-Qt)/N(this,O);this.scaleFactor=Math.min(kt,$t)},De=new WeakSet,Xh=function(){const Ce=Re(this,Ve,zh).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ce,this.translationY*this.scaleFactor+Ce)},We=new WeakSet,uS=function(Ce){const Ot=new Path2D;for(let Qt=0,kt=Ce.length;Qt<kt;Qt++){const[$t,jt,rn,ft]=Ce[Qt];Qt===0&&Ot.moveTo(...$t),Ot.bezierCurveTo(jt[0],jt[1],rn[0],rn[1],ft[0],ft[1])}return Ot},ht=new WeakSet,Eg=function(Ce,Ot,Qt){const[kt,$t,jt,rn]=Ot;switch(Qt){case 0:for(let ft=0,Kt=Ce.length;ft<Kt;ft+=2)Ce[ft]+=kt,Ce[ft+1]=rn-Ce[ft+1];break;case 90:for(let ft=0,Kt=Ce.length;ft<Kt;ft+=2){const Dt=Ce[ft];Ce[ft]=Ce[ft+1]+kt,Ce[ft+1]=Dt+$t}break;case 180:for(let ft=0,Kt=Ce.length;ft<Kt;ft+=2)Ce[ft]=jt-Ce[ft],Ce[ft+1]+=$t;break;case 270:for(let ft=0,Kt=Ce.length;ft<Kt;ft+=2){const Dt=Ce[ft];Ce[ft]=jt-Ce[ft+1],Ce[ft+1]=rn-Dt}break;default:throw new Error("Invalid rotation")}return Ce},Mt=new WeakSet,hS=function(Ce,Ot,Qt){const[kt,$t,jt,rn]=Ot;switch(Qt){case 0:for(let ft=0,Kt=Ce.length;ft<Kt;ft+=2)Ce[ft]-=kt,Ce[ft+1]=rn-Ce[ft+1];break;case 90:for(let ft=0,Kt=Ce.length;ft<Kt;ft+=2){const Dt=Ce[ft];Ce[ft]=Ce[ft+1]-$t,Ce[ft+1]=Dt-kt}break;case 180:for(let ft=0,Kt=Ce.length;ft<Kt;ft+=2)Ce[ft]=jt-Ce[ft],Ce[ft+1]-=$t;break;case 270:for(let ft=0,Kt=Ce.length;ft<Kt;ft+=2){const Dt=Ce[ft];Ce[ft]=rn-Ce[ft+1],Ce[ft+1]=jt-Dt}break;default:throw new Error("Invalid rotation")}return Ce},et=new WeakSet,fS=function(Ce,Ot,Qt,kt){var Kt,Dt;const $t=[],jt=this.thickness/2,rn=Ce*Ot+jt,ft=Ce*Qt+jt;for(const ye of this.paths){const B=[],oe=[];for(let q=0,he=ye.length;q<he;q++){const[be,Ee,Ze,rt]=ye[q],at=Ce*be[0]+rn,wt=Ce*be[1]+ft,xt=Ce*Ee[0]+rn,dt=Ce*Ee[1]+ft,Rt=Ce*Ze[0]+rn,zt=Ce*Ze[1]+ft,Jt=Ce*rt[0]+rn,an=Ce*rt[1]+ft;q===0&&(B.push(at,wt),oe.push(at,wt)),B.push(xt,dt,Rt,zt,Jt,an),oe.push(xt,dt),q===he-1&&oe.push(Jt,an)}$t.push({bezier:Re(Kt=Ge,ht,Eg).call(Kt,B,kt,this.rotation),points:Re(Dt=Ge,ht,Eg).call(Dt,oe,kt,this.rotation)})}return $t},Et=new WeakSet,Pg=function(){let Ce=1/0,Ot=-1/0,Qt=1/0,kt=-1/0;for(const $t of this.paths)for(const[jt,rn,ft,Kt]of $t){const Dt=r.Util.bezierBoundingBox(...jt,...rn,...ft,...Kt);Ce=Math.min(Ce,Dt[0]),Qt=Math.min(Qt,Dt[1]),Ot=Math.max(Ot,Dt[2]),kt=Math.max(kt,Dt[3])}return[Ce,Qt,Ot,kt]},Ve=new WeakSet,zh=function(){return N(this,$)?Math.ceil(this.thickness*this.parentScale):0},we=new WeakSet,Yo=function(Ce=!1){if(this.isEmpty())return;if(!N(this,$)){Re(this,xe,Ps).call(this);return}const Ot=Re(this,Et,Pg).call(this),Qt=Re(this,Ve,zh).call(this);Ie(this,g,Math.max(a.AnnotationEditor.MIN_SIZE,Ot[2]-Ot[0])),Ie(this,O,Math.max(a.AnnotationEditor.MIN_SIZE,Ot[3]-Ot[1]));const kt=Math.ceil(Qt+N(this,g)*this.scaleFactor),$t=Math.ceil(Qt+N(this,O)*this.scaleFactor),[jt,rn]=this.parentDimensions;this.width=kt/jt,this.height=$t/rn,this.setAspectRatio(kt,$t);const ft=this.translationX,Kt=this.translationY;this.translationX=-Ot[0],this.translationY=-Ot[1],Re(this,Nt,Wo).call(this),Re(this,xe,Ps).call(this),Ie(this,G,kt),Ie(this,L,$t),this.setDims(kt,$t);const Dt=Ce?Qt/this.scaleFactor/2:0;this.translate(ft-this.translationX-Dt,Kt-this.translationY-Dt)},ke(Ge,We),ke(Ge,ht),ke(Ge,Mt),Fn(Ge,"_defaultColor",null),Fn(Ge,"_defaultOpacity",1),Fn(Ge,"_defaultThickness",1),Fn(Ge,"_type","ink");let d=Ge;e.InkEditor=d},(s,e,n)=>{var d,O,g,x,T,E,R,M,$,V,X,_c,G,Dc,I,qh,ne,Ag,ae,dS,fe,pS,se,Rg,Ae,Zh,de,mS;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var r=n(1),a=n(4),c=n(6),u=n(29);const Ke=class Ke extends a.AnnotationEditor{constructor(te){super({...te,name:"stampEditor"});ke(this,X);ke(this,G);ke(this,I);ke(this,ne);ke(this,ae);ke(this,fe);ke(this,se);ke(this,Ae);ke(this,de);ke(this,d,null);ke(this,O,null);ke(this,g,null);ke(this,x,null);ke(this,T,null);ke(this,E,null);ke(this,R,null);ke(this,M,null);ke(this,$,!1);ke(this,V,!1);Ie(this,x,te.bitmapUrl),Ie(this,T,te.bitmapFile)}static initialize(te){a.AnnotationEditor.initialize(te)}static get supportedTypes(){const te=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,r.shadow)(this,"supportedTypes",te.map(D=>`image/${D}`))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(te){return this.supportedTypes.includes(te)}static paste(te,D){D.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:te.getAsFile()})}remove(){var te,D;N(this,O)&&(Ie(this,d,null),this._uiManager.imageManager.deleteId(N(this,O)),(te=N(this,E))==null||te.remove(),Ie(this,E,null),(D=N(this,R))==null||D.disconnect(),Ie(this,R,null)),super.remove()}rebuild(){if(!this.parent){N(this,O)&&Re(this,I,qh).call(this);return}super.rebuild(),this.div!==null&&(N(this,O)&&Re(this,I,qh).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(N(this,g)||N(this,d)||N(this,x)||N(this,T))}get isResizable(){return!0}render(){if(this.div)return this.div;let te,D;if(this.width&&(te=this.x,D=this.y),super.render(),this.div.hidden=!0,N(this,d)?Re(this,ne,Ag).call(this):Re(this,I,qh).call(this),this.width){const[F,j]=this.parentDimensions;this.setAt(te*F,D*j,this.width*F,this.height*j)}return this.div}static deserialize(te,D,F){if(te instanceof u.StampAnnotationElement)return null;const j=super.deserialize(te,D,F),{rect:W,bitmapUrl:K,bitmapId:le,isSvg:pe,accessibilityData:xe}=te;le&&F.imageManager.isValidId(le)?Ie(j,O,le):Ie(j,x,K),Ie(j,$,pe);const[$e,_e]=j.pageDimensions;return j.width=(W[2]-W[0])/$e,j.height=(W[3]-W[1])/_e,xe&&(j.altTextData=xe),j}serialize(te=!1,D=null){if(this.isEmpty())return null;const F={annotationType:r.AnnotationEditorType.STAMP,bitmapId:N(this,O),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:N(this,$),structTreeParentId:this._structTreeParentId};if(te)return F.bitmapUrl=Re(this,Ae,Zh).call(this,!0),F.accessibilityData=this.altTextData,F;const{decorative:j,altText:W}=this.altTextData;if(!j&&W&&(F.accessibilityData={type:"Figure",alt:W}),D===null)return F;D.stamps||(D.stamps=new Map);const K=N(this,$)?(F.rect[2]-F.rect[0])*(F.rect[3]-F.rect[1]):null;if(!D.stamps.has(N(this,O)))D.stamps.set(N(this,O),{area:K,serialized:F}),F.bitmap=Re(this,Ae,Zh).call(this,!1);else if(N(this,$)){const le=D.stamps.get(N(this,O));K>le.area&&(le.area=K,le.serialized.bitmap.close(),le.serialized.bitmap=Re(this,Ae,Zh).call(this,!1))}return F}};d=new WeakMap,O=new WeakMap,g=new WeakMap,x=new WeakMap,T=new WeakMap,E=new WeakMap,R=new WeakMap,M=new WeakMap,$=new WeakMap,V=new WeakMap,X=new WeakSet,_c=function(te,D=!1){if(!te){this.remove();return}Ie(this,d,te.bitmap),D||(Ie(this,O,te.id),Ie(this,$,te.isSvg)),Re(this,ne,Ag).call(this)},G=new WeakSet,Dc=function(){Ie(this,g,null),this._uiManager.enableWaiting(!1),N(this,E)&&this.div.focus()},I=new WeakSet,qh=function(){if(N(this,O)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(N(this,O)).then(D=>Re(this,X,_c).call(this,D,!0)).finally(()=>Re(this,G,Dc).call(this));return}if(N(this,x)){const D=N(this,x);Ie(this,x,null),this._uiManager.enableWaiting(!0),Ie(this,g,this._uiManager.imageManager.getFromUrl(D).then(F=>Re(this,X,_c).call(this,F)).finally(()=>Re(this,G,Dc).call(this)));return}if(N(this,T)){const D=N(this,T);Ie(this,T,null),this._uiManager.enableWaiting(!0),Ie(this,g,this._uiManager.imageManager.getFromFile(D).then(F=>Re(this,X,_c).call(this,F)).finally(()=>Re(this,G,Dc).call(this)));return}const te=document.createElement("input");te.type="file",te.accept=Ke.supportedTypesStr,Ie(this,g,new Promise(D=>{te.addEventListener("change",async()=>{if(!te.files||te.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const F=await this._uiManager.imageManager.getFromFile(te.files[0]);Re(this,X,_c).call(this,F)}D()}),te.addEventListener("cancel",()=>{this.remove(),D()})}).finally(()=>Re(this,G,Dc).call(this))),te.click()},ne=new WeakSet,Ag=function(){const{div:te}=this;let{width:D,height:F}=N(this,d);const[j,W]=this.pageDimensions,K=.75;if(this.width)D=this.width*j,F=this.height*W;else if(D>K*j||F>K*W){const $e=Math.min(K*j/D,K*W/F);D*=$e,F*=$e}const[le,pe]=this.parentDimensions;this.setDims(D*le/j,F*pe/W),this._uiManager.enableWaiting(!1);const xe=Ie(this,E,document.createElement("canvas"));te.append(xe),te.hidden=!1,Re(this,se,Rg).call(this,D,F),Re(this,de,mS).call(this),N(this,V)||(this.parent.addUndoableEditor(this),Ie(this,V,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},ae=new WeakSet,dS=function(te,D){var K;const[F,j]=this.parentDimensions;this.width=te/F,this.height=D/j,this.setDims(te,D),(K=this._initialOptions)!=null&&K.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,N(this,M)!==null&&clearTimeout(N(this,M)),Ie(this,M,setTimeout(()=>{Ie(this,M,null),Re(this,se,Rg).call(this,te,D)},200))},fe=new WeakSet,pS=function(te,D){const{width:F,height:j}=N(this,d);let W=F,K=j,le=N(this,d);for(;W>2*te||K>2*D;){const pe=W,xe=K;W>2*te&&(W=W>=16384?Math.floor(W/2)-1:Math.ceil(W/2)),K>2*D&&(K=K>=16384?Math.floor(K/2)-1:Math.ceil(K/2));const $e=new OffscreenCanvas(W,K);$e.getContext("2d").drawImage(le,0,0,pe,xe,0,0,W,K),le=$e.transferToImageBitmap()}return le},se=new WeakSet,Rg=function(te,D){te=Math.ceil(te),D=Math.ceil(D);const F=N(this,E);if(!F||F.width===te&&F.height===D)return;F.width=te,F.height=D;const j=N(this,$)?N(this,d):Re(this,fe,pS).call(this,te,D),W=F.getContext("2d");W.filter=this._uiManager.hcmFilter,W.drawImage(j,0,0,j.width,j.height,0,0,te,D)},Ae=new WeakSet,Zh=function(te){if(te){if(N(this,$)){const j=this._uiManager.imageManager.getSvgUrl(N(this,O));if(j)return j}const D=document.createElement("canvas");return{width:D.width,height:D.height}=N(this,d),D.getContext("2d").drawImage(N(this,d),0,0),D.toDataURL()}if(N(this,$)){const[D,F]=this.pageDimensions,j=Math.round(this.width*D*c.PixelsPerInch.PDF_TO_CSS_UNITS),W=Math.round(this.height*F*c.PixelsPerInch.PDF_TO_CSS_UNITS),K=new OffscreenCanvas(j,W);return K.getContext("2d").drawImage(N(this,d),0,0,N(this,d).width,N(this,d).height,0,0,j,W),K.transferToImageBitmap()}return structuredClone(N(this,d))},de=new WeakSet,mS=function(){Ie(this,R,new ResizeObserver(te=>{const D=te[0].contentRect;D.width&&D.height&&Re(this,ae,dS).call(this,D.width,D.height)})),N(this,R).observe(this.div)},Fn(Ke,"_type","stamp");let f=Ke;e.StampEditor=f}],__webpack_module_cache__={};function __w_pdfjs_require__(s){var e=__webpack_module_cache__[s];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[s]={exports:{}};return __webpack_modules__[s](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var s=__webpack_exports__;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(s,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(s,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(s,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(s,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return u.AnnotationEditorUIManager}}),Object.defineProperty(s,"AnnotationLayer",{enumerable:!0,get:function(){return f.AnnotationLayer}}),Object.defineProperty(s,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(s,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(s,"DOMSVGFactory",{enumerable:!0,get:function(){return r.DOMSVGFactory}}),Object.defineProperty(s,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(s,"GlobalWorkerOptions",{enumerable:!0,get:function(){return d.GlobalWorkerOptions}}),Object.defineProperty(s,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(s,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(s,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(s,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(s,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(s,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(s,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(s,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(s,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(s,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(s,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(s,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(s,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(s,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(s,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(s,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(s,"XfaLayer",{enumerable:!0,get:function(){return O.XfaLayer}}),Object.defineProperty(s,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(s,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(s,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(s,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(s,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(s,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(s,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(s,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(s,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(s,"noContextMenu",{enumerable:!0,get:function(){return r.noContextMenu}}),Object.defineProperty(s,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(s,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(s,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(s,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(s,"updateTextLayer",{enumerable:!0,get:function(){return a.updateTextLayer}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return n.version}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),a=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),u=__w_pdfjs_require__(5),f=__w_pdfjs_require__(29),d=__w_pdfjs_require__(14),O=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;pdfExports.GlobalWorkerOptions.workerSrc=new URL(""+new URL("pdf.worker-e3f005b2.js",import.meta.url).href,self.location).toString();const PDFViewer=({projectId:s,refreshTrigger:e=0,compilationStatus:n="idle"})=>{const r=reactExports.useRef(null),[a,c]=reactExports.useState(null),[u,f]=reactExports.useState(1),[d,O]=reactExports.useState(0),[g,x]=reactExports.useState(1),[T,E]=reactExports.useState(!1),[R,M]=reactExports.useState(null),$=async()=>{if(s)try{E(!0),M(null);const I=await window.electronAPI.projectOutputPath({projectId:s,file:"main.pdf"});if(console.log("Loading PDF from:",I),!(await fetch(I)).ok)throw new Error("PDF file not found");const z=await pdfExports.getDocument(I).promise;c(z),O(z.numPages),f(1),console.log("PDF loaded successfully:",z.numPages,"pages")}catch(I){console.error("Error loading PDF:",I),M("PDF not found. Compile your LaTeX project first.")}finally{E(!1)}};if(!s)return jsxDevRuntimeExports.jsxDEV("div",{className:"h-full flex flex-col bg-white border-l border-gray-200",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:jsxDevRuntimeExports.jsxDEV("h3",{className:"text-sm font-medium text-gray-900",children:"PDF Preview"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:66,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:65,columnNumber:9},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex-1 flex items-center justify-center bg-gray-100",children:jsxDevRuntimeExports.jsxDEV("div",{className:"text-center text-gray-500",children:[jsxDevRuntimeExports.jsxDEV("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:71,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:70,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("p",{className:"text-lg font-medium",children:"No project selected"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:73,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("p",{className:"text-sm",children:"Open a project to view PDF preview"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:74,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:69,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:68,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:64,columnNumber:7},globalThis);const V=async I=>{if(!(!a||!r.current))try{const ee=await a.getPage(I),ne=ee.getViewport({scale:g}),z=r.current,ae=z.getContext("2d");if(!ae)return;z.height=ne.height,z.width=ne.width,ae.clearRect(0,0,z.width,z.height);const H={canvasContext:ae,viewport:ne};await ee.render(H).promise,console.log(`Rendered page ${I} at scale ${g} (${ne.width}x${ne.height})`)}catch(ee){console.error("Error rendering page:",ee),M("Failed to render PDF page")}};reactExports.useEffect(()=>{$()},[s]),reactExports.useEffect(()=>{e>0&&s&&(console.log("PDF refresh triggered by compilation"),$())},[e,s]),reactExports.useEffect(()=>{console.log(`Scale changed to ${g}, pdfDoc exists: ${!!a}, currentPage: ${u}`),a&&u&&V(u)},[a,u,g]),reactExports.useEffect(()=>{const I=setInterval(()=>{!T&&!R&&s&&$()},1e4);return()=>clearInterval(I)},[s,T,R]);const X=I=>{I>=1&&I<=d&&f(I)},Y=()=>{const I=Math.min(g+.25,3);console.log(`Zoom in: ${g} -> ${I}`),x(I)},G=()=>{const I=Math.max(g-.25,.25);console.log(`Zoom out: ${g} -> ${I}`),x(I)},L=()=>{console.log(`Reset zoom: ${g} -> 1.0`),x(1)};return jsxDevRuntimeExports.jsxDEV("div",{className:"h-full flex flex-col bg-white border-l border-gray-200",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[jsxDevRuntimeExports.jsxDEV("h3",{className:"text-sm font-medium text-gray-900",children:"PDF Preview"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:173,columnNumber:11},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2",children:[n==="compiling"&&jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center text-xs text-blue-600",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"animate-spin h-3 w-3 border border-blue-600 border-t-transparent rounded-full mr-1"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:178,columnNumber:17},globalThis),"Compiling..."]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:177,columnNumber:15},globalThis),n==="success"&&jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center text-xs text-green-600",children:[jsxDevRuntimeExports.jsxDEV("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:jsxDevRuntimeExports.jsxDEV("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:185,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:184,columnNumber:17},globalThis),"Compiled"]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:183,columnNumber:15},globalThis),n==="error"&&jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center text-xs text-red-600",children:[jsxDevRuntimeExports.jsxDEV("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:jsxDevRuntimeExports.jsxDEV("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:193,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:192,columnNumber:17},globalThis),"Error"]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:191,columnNumber:15},globalThis),T&&jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center text-xs text-blue-600",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"animate-spin h-3 w-3 border border-blue-600 border-t-transparent rounded-full mr-1"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:200,columnNumber:17},globalThis),"Refreshing..."]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:199,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:$,disabled:T,className:"p-1 rounded hover:bg-gray-100 text-gray-500 hover:text-gray-700 disabled:opacity-50",title:"Refresh PDF",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:211,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:210,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:204,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:174,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:172,columnNumber:9},globalThis),a&&jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2",children:[jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>X(u-1),disabled:u<=1,className:"p-1 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:227,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:226,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:221,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("span",{className:"text-gray-600",children:[u," / ",d]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:231,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>X(u+1),disabled:u>=d,className:"p-1 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:241,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:240,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:235,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:220,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-1",children:[jsxDevRuntimeExports.jsxDEV("button",{onClick:G,className:"p-1 rounded hover:bg-gray-100 text-gray-600",title:"Zoom Out",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:254,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:253,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:248,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("span",{className:"text-xs text-gray-500 w-12 text-center",children:[Math.round(g*100),"%"]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:258,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:Y,className:"p-1 rounded hover:bg-gray-100 text-gray-600",title:"Zoom In",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:268,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:267,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:262,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:L,className:"p-1 rounded hover:bg-gray-100 text-gray-600 text-xs",title:"Reset Zoom",children:"1:1"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:272,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:247,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:219,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:171,columnNumber:7},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex-1 bg-gray-100",children:jsxDevRuntimeExports.jsxDEV("div",{className:"h-full overflow-auto p-4",children:[T&&jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center justify-center h-full",children:jsxDevRuntimeExports.jsxDEV("div",{className:"text-center",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"animate-spin h-8 w-8 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-2"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:290,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("p",{className:"text-gray-600",children:"Loading PDF..."},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:291,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:289,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:288,columnNumber:13},globalThis),R&&jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center justify-center h-full",children:jsxDevRuntimeExports.jsxDEV("div",{className:"text-center max-w-md",children:[jsxDevRuntimeExports.jsxDEV("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:300,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:299,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("p",{className:"text-gray-600 mb-2",children:R},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:302,columnNumber:17},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:$,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Try Again"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:303,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:298,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:297,columnNumber:13},globalThis),a&&!T&&!R&&jsxDevRuntimeExports.jsxDEV("div",{className:"w-max mx-auto",children:jsxDevRuntimeExports.jsxDEV("canvas",{ref:r,className:"shadow-lg border border-gray-300 bg-white block",style:{display:"block"}},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:315,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:314,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:286,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:285,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/PDFViewer.tsx",lineNumber:169,columnNumber:5},globalThis)},LogPanel=({logs:s,isCompiling:e,onClose:n})=>{const r=reactExports.useRef(null);reactExports.useEffect(()=>{r.current&&(r.current.scrollTop=r.current.scrollHeight)},[s]);const a=(c,u)=>{let f="text-green-400";return c.includes("ERROR")||c.includes("Error")||c.includes("error")?f="text-red-400":c.includes("WARNING")||c.includes("Warning")||c.includes("warning")?f="text-yellow-400":c.includes("INFO")||c.includes("Info")?f="text-blue-400":(c.includes("SUCCESS")||c.includes("Success"))&&(f="text-green-400"),jsxDevRuntimeExports.jsxDEV("div",{className:`${f} text-xs leading-relaxed`,children:c},u,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:34,columnNumber:7},globalThis)};return jsxDevRuntimeExports.jsxDEV("div",{className:"h-48 bg-gray-900 border-t border-gray-200 flex flex-col",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2",children:[jsxDevRuntimeExports.jsxDEV("h3",{className:"text-sm font-medium text-white",children:"Compilation Logs"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:45,columnNumber:11},globalThis),e&&jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2 text-blue-400",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"animate-spin h-3 w-3 border border-blue-400 border-t-transparent rounded-full"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:48,columnNumber:15},globalThis),jsxDevRuntimeExports.jsxDEV("span",{className:"text-xs",children:"Compiling..."},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:49,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:47,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:44,columnNumber:9},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2",children:[jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>{r.current&&(r.current.scrollTop=r.current.scrollHeight)},className:"p-1 rounded hover:bg-gray-700 text-gray-400 hover:text-white",title:"Scroll to bottom",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:65,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:64,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:55,columnNumber:11},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>{console.log("Clear logs")},className:"p-1 rounded hover:bg-gray-700 text-gray-400 hover:text-white",title:"Clear logs",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:78,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:77,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:69,columnNumber:11},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:n,className:"p-1 rounded hover:bg-gray-700 text-gray-400 hover:text-white",title:"Close logs",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:88,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:87,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:82,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:54,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:43,columnNumber:7},globalThis),jsxDevRuntimeExports.jsxDEV("div",{ref:r,className:"flex-1 overflow-y-auto p-4 font-mono text-sm bg-gray-900",children:s.length===0?jsxDevRuntimeExports.jsxDEV("div",{className:"text-gray-500 text-center py-8",children:"No logs yet. Compile your project to see output here."},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:100,columnNumber:11},globalThis):jsxDevRuntimeExports.jsxDEV("div",{className:"space-y-1",children:[s.map((c,u)=>a(c,u)),e&&jsxDevRuntimeExports.jsxDEV("div",{className:"text-blue-400 text-xs animate-pulse",children:" Compilation in progress..."},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:107,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:104,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:95,columnNumber:7},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"px-4 py-1 bg-gray-800 border-t border-gray-700",children:jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[jsxDevRuntimeExports.jsxDEV("span",{children:[s.length," log lines"]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:118,columnNumber:11},globalThis),jsxDevRuntimeExports.jsxDEV("span",{children:e?"Compiling...":"Ready"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:119,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:117,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:116,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/LogPanel.tsx",lineNumber:41,columnNumber:5},globalThis)},CollapsibleSidebar=({isVisible:s,onToggle:e,children:n,width:r="w-64"})=>jsxDevRuntimeExports.jsxDEV(jsxDevRuntimeExports.Fragment,{children:jsxDevRuntimeExports.jsxDEV("div",{className:`${s?r:"w-0"} bg-gray-50 border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out overflow-hidden`,children:n},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/CollapsibleSidebar.tsx",lineNumber:19,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/CollapsibleSidebar.tsx",lineNumber:17,columnNumber:5},globalThis),SidebarToggle=({isVisible:s,onToggle:e,className:n=""})=>{const a=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0?"B":"Ctrl+B";return jsxDevRuntimeExports.jsxDEV("button",{onClick:e,className:`p-2 rounded hover:bg-gray-100 transition-colors duration-150 ${n}`,title:`${s?"Hide":"Show"} File Explorer (${a})`,children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s?jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/CollapsibleSidebar.tsx",lineNumber:59,columnNumber:11},globalThis):jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/CollapsibleSidebar.tsx",lineNumber:67,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/CollapsibleSidebar.tsx",lineNumber:51,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/CollapsibleSidebar.tsx",lineNumber:46,columnNumber:5},globalThis)},Topbar=({project:s,isCompiling:e,onCompile:n,onToggleLog:r,onMockCompile:a,showSidebar:c,onToggleSidebar:u,onBack:f,queueState:d,isAutoCompileEnabled:O=!1,onToggleAutoCompile:g})=>jsxDevRuntimeExports.jsxDEV("div",{className:"topbar",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-4",children:[jsxDevRuntimeExports.jsxDEV("button",{onClick:f,className:"p-2 rounded hover:bg-gray-100 transition-colors duration-150 text-gray-600",title:"Back to Projects (Esc)",children:jsxDevRuntimeExports.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxDevRuntimeExports.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:45,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:44,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:39,columnNumber:9},globalThis),jsxDevRuntimeExports.jsxDEV(SidebarToggle,{isVisible:c,onToggle:u,className:"text-gray-600"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:54,columnNumber:9},globalThis),jsxDevRuntimeExports.jsxDEV("h1",{className:"text-lg font-semibold text-gray-800",children:s.name},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:60,columnNumber:9},globalThis),d&&(d.running>0||d.pending>0)&&jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2 text-blue-600",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:65,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("span",{className:"text-sm",children:[d.running>0&&`Running: ${d.running}`,d.running>0&&d.pending>0&&", ",d.pending>0&&`Queued: ${d.pending}`]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:66,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:64,columnNumber:11},globalThis),e&&(!d||d.running===0&&d.pending===0)&&jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2 text-blue-600",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:77,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("span",{className:"text-sm",children:"Compiling..."},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:78,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:76,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:38,columnNumber:7},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"flex items-center space-x-2",children:[g&&jsxDevRuntimeExports.jsxDEV("button",{onClick:()=>{console.log("Topbar: Auto-compile button clicked, current state:",O),g()},className:`px-3 py-2 rounded text-sm font-medium transition-colors ${O?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-600 border border-gray-300 hover:bg-gray-200"}`,title:O?"Auto-compile enabled":"Auto-compile disabled",children:O?" Auto":" Manual"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:86,columnNumber:11},globalThis),a&&jsxDevRuntimeExports.jsxDEV("button",{onClick:a,className:"px-3 py-2 rounded border border-blue-300 text-blue-700 hover:bg-blue-50",children:"Mock PDF"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:103,columnNumber:11},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:n,disabled:e,className:`px-4 py-2 rounded font-medium ${e?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:e?"Compiling...":"Compile"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:111,columnNumber:9},globalThis),jsxDevRuntimeExports.jsxDEV("button",{onClick:r,className:"px-3 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Logs"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:123,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:83,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/Topbar.tsx",lineNumber:37,columnNumber:5},globalThis),ResizableSplitter=({left:s,right:e,defaultSplit:n=50,minLeft:r=200,minRight:a=200,className:c=""})=>{const[u,f]=reactExports.useState(n),[d,O]=reactExports.useState(!1),g=reactExports.useRef(null),x=reactExports.useCallback(R=>{R.preventDefault(),O(!0)},[]),T=reactExports.useCallback(R=>{if(!d||!g.current)return;const M=g.current.getBoundingClientRect(),$=M.width;let X=(R.clientX-M.left)/$*100;const Y=r/$*100,G=a/$*100;X=Math.max(Y,Math.min(100-G,X)),f(X)},[d,r,a]),E=reactExports.useCallback(()=>{O(!1)},[]);return reactExports.useEffect(()=>(d?(document.addEventListener("mousemove",T),document.addEventListener("mouseup",E),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",E),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",E),document.body.style.cursor="",document.body.style.userSelect=""}),[d,T,E]),jsxDevRuntimeExports.jsxDEV("div",{ref:g,className:`flex h-full ${c}`,children:[jsxDevRuntimeExports.jsxDEV("div",{style:{width:`${u}%`},className:"flex flex-col overflow-hidden",children:s},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ResizableSplitter.tsx",lineNumber:82,columnNumber:7},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:`w-1 bg-gray-300 hover:bg-blue-400 cursor-col-resize transition-colors duration-150 relative group ${d?"bg-blue-500":""}`,onMouseDown:x,children:jsxDevRuntimeExports.jsxDEV("div",{className:"absolute inset-y-0 left-0 w-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:jsxDevRuntimeExports.jsxDEV("div",{className:"w-0.5 h-8 bg-white rounded-full shadow-sm flex flex-col justify-center items-center space-y-0.5",children:[jsxDevRuntimeExports.jsxDEV("div",{className:"w-0.5 h-0.5 bg-gray-600 rounded-full"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ResizableSplitter.tsx",lineNumber:99,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"w-0.5 h-0.5 bg-gray-600 rounded-full"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ResizableSplitter.tsx",lineNumber:100,columnNumber:13},globalThis),jsxDevRuntimeExports.jsxDEV("div",{className:"w-0.5 h-0.5 bg-gray-600 rounded-full"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ResizableSplitter.tsx",lineNumber:101,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ResizableSplitter.tsx",lineNumber:98,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ResizableSplitter.tsx",lineNumber:97,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ResizableSplitter.tsx",lineNumber:90,columnNumber:7},globalThis),jsxDevRuntimeExports.jsxDEV("div",{style:{width:`${100-u}%`},className:"flex flex-col overflow-hidden",children:e},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ResizableSplitter.tsx",lineNumber:107,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/components/ResizableSplitter.tsx",lineNumber:77,columnNumber:5},globalThis)};function App(){const[s,e]=reactExports.useState(null),[n,r]=reactExports.useState([]),[a,c]=reactExports.useState([]),[u,f]=reactExports.useState(null),[d,O]=reactExports.useState(!1),[g,x]=reactExports.useState([]),[T,E]=reactExports.useState(!1),[R,M]=reactExports.useState(0),[$,V]=reactExports.useState("idle"),[X,Y]=reactExports.useState(!0),[G,L]=reactExports.useState(void 0),[I,ee]=reactExports.useState(!1);reactExports.useEffect(()=>{const D=F=>{var j,W;(F.metaKey||F.ctrlKey)&&F.key==="b"&&(F.preventDefault(),Y(K=>!K)),F.key==="Escape"&&!((W=(j=F.target)==null?void 0:j.closest)!=null&&W.call(j,".modal"))&&(F.preventDefault(),te())};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[a]),reactExports.useEffect(()=>(s&&(H(),ne()),()=>{s&&z()}),[s]),reactExports.useEffect(()=>{const D=(F,j)=>{if(j.projectId===(s==null?void 0:s.id)){if(console.log("File changed:",j),H(),j.type==="change"&&!j.path.includes(".tmp")){const W=a.find(K=>K.path===j.path);W&&!W.isDirty&&window.confirm(`The file "${j.path}" has been modified externally. Would you like to reload it?`)&&ae(W.id,j.path),I&&j.path.endsWith(".tex")&&(console.log("Auto-compile check - path:",j.path,"isExternal:",j.isExternal,"enabled:",I),console.log("Auto-compile triggered by file change:",j.path),Ke())}(j.type==="unlink"||j.type==="unlinkDir")&&Pe(j.path)}};return window.electronAPI.onFileChanged(D),()=>{window.electronAPI.removeFileChangedListener(D)}},[s==null?void 0:s.id,a,I]),reactExports.useEffect(()=>()=>{const D=()=>{};window.electronAPI.removeCompileProgressListener(D)},[]);const ne=async()=>{if(s)try{await window.electronAPI.fsStartWatching({projectId:s.id})}catch(D){console.error("Failed to start file watching:",D)}},z=async()=>{if(s)try{await window.electronAPI.fsStopWatching({projectId:s.id})}catch(D){console.error("Failed to stop file watching:",D)}},ae=async(D,F)=>{if(s)try{const j=await window.electronAPI.fsReadFile({projectId:s.id,relPath:F});c(W=>W.map(K=>K.id===D?{...K,content:typeof j=="string"?j:"",isDirty:!1}:K))}catch(j){console.error("Failed to reload file:",j)}},H=async()=>{if(s)try{const D=await window.electronAPI.fsListTree({projectId:s.id});r(D)}catch(D){console.error("Failed to load file tree:",D)}},fe=async D=>{if(!s)return;const F=a.find(j=>j.path===D);if(F){f(F.id);return}try{const j=await window.electronAPI.fsReadFile({projectId:s.id,relPath:D}),W={id:Date.now().toString(),path:D,name:D.split("/").pop()||D,content:typeof j=="string"?j:"",isDirty:!1};c(K=>[...K,W]),f(W.id)}catch(j){console.error("Failed to open file:",j)}},me=D=>{const F=a.find(j=>j.id===D);if(!(F&&F.isDirty&&!window.confirm(`"${F.name}" has unsaved changes. Close anyway?`))&&(c(j=>j.filter(W=>W.id!==D)),u===D)){const j=a.filter(W=>W.id!==D);f(j.length>0?j[0].id:null)}},se=async(D,F,j=!1)=>{if(!s)return;const W=a.find(K=>K.id===D);if(W)try{await window.electronAPI.fsWriteFile({projectId:s.id,relPath:W.path,content:F,isAutosave:j}),c(K=>K.map(le=>le.id===D?{...le,content:F,isDirty:!1}:le)),console.log(`File saved: ${W.path} (autosave: ${j})`)}catch(K){console.error("Failed to save file:",K),alert("Failed to save file: "+K.message)}},Se=(D,F)=>{c(j=>j.map(W=>W.id===D?{...W,content:F,isDirty:!0}:W))},Ae=D=>{var W;console.log(`File created: ${D}`);const F=(W=D.split(".").pop())==null?void 0:W.toLowerCase();["tex","txt","md","bib","cls","sty","json"].includes(F||"")&&setTimeout(()=>fe(D),100)},Pe=D=>{console.log(`File deleted: ${D}`),c(j=>j.filter(W=>!W.path.startsWith(D)&&W.path!==D));const F=a.filter(j=>!j.path.startsWith(D)&&j.path!==D);u&&!F.find(j=>j.id===u)&&f(F.length>0?F[0].id:null)},de=(D,F)=>{console.log(`File renamed: ${D} -> ${F}`),c(j=>j.map(W=>{if(W.path===D)return{...W,path:F,name:F.split("/").pop()||F};if(W.path.startsWith(D+"/")){const K=F+W.path.substring(D.length);return{...W,path:K,name:K.split("/").pop()||K}}return W}))},Fe=async()=>{if(!(!s||d)){O(!0),V("compiling"),E(!0),x([]);try{const D=await window.electronAPI.compileRun({projectId:s.id}),F=(W,K)=>{K.jobId===D.jobId&&(K.line&&x(le=>[...le,K.line]),K.state==="success"?(O(!1),V("success"),console.log("Compilation successful - refreshing PDF"),M(le=>le+1),window.electronAPI.removeCompileProgressListener(F)):(K.state==="error"||K.state==="killed")&&(O(!1),V("error"),window.electronAPI.removeCompileProgressListener(F)),K.message&&console.log(`Compile progress: ${K.message}`))};window.electronAPI.onCompileProgress(F);const j=async()=>{try{const W=await window.electronAPI.compileStatus({jobId:D.jobId});W.state==="running"?setTimeout(j,2e3):W.state!=="success"&&(O(!1),W.state==="success"?(V("success"),M(K=>K+1)):V("error"),window.electronAPI.removeCompileProgressListener(F))}catch(W){console.error("Failed to get compile status:",W),O(!1),V("error"),window.electronAPI.removeCompileProgressListener(F)}};setTimeout(j,2e3)}catch(D){console.error("Failed to start compilation:",D),O(!1),V("error")}}},Ke=async()=>{if(!s||!I||d){console.log("Auto-compile skipped:",{hasProject:!!s,enabled:I,isCompiling:d});return}console.log("Auto-compile triggered for project:",s.id);try{O(!0),V("compiling");const D=await window.electronAPI.compileRun({projectId:s.id,isAutoCompile:!0});console.log("Auto-compile job started:",D.jobId);const F=(j,W)=>{W.jobId===D.jobId&&(W.line&&x(K=>[...K,W.line]),W.state==="success"?(O(!1),V("success"),console.log(" Auto-compilation successful - refreshing PDF"),M(K=>K+1),window.electronAPI.removeCompileProgressListener(F)):(W.state==="error"||W.state==="killed")&&(O(!1),V("error"),console.log(" Auto-compilation failed"),window.electronAPI.removeCompileProgressListener(F)))};window.electronAPI.onCompileProgress(F)}catch(D){console.error("Failed to trigger auto-compile:",D),O(!1),V("error")}},ct=()=>{const D=!I;ee(D),console.log("Auto-compile mode:",D?"enabled":"disabled"),D&&s&&(console.log("Auto-compile enabled - triggering immediate test compilation"),setTimeout(()=>{Ke()},100))},it=async()=>{if(s){V("compiling");try{await window.electronAPI.compileMock({projectId:s.id}),console.log("Mock PDF created successfully - refreshing PDF"),V("success"),M(D=>D+1)}catch(D){console.error("Failed to create mock PDF:",D),V("error")}}};a.find(D=>D.id===u);const te=async()=>{const D=a.filter(F=>F.isDirty);if(D.length>0){const F=D.map(W=>W.name).join(", ");if(!window.confirm(`You have unsaved changes in: ${F}

Are you sure you want to go back? All unsaved changes will be lost.`))return}if(s)try{await z()}catch(F){console.error("Failed to stop file watching:",F)}e(null),r([]),c([]),f(null),O(!1),x([]),E(!1),M(0),V("idle")};return s?jsxDevRuntimeExports.jsxDEV("div",{className:"h-screen flex flex-col bg-gray-100",children:[jsxDevRuntimeExports.jsxDEV(Topbar,{project:s,isCompiling:d,onCompile:Fe,onToggleLog:()=>E(!T),onMockCompile:it,showSidebar:X,onToggleSidebar:()=>Y(!X),onBack:te,queueState:G,isAutoCompileEnabled:I,onToggleAutoCompile:ct},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:532,columnNumber:7},this),jsxDevRuntimeExports.jsxDEV("div",{className:"flex-1 flex",children:[jsxDevRuntimeExports.jsxDEV(CollapsibleSidebar,{isVisible:X,onToggle:()=>Y(!X),children:jsxDevRuntimeExports.jsxDEV(FileTree,{files:n,projectId:s.id,onFileSelect:fe,onRefresh:H,onFileCreate:Ae,onFileDelete:Pe,onFileRename:de},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:551,columnNumber:11},this)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:547,columnNumber:9},this),jsxDevRuntimeExports.jsxDEV(ResizableSplitter,{left:jsxDevRuntimeExports.jsxDEV(Editor,{tabs:a,activeTabId:u,onTabSelect:f,onTabClose:me,onContentChange:Se,onSave:se},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:564,columnNumber:13},this),right:jsxDevRuntimeExports.jsxDEV(PDFViewer,{projectId:(s==null?void 0:s.id)||null,refreshTrigger:R,compilationStatus:$},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:574,columnNumber:13},this),defaultSplit:60,minLeft:300,minRight:250,className:"flex-1"},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:562,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:546,columnNumber:7},this),T&&jsxDevRuntimeExports.jsxDEV("div",{className:"log-panel",children:jsxDevRuntimeExports.jsxDEV(LogPanel,{logs:g,isCompiling:d,onClose:()=>E(!1)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:589,columnNumber:11},this)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:588,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:531,columnNumber:5},this):jsxDevRuntimeExports.jsxDEV(ProjectExplorer,{onProjectSelect:e},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/App.tsx",lineNumber:527,columnNumber:12},this)}const index="";client.createRoot(document.getElementById("root")).render(jsxDevRuntimeExports.jsxDEV(React.StrictMode,{children:jsxDevRuntimeExports.jsxDEV(App,{},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/main.tsx",lineNumber:8,columnNumber:5},globalThis)},void 0,!1,{fileName:"/Users/srijit/Documents/Projects/overleaf/src/renderer/src/main.tsx",lineNumber:7,columnNumber:3},globalThis));
